{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/plugins/longpress.js","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/plugins/longpress.js","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1645990065243}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKVnVlLmRpcmVjdGl2ZSgnbG9uZ3ByZXNzJywgewogIGJpbmQ6IGZ1bmN0aW9uIGJpbmQoZWwsIGJpbmRpbmcsIHZOb2RlKSB7CiAgICB2YXIgX2JpbmRpbmckYXJnOwoKICAgIC8vIE1ha2Ugc3VyZSBleHByZXNzaW9uIHByb3ZpZGVkIGlzIGEgZnVuY3Rpb24KICAgIGlmICh0eXBlb2YgYmluZGluZy52YWx1ZSAhPT0gJ2Z1bmN0aW9uJykgewogICAgICAvLyBGZXRjaCBuYW1lIG9mIGNvbXBvbmVudAogICAgICB2YXIgY29tcE5hbWUgPSB2Tm9kZS5jb250ZXh0Lm5hbWU7IC8vIHBhc3Mgd2FybmluZyB0byBjb25zb2xlCgogICAgICB2YXIgd2FybiA9ICJbbG9uZ3ByZXNzOl0gcHJvdmlkZWQgZXhwcmVzc2lvbiAnIi5jb25jYXQoYmluZGluZy5leHByZXNzaW9uLCAiJyBpcyBub3QgYSBmdW5jdGlvbiwgYnV0IGhhcyB0byBiZSIpOwoKICAgICAgaWYgKGNvbXBOYW1lKSB7CiAgICAgICAgd2FybiArPSAiIEZvdW5kIGluIGNvbXBvbmVudCAnIi5jb25jYXQoY29tcE5hbWUsICInICIpOwogICAgICB9CgogICAgICBjb25zb2xlLndhcm4od2Fybik7CiAgICB9CgogICAgdmFyIGRlYm91bmNlVGltZSA9IHBhcnNlSW50KChfYmluZGluZyRhcmcgPSBiaW5kaW5nLmFyZykgIT09IG51bGwgJiYgX2JpbmRpbmckYXJnICE9PSB2b2lkIDAgPyBfYmluZGluZyRhcmcgOiAxMDAwKTsgLy8gUnVuIEZ1bmN0aW9uCgogICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiBoYW5kbGVyKGUpIHsKICAgICAgYmluZGluZy52YWx1ZShlKTsKICAgIH07IC8vIERlZmluZSB2YXJpYWJsZQoKCiAgICB2YXIgcHJlc3NUaW1lciA9IG51bGw7IC8vIERlZmluZSBmdW50aW9uIGhhbmRsZXJzCiAgICAvLyBDcmVhdGUgdGltZW91dCAoIHJ1biBmdW5jdGlvbiBhZnRlciAxcyApCgogICAgdmFyIGJlZm9yZSA9IG51bGw7CgogICAgdmFyIHN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQoZSkgewogICAgICBpZiAoZS50eXBlID09PSAnY2xpY2snICYmIGUuYnV0dG9uICE9PSAwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoIWUudG91Y2hlcyB8fCBlLnRvdWNoZXMubGVuZ3RoIDwgMSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAndXNlci1zZWxlY3Q6IG5vbmU7IC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7IC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7Jyk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJycpOwogICAgICB9LCBkZWJvdW5jZVRpbWUgKyAyMDApOwoKICAgICAgaWYgKHByZXNzVGltZXIgPT09IG51bGwpIHsKICAgICAgICBwcmVzc1RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTsKICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTsgLy8gUnVuIGZ1bmN0aW9uCgogICAgICAgICAgaGFuZGxlcih7CiAgICAgICAgICAgIGNsaWVudFg6IGUudG91Y2hlc1swXS5jbGllbnRYLAogICAgICAgICAgICBjbGllbnRZOiBlLnRvdWNoZXNbMF0uY2xpZW50WSwKICAgICAgICAgICAgZm9yY2U6IGUudG91Y2hlc1swXS5mb3JjZSwKICAgICAgICAgICAgaWRlbnRpZmllcjogZS50b3VjaGVzWzBdLmlkZW50aWZpZXIsCiAgICAgICAgICAgIHBhZ2VYOiBlLnRvdWNoZXNbMF0ucGFnZVgsCiAgICAgICAgICAgIHBhZ2VZOiBlLnRvdWNoZXNbMF0ucGFnZVksCiAgICAgICAgICAgIHJhZGl1c1g6IGUudG91Y2hlc1swXS5yYWRpdXNYLAogICAgICAgICAgICByYWRpdXNZOiBlLnRvdWNoZXNbMF0ucmFkaXVzWSwKICAgICAgICAgICAgcm90YXRpb25BbmdsZTogZS50b3VjaGVzWzBdLnJvdGF0aW9uQW5nbGUsCiAgICAgICAgICAgIHNjcmVlblg6IGUudG91Y2hlc1swXS5zY3JlZW5YLAogICAgICAgICAgICBzY3JlZW5ZOiBlLnRvdWNoZXNbMF0uc2NyZWVuWSwKICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KCkgewogICAgICAgICAgICAgIHJldHVybiBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0sIGRlYm91bmNlVGltZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH07IC8vIENhbmNlbCBUaW1lb3V0CgoKICAgIHZhciBjYW5jZWwgPSBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIC8vIENoZWNrIGlmIHRpbWVyIGhhcyBhIHZhbHVlIG9yIG5vdAogICAgICBpZiAocHJlc3NUaW1lciAhPT0gbnVsbCkgewogICAgICAgIGNsZWFyVGltZW91dChwcmVzc1RpbWVyKTsKICAgICAgICBwcmVzc1RpbWVyID0gbnVsbDsKCiAgICAgICAgaWYgKGJlZm9yZSkgewogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBiZWZvcmUpOwogICAgICAgIH0KICAgICAgICAvKmNvbnNvbGUubG9nKGUudHlwZSk7CiAgICAgICAgaWYgKGUudHlwZSA9PT0gInRvdWNoZW5kIiAmJiB2Tm9kZS5kYXRhLm9uLmNsaWNrKSB7CiAgICAgICAgICAgIHZOb2RlLmRhdGEub24uY2xpY2soKTsKICAgICAgICB9Ki8KCiAgICAgIH0KICAgIH07IC8vIEFkZCBFdmVudCBsaXN0ZW5lcnMKICAgIC8vIGVsLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIHN0YXJ0KTsKCgogICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHN0YXJ0KTsgLy8gQ2FuY2VsIHRpbWVvdXRzIGlmIHRoaXMgZXZlbnRzIGhhcHBlbgogICAgLy9lbC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGNhbmNlbCk7CiAgICAvL2VsLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3V0IiwgY2FuY2VsKTsKCiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBjYW5jZWwpOwogICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBjYW5jZWwpOwogICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCBjYW5jZWwpOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgY2FuY2VsKTsKICB9Cn0pOw=="},{"version":3,"sources":["/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/plugins/longpress.js"],"names":["Vue","directive","bind","el","binding","vNode","value","compName","context","name","warn","expression","console","debounceTime","parseInt","arg","handler","e","pressTimer","before","start","type","button","touches","length","document","querySelector","setAttribute","setTimeout","preventDefault","stopPropagation","stopImmediatePropagation","cancelBubble","clientX","clientY","force","identifier","pageX","pageY","radiusX","radiusY","rotationAngle","screenX","screenY","cancel","clearTimeout","addEventListener"],"mappings":"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","sourcesContent":["import Vue from 'vue'\n\nVue.directive('longpress', {\n    bind: function (el, binding, vNode) {\n        // Make sure expression provided is a function\n        if (typeof binding.value !== 'function') {\n            // Fetch name of component\n            const compName = vNode.context.name\n            // pass warning to console\n            let warn = `[longpress:] provided expression '${binding.expression}' is not a function, but has to be`\n            if (compName) { warn += ` Found in component '${compName}' ` }\n\n            console.warn(warn)\n        }\n\n        const debounceTime = parseInt(binding.arg ?? 1000)\n\n        // Run Function\n        const handler = (e) => {\n            binding.value(e)\n        }\n\n        // Define variable\n        let pressTimer = null\n\n        // Define funtion handlers\n        // Create timeout ( run function after 1s )\n        let before = null\n        let start = (e) => {\n            if ((e.type === 'click' && e.button !== 0)) {\n                return\n            }\n\n            if (!e.touches || e.touches.length < 1) {\n                return\n            }\n\n            document.querySelector('body').setAttribute('style', 'user-select: none; -webkit-user-select: none; -moz-user-select: none;')\n\n            setTimeout(() => {\n                document.querySelector('body').setAttribute('style', '')\n            }, debounceTime + 200)\n\n            if (pressTimer === null) {\n                pressTimer = setTimeout(() => {\n                    e.preventDefault()\n                    e.stopPropagation()\n                    e.stopImmediatePropagation()\n                    e.cancelBubble = true\n                    // Run function\n                    handler({\n                        clientX: e.touches[0].clientX,\n                        clientY: e.touches[0].clientY,\n                        force: e.touches[0].force,\n                        identifier: e.touches[0].identifier,\n                        pageX: e.touches[0].pageX,\n                        pageY: e.touches[0].pageY,\n                        radiusX: e.touches[0].radiusX,\n                        radiusY: e.touches[0].radiusY,\n                        rotationAngle: e.touches[0].rotationAngle,\n                        screenX: e.touches[0].screenX,\n                        screenY: e.touches[0].screenY,\n                        preventDefault: () => e.preventDefault()\n                    })\n                }, debounceTime)\n            }\n            return false\n        }\n\n        // Cancel Timeout\n        let cancel = () => {\n            // Check if timer has a value or not\n            if (pressTimer !== null) {\n                clearTimeout(pressTimer)\n                pressTimer = null\n                if (before) {\n                    document.querySelector('body').setAttribute('style', before)\n                }\n                /*console.log(e.type);\n                if (e.type === \"touchend\" && vNode.data.on.click) {\n                    vNode.data.on.click();\n                }*/\n            }\n        }\n\n        // Add Event listeners\n        // el.addEventListener(\"mousedown\", start);\n        el.addEventListener('touchstart', start)\n        // Cancel timeouts if this events happen\n        //el.addEventListener(\"click\", cancel);\n        //el.addEventListener(\"mouseout\", cancel);\n        el.addEventListener('touchmove', cancel)\n        el.addEventListener('touchend', cancel)\n        el.addEventListener('touchcancel', cancel)\n\n        document.addEventListener('scroll', cancel)\n    }\n})\n"]}]}