{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js??ref--15-2!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/gui/gcodehistory/actions.ts","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/gui/gcodehistory/actions.ts","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1645990065243}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvYW5uZS1zb3BoaWVyb3kvRG93bmxvYWRzL01haW5zYWlsL21haW5zYWlsLW1haW50ZW5hbmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvYW5uZS1zb3BoaWVyb3kvRG93bmxvYWRzL01haW5zYWlsL21haW5zYWlsLW1haW50ZW5hbmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHsgbWF4R2NvZGVIaXN0b3J5IH0gZnJvbSAnQC9zdG9yZS92YXJpYWJsZXMnOwpleHBvcnQgdmFyIGFjdGlvbnMgPSB7CiAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KF9yZWYpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIGNvbW1pdCgncmVzZXQnKTsKICB9LAogIHVwbG9hZDogZnVuY3Rpb24gdXBsb2FkKF9yZWYyKSB7CiAgICB2YXIgc3RhdGUgPSBfcmVmMi5zdGF0ZTsKICAgIFZ1ZS4kc29ja2V0LmVtaXQoJ3NlcnZlci5kYXRhYmFzZS5wb3N0X2l0ZW0nLCB7CiAgICAgIG5hbWVzcGFjZTogJ21haW5zYWlsJywKICAgICAga2V5OiAnZ2NvZGVoaXN0b3J5LmVudHJpZXMnLAogICAgICB2YWx1ZTogc3RhdGUuZW50cmllcwogICAgfSk7CiAgfSwKICBhZGRUb0hpc3Rvcnk6IGZ1bmN0aW9uIGFkZFRvSGlzdG9yeShfcmVmMywgcGF5bG9hZCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGNvbW1pdCwgZGlzcGF0Y2gsIHN0YXRlLCBuZXdIaXN0b3J5OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWYzLmRpc3BhdGNoLCBzdGF0ZSA9IF9yZWYzLnN0YXRlOwogICAgICAgICAgICAgIG5ld0hpc3RvcnkgPSBfdG9Db25zdW1hYmxlQXJyYXkoc3RhdGUuZW50cmllcyk7CiAgICAgICAgICAgICAgbmV3SGlzdG9yeS5wdXNoKHBheWxvYWQpOwoKICAgICAgICAgICAgICB3aGlsZSAobmV3SGlzdG9yeS5sZW5ndGggPiBtYXhHY29kZUhpc3RvcnkpIHsKICAgICAgICAgICAgICAgIG5ld0hpc3Rvcnkuc3BsaWNlKDAsIDEpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIGNvbW1pdCgndXBkYXRlSGlzdG9yeScsIG5ld0hpc3RvcnkpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgndXBsb2FkJyk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/gui/gcodehistory/actions.ts"],"names":[],"mappings":";;;;;;AAEA,OAAO,GAAP,MAAgB,KAAhB;AAEA,SAAQ,eAAR,QAA8B,mBAA9B;AAEA,OAAO,IAAM,OAAO,GAAgD;AAChE,EAAA,KADgE,uBAChD;AAAA,QAAR,MAAQ,QAAR,MAAQ;AACZ,IAAA,MAAM,CAAC,OAAD,CAAN;AACH,GAH+D;AAKhE,EAAA,MALgE,yBAKhD;AAAA,QAAP,KAAO,SAAP,KAAO;AACZ,IAAA,GAAG,CAAC,OAAJ,CAAY,IAAZ,CAAiB,2BAAjB,EAA8C;AAAE,MAAA,SAAS,EAAE,UAAb;AAAyB,MAAA,GAAG,EAAE,sBAA9B;AAAsD,MAAA,KAAK,EAAE,KAAK,CAAC;AAAnE,KAA9C;AACH,GAP+D;AAS1D,EAAA,YAT0D,+BAShB,OATgB,EAST;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAlC,cAAA,MAAkC,SAAlC,MAAkC,EAA1B,QAA0B,SAA1B,QAA0B,EAAhB,KAAgB,SAAhB,KAAgB;AAC7C,cAAA,UAD6C,sBAC5B,KAAK,CAAC,OADsB;AAEnD,cAAA,UAAU,CAAC,IAAX,CAAgB,OAAhB;;AAEA,qBAAO,UAAU,CAAC,MAAX,GAAoB,eAA3B;AAA4C,gBAAA,UAAU,CAAC,MAAX,CAAkB,CAAlB,EAAqB,CAArB;AAA5C;;AAJmD;AAAA,qBAM7C,MAAM,CAAC,eAAD,EAAkB,UAAlB,CANuC;;AAAA;AAAA;AAAA,qBAO7C,QAAQ,CAAC,QAAD,CAPqC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQtD;AAjB+D,CAA7D","sourcesContent":["import { ActionTree } from 'vuex'\nimport {RootState} from '@/store/types'\nimport Vue from 'vue'\nimport {GuiGcodehistoryState} from '@/store/gui/gcodehistory/types'\nimport {maxGcodeHistory} from '@/store/variables'\n\nexport const actions: ActionTree<GuiGcodehistoryState, RootState> = {\n    reset({ commit }) {\n        commit('reset')\n    },\n\n    upload({ state }) {\n        Vue.$socket.emit('server.database.post_item', { namespace: 'mainsail', key: 'gcodehistory.entries', value: state.entries })\n    },\n\n    async addToHistory({ commit, dispatch, state }, payload) {\n        const newHistory = [...state.entries]\n        newHistory.push(payload)\n\n        while (newHistory.length > maxGcodeHistory) newHistory.splice(0, 1)\n\n        await commit('updateHistory', newHistory)\n        await dispatch('upload')\n    }\n}"],"sourceRoot":""}]}