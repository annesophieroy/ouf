{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js??ref--15-2!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/gui/macros/mutations.ts","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/gui/macros/mutations.ts","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1645990065243}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvYW5uZS1zb3BoaWVyb3kvRG93bmxvYWRzL01haW5zYWlsL21haW5zYWlsLW1haW50ZW5hbmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9hbm5lLXNvcGhpZXJveS9Eb3dubG9hZHMvTWFpbnNhaWwvbWFpbnNhaWwtbWFpbnRlbmFuY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCB7IGdldERlZmF1bHRTdGF0ZSB9IGZyb20gJy4vaW5kZXgnOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmV4cG9ydCB2YXIgbXV0YXRpb25zID0gewogIHJlc2V0OiBmdW5jdGlvbiByZXNldChzdGF0ZSkgewogICAgT2JqZWN0LmFzc2lnbihzdGF0ZSwgZ2V0RGVmYXVsdFN0YXRlKCkpOwogIH0sCiAgZ3JvdXBTdG9yZTogZnVuY3Rpb24gZ3JvdXBTdG9yZShzdGF0ZSwgcGF5bG9hZCkgewogICAgVnVlLnNldChzdGF0ZS5tYWNyb2dyb3VwcywgcGF5bG9hZC5pZCwgcGF5bG9hZC52YWx1ZXMpOwogIH0sCiAgZ3JvdXBVcGRhdGU6IGZ1bmN0aW9uIGdyb3VwVXBkYXRlKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBpZiAocGF5bG9hZC5pZCBpbiBzdGF0ZS5tYWNyb2dyb3VwcykgewogICAgICB2YXIgcHJlc2V0ID0gX29iamVjdFNwcmVhZCh7fSwgc3RhdGUubWFjcm9ncm91cHNbcGF5bG9hZC5pZF0pOwoKICAgICAgT2JqZWN0LmFzc2lnbihwcmVzZXQsIHBheWxvYWQudmFsdWVzKTsKICAgICAgVnVlLnNldChzdGF0ZS5tYWNyb2dyb3VwcywgcGF5bG9hZC5pZCwgcHJlc2V0KTsKICAgIH0KICB9LAogIGFkZE1hY3JvVG9NYWNyb2dyb3VwOiBmdW5jdGlvbiBhZGRNYWNyb1RvTWFjcm9ncm91cChzdGF0ZSwgcGF5bG9hZCkgewogICAgdmFyIF9zdGF0ZSRtYWNyb2dyb3VwcyRwYSwgX3N0YXRlJG1hY3JvZ3JvdXBzJHBhMjsKCiAgICB2YXIgbWFjcm9zID0gX3RvQ29uc3VtYWJsZUFycmF5KChfc3RhdGUkbWFjcm9ncm91cHMkcGEgPSAoX3N0YXRlJG1hY3JvZ3JvdXBzJHBhMiA9IHN0YXRlLm1hY3JvZ3JvdXBzW3BheWxvYWQuaWRdKSA9PT0gbnVsbCB8fCBfc3RhdGUkbWFjcm9ncm91cHMkcGEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc3RhdGUkbWFjcm9ncm91cHMkcGEyLm1hY3JvcykgIT09IG51bGwgJiYgX3N0YXRlJG1hY3JvZ3JvdXBzJHBhICE9PSB2b2lkIDAgPyBfc3RhdGUkbWFjcm9ncm91cHMkcGEgOiBbXSk7CgogICAgdmFyIG5ld01hY3JvID0gewogICAgICBwb3M6IDEsCiAgICAgIG5hbWU6IHBheWxvYWQubWFjcm8sCiAgICAgIGNvbG9yOiAnZ3JvdXAnLAogICAgICBzaG93SW5TdGFuZGJ5OiB0cnVlLAogICAgICBzaG93SW5QcmludGluZzogdHJ1ZSwKICAgICAgc2hvd0luUGF1c2U6IHRydWUKICAgIH07CiAgICBpZiAobWFjcm9zLmxlbmd0aCkgbmV3TWFjcm8ucG9zID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgX3RvQ29uc3VtYWJsZUFycmF5KG1hY3Jvcy5tYXAoZnVuY3Rpb24gKG0pIHsKICAgICAgcmV0dXJuIG0ucG9zOwogICAgfSkpKSArIDE7CiAgICBtYWNyb3MucHVzaChuZXdNYWNybyk7CiAgICBWdWUuc2V0KHN0YXRlLm1hY3JvZ3JvdXBzW3BheWxvYWQuaWRdLCAnbWFjcm9zJywgbWFjcm9zKTsKICB9LAogIHVwZGF0ZU1hY3JvRnJvbU1hY3JvZ3JvdXA6IGZ1bmN0aW9uIHVwZGF0ZU1hY3JvRnJvbU1hY3JvZ3JvdXAoc3RhdGUsIHBheWxvYWQpIHsKICAgIHZhciBfc3RhdGUkbWFjcm9ncm91cHMkcGEzLCBfc3RhdGUkbWFjcm9ncm91cHMkcGE0OwoKICAgIHZhciBtYWNyb3MgPSBfdG9Db25zdW1hYmxlQXJyYXkoKF9zdGF0ZSRtYWNyb2dyb3VwcyRwYTMgPSAoX3N0YXRlJG1hY3JvZ3JvdXBzJHBhNCA9IHN0YXRlLm1hY3JvZ3JvdXBzW3BheWxvYWQuaWRdKSA9PT0gbnVsbCB8fCBfc3RhdGUkbWFjcm9ncm91cHMkcGE0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc3RhdGUkbWFjcm9ncm91cHMkcGE0Lm1hY3JvcykgIT09IG51bGwgJiYgX3N0YXRlJG1hY3JvZ3JvdXBzJHBhMyAhPT0gdm9pZCAwID8gX3N0YXRlJG1hY3JvZ3JvdXBzJHBhMyA6IFtdKTsKCiAgICB2YXIgdXBkYXRlTWFjcm9JbmRleCA9IG1hY3Jvcy5maW5kSW5kZXgoZnVuY3Rpb24gKG0pIHsKICAgICAgcmV0dXJuIG0ubmFtZSA9PT0gcGF5bG9hZC5tYWNybzsKICAgIH0pOwoKICAgIGlmICh1cGRhdGVNYWNyb0luZGV4ICE9PSAtMSkgewogICAgICB2YXIgbWFjcm8gPSBtYWNyb3NbdXBkYXRlTWFjcm9JbmRleF07IC8vIEB0cy1pZ25vcmUKCiAgICAgIG1hY3JvW3BheWxvYWQub3B0aW9uXSA9IHBheWxvYWQudmFsdWU7CiAgICAgIFZ1ZS5zZXQoc3RhdGUubWFjcm9ncm91cHNbcGF5bG9hZC5pZF0sICdtYWNyb3MnLCBtYWNyb3MpOwogICAgfQogIH0sCiAgcmVtb3ZlTWFjcm9Gcm9tTWFjcm9ncm91cDogZnVuY3Rpb24gcmVtb3ZlTWFjcm9Gcm9tTWFjcm9ncm91cChzdGF0ZSwgcGF5bG9hZCkgewogICAgdmFyIF9zdGF0ZSRtYWNyb2dyb3VwcyRwYTUsIF9zdGF0ZSRtYWNyb2dyb3VwcyRwYTY7CgogICAgdmFyIG1hY3JvcyA9IF90b0NvbnN1bWFibGVBcnJheSgoX3N0YXRlJG1hY3JvZ3JvdXBzJHBhNSA9IChfc3RhdGUkbWFjcm9ncm91cHMkcGE2ID0gc3RhdGUubWFjcm9ncm91cHNbcGF5bG9hZC5pZF0pID09PSBudWxsIHx8IF9zdGF0ZSRtYWNyb2dyb3VwcyRwYTYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zdGF0ZSRtYWNyb2dyb3VwcyRwYTYubWFjcm9zKSAhPT0gbnVsbCAmJiBfc3RhdGUkbWFjcm9ncm91cHMkcGE1ICE9PSB2b2lkIDAgPyBfc3RhdGUkbWFjcm9ncm91cHMkcGE1IDogW10pOwoKICAgIHZhciBkZWxldGVkTWFjcm9JbmRleCA9IG1hY3Jvcy5maW5kSW5kZXgoZnVuY3Rpb24gKG0pIHsKICAgICAgcmV0dXJuIG0ubmFtZSA9PT0gcGF5bG9hZC5tYWNybzsKICAgIH0pOwoKICAgIGlmIChkZWxldGVkTWFjcm9JbmRleCAhPT0gLTEpIHsKICAgICAgdmFyIG9sZFBvcyA9IG1hY3Jvc1tkZWxldGVkTWFjcm9JbmRleF0ucG9zOwogICAgICBtYWNyb3Muc3BsaWNlKGRlbGV0ZWRNYWNyb0luZGV4LCAxKTsKICAgICAgbWFjcm9zLmZpbHRlcihmdW5jdGlvbiAobWFjcm8pIHsKICAgICAgICByZXR1cm4gbWFjcm8ucG9zID4gb2xkUG9zOwogICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChtYWNybykgewogICAgICAgIG1hY3JvLnBvcyA9IG1hY3JvLnBvcyAtIDE7CiAgICAgIH0pOwogICAgfQoKICAgIFZ1ZS5zZXQoc3RhdGUubWFjcm9ncm91cHNbcGF5bG9hZC5pZF0sICdtYWNyb3MnLCBtYWNyb3MpOwogIH0sCiAgZ3JvdXBEZWxldGU6IGZ1bmN0aW9uIGdyb3VwRGVsZXRlKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBpZiAocGF5bG9hZCBpbiBzdGF0ZS5tYWNyb2dyb3VwcykgewogICAgICBWdWUuZGVsZXRlKHN0YXRlLm1hY3JvZ3JvdXBzLCBwYXlsb2FkKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/gui/macros/mutations.ts"],"names":[],"mappings":"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","sourcesContent":["import {getDefaultState} from './index'\nimport {MutationTree} from 'vuex'\nimport Vue from 'vue'\nimport {GuiMacrosState, GuiMacrosStateMacrogroupMacro} from '@/store/gui/macros/types'\n\nexport const mutations: MutationTree<GuiMacrosState> = {\n    reset(state) {\n        Object.assign(state, getDefaultState())\n    },\n\n    groupStore(state, payload) {\n        Vue.set(state.macrogroups, payload.id, payload.values)\n    },\n\n    groupUpdate(state, payload) {\n        if (payload.id in state.macrogroups) {\n            const preset = {...state.macrogroups[payload.id]}\n            Object.assign(preset, payload.values)\n\n            Vue.set(state.macrogroups, payload.id, preset)\n        }\n    },\n\n    addMacroToMacrogroup(state, payload) {\n        const macros = [...state.macrogroups[payload.id]?.macros ?? []]\n\n        const newMacro: GuiMacrosStateMacrogroupMacro = {\n            pos: 1,\n            name: payload.macro,\n            color: 'group',\n            showInStandby: true,\n            showInPrinting: true,\n            showInPause: true\n        }\n\n        if (macros.length) newMacro.pos = Math.max(...macros.map((m: GuiMacrosStateMacrogroupMacro) => m.pos)) + 1\n        macros.push(newMacro)\n\n        Vue.set(state.macrogroups[payload.id], 'macros', macros)\n    },\n\n    updateMacroFromMacrogroup(state, payload) {\n        const macros = [...state.macrogroups[payload.id]?.macros ?? []]\n        const updateMacroIndex = macros.findIndex((m: GuiMacrosStateMacrogroupMacro) => m.name === payload.macro)\n        if (updateMacroIndex !== -1) {\n            const macro = macros[updateMacroIndex]\n            // @ts-ignore\n            macro[payload.option] = payload.value\n            Vue.set(state.macrogroups[payload.id], 'macros', macros)\n        }\n    },\n\n    removeMacroFromMacrogroup(state, payload) {\n        const macros = [...state.macrogroups[payload.id]?.macros ?? []]\n        const deletedMacroIndex = macros.findIndex((m: GuiMacrosStateMacrogroupMacro) => m.name === payload.macro)\n        if (deletedMacroIndex !== -1) {\n            const oldPos = macros[deletedMacroIndex].pos\n            macros.splice(deletedMacroIndex, 1)\n\n            macros.filter((macro: GuiMacrosStateMacrogroupMacro) => macro.pos > oldPos).forEach((macro: GuiMacrosStateMacrogroupMacro) => {\n                macro.pos = macro.pos - 1\n            })\n        }\n\n        Vue.set(state.macrogroups[payload.id], 'macros', macros)\n    },\n\n    groupDelete(state, payload) {\n        if (payload in state.macrogroups) {\n            Vue.delete(state.macrogroups, payload)\n        }\n    },\n}"],"sourceRoot":""}]}