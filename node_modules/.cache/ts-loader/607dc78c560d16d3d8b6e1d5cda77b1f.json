{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/thread-loader/dist/cjs.js!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js??ref--15-3!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/printer/tempHistory/actions.ts","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/printer/tempHistory/actions.ts","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/thread-loader/dist/cjs.js","mtime":1645990064416},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1645990065243}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hbm5lLXNvcGhpZXJveS9Eb3dubG9hZHMvTWFpbnNhaWwvbWFpbnNhaWwtbWFpbnRlbmFuY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvYW5uZS1zb3BoaWVyb3kvRG93bmxvYWRzL01haW5zYWlsL21haW5zYWlsLW1haW50ZW5hbmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvYW5uZS1zb3BoaWVyb3kvRG93bmxvYWRzL01haW5zYWlsL21haW5zYWlsLW1haW50ZW5hbmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCB7IGNvbG9yQXJyYXksIGNvbG9yQ2hhbWJlciwgY29sb3JIZWF0ZXJCZWQsIGRhdGFzZXRJbnRlcnZhbCwgZGF0YXNldFR5cGVzLCBkYXRhc2V0VHlwZXNJblBlcmNlbnRzIH0gZnJvbSAnQC9zdG9yZS92YXJpYWJsZXMnOwpleHBvcnQgdmFyIGFjdGlvbnMgPSB7CiAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KF9yZWYpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdCwKICAgICAgICBzdGF0ZSA9IF9yZWYuc3RhdGU7CiAgICBpZiAoc3RhdGUudXBkYXRlU291cmNlSW50ZXJ2YWwgIT09IG51bGwpIGNsZWFySW50ZXJ2YWwoc3RhdGUudXBkYXRlU291cmNlSW50ZXJ2YWwpOwogICAgY29tbWl0KCdyZXNldCcpOwogIH0sCiAgaW5pdDogZnVuY3Rpb24gaW5pdChfcmVmMiwgcGF5bG9hZCkgewogICAgdmFyIF9yb290R2V0dGVycyRwcmludGVyOwoKICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQsCiAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmMi5yb290R2V0dGVycywKICAgICAgICBkaXNwYXRjaCA9IF9yZWYyLmRpc3BhdGNoOwogICAgd2luZG93LmNvbnNvbGUuZGVidWcoJ2luaXQgcHJpbnRlci90ZW1wSGlzdG9yeScpOwogICAgZGlzcGF0Y2goJ3Jlc2V0Jyk7CiAgICB2YXIgbm93ID0gbmV3IERhdGUoKTsKICAgIHZhciBhbGxTZW5zb3JzID0gKF9yb290R2V0dGVycyRwcmludGVyID0gcm9vdEdldHRlcnNbJ3ByaW50ZXIvZ2V0QXZhaWxhYmxlU2Vuc29ycyddKSAhPT0gbnVsbCAmJiBfcm9vdEdldHRlcnMkcHJpbnRlciAhPT0gdm9pZCAwID8gX3Jvb3RHZXR0ZXJzJHByaW50ZXIgOiBbXTsKICAgIHZhciBtYXhIaXN0b3J5ID0gcm9vdEdldHRlcnNbJ3NlcnZlci9nZXRDb25maWcnXSgnc2VydmVyJywgJ3RlbXBlcmF0dXJlX3N0b3JlX3NpemUnKSB8fCAxMjAwOwoKICAgIGlmIChwYXlsb2FkICE9PSB1bmRlZmluZWQpIHsKICAgICAgKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoJ3JlcXVlc3RQYXJhbXMnIGluIHBheWxvYWQpIGRlbGV0ZSBwYXlsb2FkLnJlcXVlc3RQYXJhbXM7CiAgICAgICAgdmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyhwYXlsb2FkKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCgogICAgICAgIHZhciBpbXBvcnREYXRhID0ge307CiAgICAgICAgb2JqZWN0S2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgIGlmIChhbGxTZW5zb3JzLmluY2x1ZGVzKGtleSkpIHsKICAgICAgICAgICAgdmFyIGRhdGFzZXRWYWx1ZXMgPSBwYXlsb2FkW2tleV07CiAgICAgICAgICAgIGRhdGFzZXRUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhc2V0S2V5KSB7CiAgICAgICAgICAgICAgaWYgKGRhdGFzZXRLZXkgKyAncycgaW4gZGF0YXNldFZhbHVlcykgewogICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IG1heEhpc3RvcnkgLSBkYXRhc2V0VmFsdWVzW2RhdGFzZXRLZXkgKyAncyddLmxlbmd0aDsKICAgICAgICAgICAgICAgIGRhdGFzZXRWYWx1ZXNbZGF0YXNldEtleSArICdzJ10gPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KEFycmF5LmZyb20oewogICAgICAgICAgICAgICAgICBsZW5ndGg6IGxlbmd0aAogICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgICAgIH0pKSwgX3RvQ29uc3VtYWJsZUFycmF5KGRhdGFzZXRWYWx1ZXNbZGF0YXNldEtleSArICdzJ10pKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpbXBvcnREYXRhW2tleV0gPSBfb2JqZWN0U3ByZWFkKHt9LCBkYXRhc2V0VmFsdWVzKTsKICAgICAgICAgIH0gZWxzZSBkZWxldGUgcGF5bG9hZFtrZXldOwogICAgICAgIH0pOyAvL2FkZCBtaXNzaW5nIGhlYXRlcnMvc2Vuc29ycwoKICAgICAgICBhbGxTZW5zb3JzLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgaWYgKCEoa2V5IGluIHBheWxvYWQpKSB7CiAgICAgICAgICAgIHZhciBrZXlTcGxpdHMgPSBrZXkuc3BsaXQoJyAnKTsKICAgICAgICAgICAgdmFyIHNlbnNvclR5cGUgPSBrZXlTcGxpdHNbMF07CiAgICAgICAgICAgIHZhciBhZGRWYWx1ZXMgPSB7CiAgICAgICAgICAgICAgdGVtcGVyYXR1cmVzOiBBcnJheShtYXhIaXN0b3J5KS5maWxsKDApCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBpZiAoWydoZWF0ZXJfYmVkJywgJ2hlYXRlcl9nZW5lcmljJ10uaW5jbHVkZXMoc2Vuc29yVHlwZSkgfHwgc2Vuc29yVHlwZS5zdGFydHNXaXRoKCdleHRydWRlcicpKSB7CiAgICAgICAgICAgICAgYWRkVmFsdWVzLnRhcmdldHMgPSBBcnJheShtYXhIaXN0b3J5KS5maWxsKDApOwogICAgICAgICAgICAgIGFkZFZhbHVlcy5wb3dlciA9IEFycmF5KG1heEhpc3RvcnkpLmZpbGwoMCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoWyd0ZW1wZXJhdHVyZV9mYW4nXS5pbmNsdWRlcyhzZW5zb3JUeXBlKSkgewogICAgICAgICAgICAgIGFkZFZhbHVlcy50YXJnZXRzID0gQXJyYXkobWF4SGlzdG9yeSkuZmlsbCgwKTsKICAgICAgICAgICAgICBhZGRWYWx1ZXMuc3BlZWQgPSBBcnJheShtYXhIaXN0b3J5KS5maWxsKDApOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpbXBvcnREYXRhW2tleV0gPSBfb2JqZWN0U3ByZWFkKHt9LCBhZGRWYWx1ZXMpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHZhciB0ZW1wRGF0YXNldCA9IFtdOwoKICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpKSB7CiAgICAgICAgICB2YXIgdG1wRGF0YXNldCA9IHsKICAgICAgICAgICAgZGF0ZTogbmV3IERhdGUobm93LmdldFRpbWUoKSAtIDEwMDAgKiAobWF4SGlzdG9yeSAtIGkpKQogICAgICAgICAgfTsKICAgICAgICAgIE9iamVjdC5rZXlzKGltcG9ydERhdGEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICB2YXIgbmFtZSA9IGtleTsKICAgICAgICAgICAgaWYgKGtleS5pbmNsdWRlcygnICcpKSBuYW1lID0ga2V5LnNwbGl0KCcgJylbMV07CiAgICAgICAgICAgIGRhdGFzZXRUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyS2V5KSB7CiAgICAgICAgICAgICAgaWYgKGF0dHJLZXkgPT09ICd0ZW1wZXJhdHVyZScpIHRtcERhdGFzZXRbbmFtZV0gPSBpbXBvcnREYXRhW2tleV1bJ3RlbXBlcmF0dXJlcyddW2ldO2Vsc2UgaWYgKGF0dHJLZXkgKyAncycgaW4gaW1wb3J0RGF0YVtrZXldKSB0bXBEYXRhc2V0W25hbWUgKyAnLScgKyBhdHRyS2V5XSA9IGltcG9ydERhdGFba2V5XVthdHRyS2V5ICsgJ3MnXVtpXTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRlbXBEYXRhc2V0LnB1c2godG1wRGF0YXNldCk7CiAgICAgICAgfTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhIaXN0b3J5OyBpKyspIHsKICAgICAgICAgIF9sb29wKGkpOwogICAgICAgIH0KCiAgICAgICAgY29tbWl0KCdzZXRJbml0U291cmNlJywgdGVtcERhdGFzZXQpOwogICAgICAgIHZhciB0ZW1wRGF0YXNldEtleXMgPSBPYmplY3Qua2V5cyh0ZW1wRGF0YXNldFswXSkuZmlsdGVyKGZ1bmN0aW9uICh0bXApIHsKICAgICAgICAgIHJldHVybiB0bXAgIT09ICdkYXRlJzsKICAgICAgICB9KTsKICAgICAgICB2YXIgbWFzdGVyRGF0YXNldEtleXMgPSB0ZW1wRGF0YXNldEtleXMuZmlsdGVyKGZ1bmN0aW9uICh0bXApIHsKICAgICAgICAgIGlmICh0bXAuc3RhcnRzV2l0aCgnXycpKSByZXR1cm4gZmFsc2U7CgogICAgICAgICAgaWYgKHRtcC5sYXN0SW5kZXhPZignLScpID4gLTEpIHsKICAgICAgICAgICAgdmFyIHN1ZmZpeCA9IHRtcC5zbGljZSh0bXAubGFzdEluZGV4T2YoJy0nKSArIDEpOwogICAgICAgICAgICByZXR1cm4gIVsndGFyZ2V0JywgJ3Bvd2VyJ10uaW5jbHVkZXMoc3VmZml4KTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9KS5zb3J0KCk7CiAgICAgICAgdmFyIHNlcmllcyA9IFtdOwogICAgICAgIHZhciBjb2xvck51bWJlciA9IDA7CiAgICAgICAgbWFzdGVyRGF0YXNldEtleXMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgdmFyIGNvbG9yID0gcm9vdEdldHRlcnNbJ2d1aS9nZXREYXRhc2V0VmFsdWUnXSh7CiAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgIHR5cGU6ICdjb2xvcicKICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmICghY29sb3IpIHsKICAgICAgICAgICAgc3dpdGNoIChuYW1lKSB7CiAgICAgICAgICAgICAgY2FzZSAnaGVhdGVyX2JlZCc6CiAgICAgICAgICAgICAgICBjb2xvciA9IGNvbG9ySGVhdGVyQmVkOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ2NoYW1iZXInOgogICAgICAgICAgICAgICAgY29sb3IgPSBjb2xvckNoYW1iZXI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIGNvbG9yID0gY29sb3JBcnJheVtjb2xvck51bWJlcl07CiAgICAgICAgICAgICAgICBjb2xvck51bWJlcisrOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgc2VyaWUgPSB7CiAgICAgICAgICAgIGlkOiBzZXJpZXMubGVuZ3RoICsgMSwKICAgICAgICAgICAgY29sb3I6IGNvbG9yLAogICAgICAgICAgICB0eXBlOiAnbGluZScsCiAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgIGVuY29kZTogewogICAgICAgICAgICAgIHg6ICdkYXRlJywKICAgICAgICAgICAgICB5OiBuYW1lCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGFuaW1hdGlvbjogZmFsc2UsCiAgICAgICAgICAgIHlBeGlzSW5kZXg6IDAsCiAgICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICAgIGNvbG9yOiBjb2xvciwKICAgICAgICAgICAgICB3aWR0aDogMiwKICAgICAgICAgICAgICBvcGFjaXR5OiAwLjkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2hvd1N5bWJvbDogZmFsc2UsCiAgICAgICAgICAgIGVtcGhhc2lzOiB7CiAgICAgICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IsCiAgICAgICAgICAgICAgICB3aWR0aDogMiwKICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuOQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICAgIHNlcmllcy5wdXNoKHNlcmllKTsKICAgICAgICAgIGRhdGFzZXRUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyS2V5KSB7CiAgICAgICAgICAgIHZhciBzdWJOYW1lID0gbmFtZSArICctJyArIGF0dHJLZXk7CgogICAgICAgICAgICBpZiAodGVtcERhdGFzZXRLZXlzLmluY2x1ZGVzKHN1Yk5hbWUpKSB7CiAgICAgICAgICAgICAgdmFyIHN1YlNlcmllID0gewogICAgICAgICAgICAgICAgaWQ6IHNlcmllcy5sZW5ndGggKyAxLAogICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yLAogICAgICAgICAgICAgICAgdHlwZTogJ2xpbmUnLAogICAgICAgICAgICAgICAgbmFtZTogc3ViTmFtZSwKICAgICAgICAgICAgICAgIGVuY29kZTogewogICAgICAgICAgICAgICAgICB4OiAnZGF0ZScsCiAgICAgICAgICAgICAgICAgIHk6IHN1Yk5hbWUKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBhbmltYXRpb246IGZhbHNlLAogICAgICAgICAgICAgICAgeUF4aXNJbmRleDogMCwKICAgICAgICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IsCiAgICAgICAgICAgICAgICAgIHdpZHRoOiAyLAogICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjEKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzaG93U3ltYm9sOiBmYWxzZSwKICAgICAgICAgICAgICAgIGVtcGhhc2lzOiB7CiAgICAgICAgICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvciwKICAgICAgICAgICAgICAgICAgICB3aWR0aDogMiwKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjEKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIGlmIChhdHRyS2V5ID09PSAndGFyZ2V0JykgewogICAgICAgICAgICAgICAgc3ViU2VyaWUubGluZVN0eWxlLndpZHRoID0gMDsKICAgICAgICAgICAgICAgIHN1YlNlcmllLmVtcGhhc2lzLmxpbmVTdHlsZS53aWR0aCA9IDA7CiAgICAgICAgICAgICAgICBzdWJTZXJpZS5hcmVhU3R5bGUgPSB7CiAgICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvciwKICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC4xCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgc3ViU2VyaWUuZW1waGFzaXMuYXJlYVN0eWxlID0gewogICAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IsCiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuMQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGFzZXRUeXBlc0luUGVyY2VudHMuaW5jbHVkZXMoYXR0cktleSkpIHsKICAgICAgICAgICAgICAgIHN1YlNlcmllLnlBeGlzSW5kZXggPSAxOwogICAgICAgICAgICAgICAgc3ViU2VyaWUubGluZVN0eWxlLndpZHRoID0gMS41OwogICAgICAgICAgICAgICAgc3ViU2VyaWUubGluZVN0eWxlLm9wYWNpdHkgPSAwLjc1OwogICAgICAgICAgICAgICAgc3ViU2VyaWUubGluZVN0eWxlLnR5cGUgPSAnZG90dGVkJzsKICAgICAgICAgICAgICAgIHN1YlNlcmllLmVtcGhhc2lzLmxpbmVTdHlsZS53aWR0aCA9IDEuNTsKICAgICAgICAgICAgICAgIHN1YlNlcmllLmVtcGhhc2lzLmxpbmVTdHlsZS5vcGFjaXR5ID0gMC43NTsKICAgICAgICAgICAgICAgIHN1YlNlcmllLmVtcGhhc2lzLmxpbmVTdHlsZS50eXBlID0gJ2RvdHRlZCc7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBzZXJpZXMucHVzaChzdWJTZXJpZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIGNvbW1pdCgnc2V0SW5pdFNlcmllcycsIHNlcmllcyk7CiAgICAgICAgdmFyIHVwZGF0ZVNvdXJjZUludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgZGlzcGF0Y2goJ3VwZGF0ZVNvdXJjZScpOwogICAgICAgIH0sIGRhdGFzZXRJbnRlcnZhbCk7CiAgICAgICAgY29tbWl0KCdzZXRVcGRhdGVTb3VyY2VJbnRlcnZhbCcsIHVwZGF0ZVNvdXJjZUludGVydmFsKTsKICAgICAgfSkoKTsKICAgIH0KICB9LAogIHVwZGF0ZVNvdXJjZTogZnVuY3Rpb24gdXBkYXRlU291cmNlKF9yZWYzKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgX3Jvb3RTdGF0ZSRwcmludGVyLCBfcm9vdFN0YXRlJHByaW50ZXIkaGUsIF9yb290U3RhdGUkcHJpbnRlciRoZTI7CgogICAgICB2YXIgY29tbWl0LCByb290U3RhdGUsIHJvb3RHZXR0ZXJzLCBzdGF0ZSwgbm93LCBsYXN0RW50cnksIHNlY29uZHNCZWZvcmUsIHNlY29uZHNBZnRlciwgZGlmZiwgZGF0YTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzLmNvbW1pdCwgcm9vdFN0YXRlID0gX3JlZjMucm9vdFN0YXRlLCByb290R2V0dGVycyA9IF9yZWYzLnJvb3RHZXR0ZXJzLCBzdGF0ZSA9IF9yZWYzLnN0YXRlOwoKICAgICAgICAgICAgICBpZiAoIShyb290U3RhdGUgIT09IG51bGwgJiYgcm9vdFN0YXRlICE9PSB2b2lkIDAgJiYgKF9yb290U3RhdGUkcHJpbnRlciA9IHJvb3RTdGF0ZS5wcmludGVyKSAhPT0gbnVsbCAmJiBfcm9vdFN0YXRlJHByaW50ZXIgIT09IHZvaWQgMCAmJiAoX3Jvb3RTdGF0ZSRwcmludGVyJGhlID0gX3Jvb3RTdGF0ZSRwcmludGVyLmhlYXRlcnMpICE9PSBudWxsICYmIF9yb290U3RhdGUkcHJpbnRlciRoZSAhPT0gdm9pZCAwICYmIChfcm9vdFN0YXRlJHByaW50ZXIkaGUyID0gX3Jvb3RTdGF0ZSRwcmludGVyJGhlLmF2YWlsYWJsZV9zZW5zb3JzKSAhPT0gbnVsbCAmJiBfcm9vdFN0YXRlJHByaW50ZXIkaGUyICE9PSB2b2lkIDAgJiYgX3Jvb3RTdGF0ZSRwcmludGVyJGhlMi5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIG5vdyA9IG5ldyBEYXRlKCk7CgogICAgICAgICAgICAgIGlmICghc3RhdGUuc291cmNlLmxlbmd0aCkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBsYXN0RW50cnkgPSBzdGF0ZS5zb3VyY2Vbc3RhdGUuc291cmNlLmxlbmd0aCAtIDFdOwogICAgICAgICAgICAgIHNlY29uZHNCZWZvcmUgPSBsYXN0RW50cnkuZGF0ZS5nZXRTZWNvbmRzKCk7CiAgICAgICAgICAgICAgc2Vjb25kc0FmdGVyID0gbm93LmdldFNlY29uZHMoKTsKICAgICAgICAgICAgICBkaWZmID0gbm93LmdldFRpbWUoKSAtIGxhc3RFbnRyeS5kYXRlLmdldFRpbWUoKTsKCiAgICAgICAgICAgICAgaWYgKCEoc2Vjb25kc0JlZm9yZSA9PT0gc2Vjb25kc0FmdGVyICYmIGRpZmYgPCAxMDAwKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgIGRhdGU6IG5vdwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgcm9vdFN0YXRlLnByaW50ZXIuaGVhdGVycy5hdmFpbGFibGVfc2Vuc29ycy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgICAgIHZhciBuYW1lID0ga2V5OwogICAgICAgICAgICAgICAgaWYgKGtleS5pbmNsdWRlcygnICcpKSBuYW1lID0ga2V5LnNwbGl0KCcgJylbMV07CgogICAgICAgICAgICAgICAgaWYgKHJvb3RTdGF0ZS5wcmludGVyICYmIHJvb3RTdGF0ZS5wcmludGVyW2tleV0pIHsKICAgICAgICAgICAgICAgICAgaWYgKCd0ZW1wZXJhdHVyZScgaW4gcm9vdFN0YXRlLnByaW50ZXJba2V5XSkgZGF0YVtuYW1lXSA9IHJvb3RTdGF0ZS5wcmludGVyW2tleV0udGVtcGVyYXR1cmU7CiAgICAgICAgICAgICAgICAgIGlmICgndGFyZ2V0JyBpbiByb290U3RhdGUucHJpbnRlcltrZXldKSBkYXRhW25hbWUgKyAnLXRhcmdldCddID0gTWF0aC5yb3VuZChyb290U3RhdGUucHJpbnRlcltrZXldLnRhcmdldCAqIDEwKSAvIDEwOwogICAgICAgICAgICAgICAgICBpZiAoJ3Bvd2VyJyBpbiByb290U3RhdGUucHJpbnRlcltrZXldKSBkYXRhW25hbWUgKyAnLXBvd2VyJ10gPSBNYXRoLnJvdW5kKHJvb3RTdGF0ZS5wcmludGVyW2tleV0ucG93ZXIgKiAxMDAwKSAvIDEwMDA7CiAgICAgICAgICAgICAgICAgIGlmICgnc3BlZWQnIGluIHJvb3RTdGF0ZS5wcmludGVyW2tleV0pIGRhdGFbbmFtZSArICctc3BlZWQnXSA9IE1hdGgucm91bmQocm9vdFN0YXRlLnByaW50ZXJba2V5XS5zcGVlZCAqIDEwMDApIC8gMTAwMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgcmV0dXJuIGNvbW1pdCgnYWRkVG9Tb3VyY2UnLCB7CiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgICAgICAgICAgbWF4SGlzdG9yeTogcm9vdEdldHRlcnNbJ3NlcnZlci9nZXRDb25maWcnXSgnc2VydmVyJywgJ3RlbXBlcmF0dXJlX3N0b3JlX3NpemUnKSB8fCAxMjAwCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0KfTs="},null]}