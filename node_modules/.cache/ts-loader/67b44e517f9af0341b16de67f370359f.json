{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js??ref--15-2!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/gui/presets/getters.ts","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/gui/presets/getters.ts","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1645990065243}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2FubmUtc29waGllcm95L0Rvd25sb2Fkcy9NYWluc2FpbC9tYWluc2FpbC1tYWludGVuYW5jZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0IHsgY2FzZUluc2Vuc2l0aXZlU29ydCB9IGZyb20gJ0AvcGx1Z2lucy9oZWxwZXJzJzsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCgpleHBvcnQgdmFyIGdldHRlcnMgPSB7CiAgZ2V0Q29vbGRvd25HY29kZTogZnVuY3Rpb24gZ2V0Q29vbGRvd25HY29kZShzdGF0ZSkgewogICAgdmFyIF9zdGF0ZSRjb29sZG93bkdjb2RlOwoKICAgIHJldHVybiAoX3N0YXRlJGNvb2xkb3duR2NvZGUgPSBzdGF0ZS5jb29sZG93bkdjb2RlKSAhPT0gbnVsbCAmJiBfc3RhdGUkY29vbGRvd25HY29kZSAhPT0gdm9pZCAwID8gX3N0YXRlJGNvb2xkb3duR2NvZGUgOiAnVFVSTl9PRkZfSEVBVEVSUyc7CiAgfSwKICBnZXRQcmVzZXRzOiBmdW5jdGlvbiBnZXRQcmVzZXRzKHN0YXRlKSB7CiAgICB2YXIgcHJlc2V0cyA9IFtdOwoKICAgIGlmICgncHJlc2V0cycgaW4gc3RhdGUpIHsKICAgICAgT2JqZWN0LmtleXMoc3RhdGUucHJlc2V0cykuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHsKICAgICAgICBwcmVzZXRzLnB1c2goX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5wcmVzZXRzW2lkXSksIHt9LCB7CiAgICAgICAgICBpZDogaWQKICAgICAgICB9KSk7CiAgICAgIH0pOwogICAgfQoKICAgIHJldHVybiBjYXNlSW5zZW5zaXRpdmVTb3J0KHByZXNldHMsICduYW1lJyk7CiAgfSwKICBnZXRQcmVzZXRzRnJvbUhlYXRlcjogZnVuY3Rpb24gZ2V0UHJlc2V0c0Zyb21IZWF0ZXIoc3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICB2YXIgb3V0cHV0ID0gW107CiAgICAgIG91dHB1dC5wdXNoKHsKICAgICAgICB2YWx1ZTogMCwKICAgICAgICB0ZXh0OiAnMCDCsEMnCiAgICAgIH0pOwoKICAgICAgaWYgKCdwcmVzZXRzJyBpbiBzdGF0ZSkgewogICAgICAgIE9iamVjdC5rZXlzKHN0YXRlLnByZXNldHMpLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgICB2YXIgcHJlc2V0ID0gc3RhdGUucHJlc2V0c1tpZF07CgogICAgICAgICAgaWYgKHBheWxvYWQubmFtZSBpbiBwcmVzZXQudmFsdWVzICYmIHByZXNldC52YWx1ZXNbcGF5bG9hZC5uYW1lXS5ib29sICYmIG91dHB1dC5maW5kSW5kZXgoZnVuY3Rpb24gKGVudHJ5KSB7CiAgICAgICAgICAgIHJldHVybiBlbnRyeS52YWx1ZSA9PT0gcHJlc2V0LnZhbHVlc1twYXlsb2FkLm5hbWVdLnZhbHVlOwogICAgICAgICAgfSkgPT09IC0xKSB7CiAgICAgICAgICAgIG91dHB1dC5wdXNoKHsKICAgICAgICAgICAgICB2YWx1ZTogcHJlc2V0LnZhbHVlc1twYXlsb2FkLm5hbWVdLnZhbHVlLAogICAgICAgICAgICAgIHRleHQ6IHByZXNldC52YWx1ZXNbcGF5bG9hZC5uYW1lXS52YWx1ZSArICcgwrBDJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIG91dHB1dC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgaWYgKGEudmFsdWUgPiBiLnZhbHVlKSByZXR1cm4gLTE7CiAgICAgICAgaWYgKGEudmFsdWUgPCBiLnZhbHVlKSByZXR1cm4gMTsKICAgICAgICByZXR1cm4gMDsKICAgICAgfSk7CiAgICB9OwogIH0KfTs="},{"version":3,"sources":["/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/gui/presets/getters.ts"],"names":[],"mappings":";;;;;;;;AAEA,SAAQ,mBAAR,QAAkC,mBAAlC,C,CAEA;;AACA,OAAO,IAAM,OAAO,GAAqC;AACrD,EAAA,gBAAgB,EAAE,0BAAC,KAAD,EAAU;AAAA;;AACxB,mCAAO,KAAK,CAAC,aAAb,uEAA8B,kBAA9B;AACH,GAHoD;AAKrD,EAAA,UAAU,EAAC,oBAAC,KAAD,EAAU;AACjB,QAAM,OAAO,GAA4B,EAAzC;;AAEA,QAAI,aAAa,KAAjB,EAAwB;AACpB,MAAA,MAAM,CAAC,IAAP,CAAY,KAAK,CAAC,OAAlB,EAA2B,OAA3B,CAAmC,UAAC,EAAD,EAAe;AAC9C,QAAA,OAAO,CAAC,IAAR,iCAAiB,KAAK,CAAC,OAAN,CAAc,EAAd,CAAjB;AAAoC,UAAA,EAAE,EAAF;AAApC;AACH,OAFD;AAGH;;AAED,WAAO,mBAAmB,CAAC,OAAD,EAAU,MAAV,CAA1B;AACH,GAfoD;AAiBrD,EAAA,oBAAoB,EAAE,8BAAA,KAAK;AAAA,WAAI,UAAC,OAAD,EAA8B;AAMzD,UAAM,MAAM,GAAa,EAAzB;AAEA,MAAA,MAAM,CAAC,IAAP,CAAY;AACR,QAAA,KAAK,EAAE,CADC;AAER,QAAA,IAAI,EAAE;AAFE,OAAZ;;AAKA,UAAI,aAAa,KAAjB,EAAwB;AACpB,QAAA,MAAM,CAAC,IAAP,CAAY,KAAK,CAAC,OAAlB,EAA2B,OAA3B,CAAmC,UAAC,EAAD,EAAe;AAC9C,cAAM,MAAM,GAAG,KAAK,CAAC,OAAN,CAAc,EAAd,CAAf;;AAEA,cACI,OAAO,CAAC,IAAR,IAAgB,MAAM,CAAC,MAAvB,IACA,MAAM,CAAC,MAAP,CAAc,OAAO,CAAC,IAAtB,EAA4B,IAD5B,IAEA,MAAM,CAAC,SAAP,CAAiB,UAAC,KAAD;AAAA,mBAAmB,KAAK,CAAC,KAAN,KAAgB,MAAM,CAAC,MAAP,CAAc,OAAO,CAAC,IAAtB,EAA4B,KAA/D;AAAA,WAAjB,MAA2F,CAAC,CAHhG,EAIE;AACE,YAAA,MAAM,CAAC,IAAP,CAAY;AACR,cAAA,KAAK,EAAE,MAAM,CAAC,MAAP,CAAc,OAAO,CAAC,IAAtB,EAA4B,KAD3B;AAER,cAAA,IAAI,EAAE,MAAM,CAAC,MAAP,CAAc,OAAO,CAAC,IAAtB,EAA4B,KAA5B,GAAoC;AAFlC,aAAZ;AAIH;AACJ,SAbD;AAcH;;AAED,aAAO,MAAM,CAAC,IAAP,CAAY,UAAC,CAAD,EAAW,CAAX,EAAwB;AACvC,YAAI,CAAC,CAAC,KAAF,GAAU,CAAC,CAAC,KAAhB,EAAuB,OAAO,CAAC,CAAR;AACvB,YAAI,CAAC,CAAC,KAAF,GAAU,CAAC,CAAC,KAAhB,EAAuB,OAAO,CAAP;AAEvB,eAAO,CAAP;AACH,OALM,CAAP;AAMH,KApC0B;AAAA;AAjB0B,CAAlD","sourcesContent":["import { GetterTree } from 'vuex'\nimport {GuiPresetsState, GuiPresetsStatePreset} from '@/store/gui/presets/types'\nimport {caseInsensitiveSort} from '@/plugins/helpers'\n\n// eslint-disable-next-line\nexport const getters: GetterTree<GuiPresetsState, any> = {\n    getCooldownGcode: (state) => {\n        return state.cooldownGcode ?? 'TURN_OFF_HEATERS'\n    },\n\n    getPresets:(state) => {\n        const presets: GuiPresetsStatePreset[] = []\n\n        if ('presets' in state) {\n            Object.keys(state.presets).forEach((id: string) => {\n                presets.push({...state.presets[id], id})\n            })\n        }\n\n        return caseInsensitiveSort(presets, 'name')\n    },\n\n    getPresetsFromHeater: state => (payload: { name: string }) => {\n        interface preset {\n            value: number\n            text: string\n        }\n\n        const output: preset[] = []\n\n        output.push({\n            value: 0,\n            text: '0 °C'\n        })\n\n        if ('presets' in state) {\n            Object.keys(state.presets).forEach((id: string) => {\n                const preset = state.presets[id]\n\n                if (\n                    payload.name in preset.values &&\n                    preset.values[payload.name].bool &&\n                    output.findIndex((entry: preset) => entry.value === preset.values[payload.name].value) === -1\n                ) {\n                    output.push({\n                        value: preset.values[payload.name].value,\n                        text: preset.values[payload.name].value + ' °C'\n                    })\n                }\n            })\n        }\n\n        return output.sort((a: preset,b: preset) => {\n            if (a.value > b.value) return -1\n            if (a.value < b.value) return 1\n\n            return 0\n        })\n    },\n}"],"sourceRoot":""}]}