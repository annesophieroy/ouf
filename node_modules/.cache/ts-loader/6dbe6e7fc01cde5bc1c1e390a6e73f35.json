{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js??ref--15-2!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/TheTopbar.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/TheTopbar.vue","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1645990069130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9hbm5lLXNvcGhpZXJveS9Eb3dubG9hZHMvTWFpbnNhaWwvbWFpbnNhaWwtbWFpbnRlbmFuY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2FubmUtc29waGllcm95L0Rvd25sb2Fkcy9NYWluc2FpbC9tYWluc2FpbC1tYWludGVuYW5jZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL2FubmUtc29waGllcm95L0Rvd25sb2Fkcy9NYWluc2FpbC9tYWluc2FpbC1tYWludGVuYW5jZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9hbm5lLXNvcGhpZXJveS9Eb3dubG9hZHMvTWFpbnNhaWwvbWFpbnNhaWwtbWFpbnRlbmFuY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAiL1VzZXJzL2FubmUtc29waGllcm95L0Rvd25sb2Fkcy9NYWluc2FpbC9tYWluc2FpbC1tYWludGVuYW5jZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXNzZXJ0VGhpc0luaXRpYWxpemVkLmpzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvVXNlcnMvYW5uZS1zb3BoaWVyb3kvRG93bmxvYWRzL01haW5zYWlsL21haW5zYWlsLW1haW50ZW5hbmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cy5qcyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL1VzZXJzL2FubmUtc29waGllcm95L0Rvd25sb2Fkcy9NYWluc2FpbC9tYWluc2FpbC1tYWludGVuYW5jZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIuanMiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9hbm5lLXNvcGhpZXJveS9Eb3dubG9hZHMvTWFpbnNhaWwvbWFpbnNhaWwtbWFpbnRlbmFuY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgeyBNaXhpbnMgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IEJhc2VNaXhpbiBmcm9tICdAL2NvbXBvbmVudHMvbWl4aW5zL2Jhc2UnOwppbXBvcnQgeyB2YWxpZEdjb2RlRXh0ZW5zaW9ucyB9IGZyb20gJ0Avc3RvcmUvdmFyaWFibGVzJzsKaW1wb3J0IENvbXBvbmVudCBmcm9tICd2dWUtY2xhc3MtY29tcG9uZW50JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgZm9ybWF0RmlsZXNpemUgfSBmcm9tICdAL3BsdWdpbnMvaGVscGVycyc7CmltcG9ydCBUaGVUb3BDb3JuZXJNZW51IGZyb20gJ0AvY29tcG9uZW50cy9UaGVUb3BDb3JuZXJNZW51LnZ1ZSc7CmltcG9ydCBUaGVTZXR0aW5nc01lbnUgZnJvbSAnQC9jb21wb25lbnRzL1RoZVNldHRpbmdzTWVudS52dWUnOwppbXBvcnQgVGhlVGhyb3R0bGVkU3RhdGVzIGZyb20gJ0AvY29tcG9uZW50cy9UaGVUaHJvdHRsZWRTdGF0ZXMudnVlJzsKaW1wb3J0IFBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy91aS9QYW5lbC52dWUnOwppbXBvcnQgUHJpbnRlclNlbGVjdG9yIGZyb20gJ0AvY29tcG9uZW50cy91aS9QcmludGVyU2VsZWN0b3IudnVlJzsKaW1wb3J0IE1haW5zYWlsTG9nbyBmcm9tICdAL2NvbXBvbmVudHMvdWkvTWFpbnNhaWxMb2dvLnZ1ZSc7CmltcG9ydCB7IHRvcGJhckhlaWdodCB9IGZyb20gJ0Avc3RvcmUvdmFyaWFibGVzJzsKCnZhciBUaGVUb3BiYXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9NaXhpbnMpIHsKICBfaW5oZXJpdHMoVGhlVG9wYmFyLCBfTWl4aW5zKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihUaGVUb3BiYXIpOwoKICBmdW5jdGlvbiBUaGVUb3BiYXIoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRoZVRvcGJhcik7CgogICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgICB9CgogICAgX3RoaXMgPSBfc3VwZXIuY2FsbC5hcHBseShfc3VwZXIsIFt0aGlzXS5jb25jYXQoYXJncykpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInRvcGJhckhlaWdodCIsIHRvcGJhckhlaWdodCk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAic2hvd0VtZXJnZW5jeVN0b3BEaWFsb2ciLCBmYWxzZSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAidXBsb2FkU25hY2tiYXIiLCB7CiAgICAgIHN0YXR1czogZmFsc2UsCiAgICAgIGZpbGVuYW1lOiAnJywKICAgICAgcGVyY2VudDogMCwKICAgICAgc3BlZWQ6IDAsCiAgICAgIHRvdGFsOiAwLAogICAgICBjYW5jZWxUb2tlblNvdXJjZTogbnVsbCwKICAgICAgbGFzdFByb2dyZXNzOiB7CiAgICAgICAgdGltZTogMCwKICAgICAgICBsb2FkZWQ6IDAKICAgICAgfQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZm9ybWF0RmlsZXNpemUiLCBmb3JtYXRGaWxlc2l6ZSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiJHJlZnMiLCB2b2lkIDApOwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhUaGVUb3BiYXIsIFt7CiAgICBrZXk6ICJuYXZpRHJhd2VyIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUubmF2aURyYXdlcjsKICAgIH0sCiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdWYWwpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NldE5hdmlEcmF3ZXInLCBuZXdWYWwpOwogICAgfQogIH0sIHsKICAgIGtleTogInZhbGlkR2NvZGVFeHRlbnNpb25zIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdmFsaWRHY29kZUV4dGVuc2lvbnM7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3VycmVudFBhZ2UiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5mdWxsUGF0aDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzYXZlQ29uZmlnUGVuZGluZyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJCRzdG9yZSRzdGF0ZSRwciwgX3RoaXMkJHN0b3JlJHN0YXRlJHByMjsKCiAgICAgIHJldHVybiAoX3RoaXMkJHN0b3JlJHN0YXRlJHByID0gKF90aGlzJCRzdG9yZSRzdGF0ZSRwcjIgPSB0aGlzLiRzdG9yZS5zdGF0ZS5wcmludGVyLmNvbmZpZ2ZpbGUpID09PSBudWxsIHx8IF90aGlzJCRzdG9yZSRzdGF0ZSRwcjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRzdG9yZSRzdGF0ZSRwcjIuc2F2ZV9jb25maWdfcGVuZGluZykgIT09IG51bGwgJiYgX3RoaXMkJHN0b3JlJHN0YXRlJHByICE9PSB2b2lkIDAgPyBfdGhpcyQkc3RvcmUkc3RhdGUkcHIgOiBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwcmludGVyTmFtZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmd1aS5nZW5lcmFsLnByaW50ZXJuYW1lLmxlbmd0aCkgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmd1aS5nZW5lcmFsLnByaW50ZXJuYW1lOwogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucHJpbnRlci5ob3N0bmFtZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJib29sV2lkZU5hdkRyYXdlciIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJCRzdG9yZSRzdGF0ZSRndTsKCiAgICAgIHJldHVybiAoX3RoaXMkJHN0b3JlJHN0YXRlJGd1ID0gdGhpcy4kc3RvcmUuc3RhdGUuZ3VpLnVpU2V0dGluZ3MuYm9vbFdpZGVOYXZEcmF3ZXIpICE9PSBudWxsICYmIF90aGlzJCRzdG9yZSRzdGF0ZSRndSAhPT0gdm9pZCAwID8gX3RoaXMkJHN0b3JlJHN0YXRlJGd1IDogZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiY291bnRQcmludGVycyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ2Zhcm0vY291bnRQcmludGVycyddOwogICAgfQogIH0sIHsKICAgIGtleTogImJvb2xIaWRlVXBsb2FkQW5kUHJpbnRCdXR0b24iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyQkc3RvcmUkc3RhdGUkZ3UyOwoKICAgICAgcmV0dXJuIChfdGhpcyQkc3RvcmUkc3RhdGUkZ3UyID0gdGhpcy4kc3RvcmUuc3RhdGUuZ3VpLnVpU2V0dGluZ3MuYm9vbEhpZGVVcGxvYWRBbmRQcmludEJ1dHRvbikgIT09IG51bGwgJiYgX3RoaXMkJHN0b3JlJHN0YXRlJGd1MiAhPT0gdm9pZCAwID8gX3RoaXMkJHN0b3JlJHN0YXRlJGd1MiA6IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogInNpZGViYXJMb2dvIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snZmlsZXMvZ2V0U2lkZWJhckxvZ28nXTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsb2dvQ29sb3IiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5ndWkudWlTZXR0aW5ncy5sb2dvOwogICAgfQogIH0sIHsKICAgIGtleTogImJ0bkVtZXJnZW5jeVN0b3AiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGJ0bkVtZXJnZW5jeVN0b3AoKSB7CiAgICAgIHZhciBjb25maXJtT25FbWVyZ2VuY3lTdG9wID0gdGhpcy4kc3RvcmUuc3RhdGUuZ3VpLnVpU2V0dGluZ3MuY29uZmlybU9uRW1lcmdlbmN5U3RvcDsKCiAgICAgIGlmIChjb25maXJtT25FbWVyZ2VuY3lTdG9wKSB7CiAgICAgICAgdGhpcy5zaG93RW1lcmdlbmN5U3RvcERpYWxvZyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lbWVyZ2VuY3lTdG9wKCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJlbWVyZ2VuY3lTdG9wIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBlbWVyZ2VuY3lTdG9wKCkgewogICAgICB0aGlzLnNob3dFbWVyZ2VuY3lTdG9wRGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMuJHNvY2tldC5lbWl0KCdwcmludGVyLmVtZXJnZW5jeV9zdG9wJywge30sIHsKICAgICAgICBsb2FkaW5nOiAndG9wYmFyRW1lcmdlbmN5U3RvcCcKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2F2ZUNvbmZpZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZUNvbmZpZygpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NlcnZlci9hZGRFdmVudCcsIHsKICAgICAgICBtZXNzYWdlOiAnU0FWRV9DT05GSUcnLAogICAgICAgIHR5cGU6ICdjb21tYW5kJwogICAgICB9KTsKICAgICAgdGhpcy4kc29ja2V0LmVtaXQoJ3ByaW50ZXIuZ2NvZGUuc2NyaXB0JywgewogICAgICAgIHNjcmlwdDogJ1NBVkVfQ09ORklHJwogICAgICB9LCB7CiAgICAgICAgbG9hZGluZzogJ3RvcGJhclNhdmVDb25maWcnCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImJ0blVwbG9hZEFuZFN0YXJ0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBidG5VcGxvYWRBbmRTdGFydCgpIHsKICAgICAgdGhpcy4kcmVmcy5maWxlVXBsb2FkQW5kU3RhcnQuY2xpY2soKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1cGxvYWRBbmRTdGFydCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3VwbG9hZEFuZFN0YXJ0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfdGhpcyQkcmVmcyRmaWxlVXBsb2E7CgogICAgICAgIHZhciBfdGhpcyQkcmVmcyRmaWxlVXBsb2EyLCBzdWNjZXNzRmlsZXMsIF9pdGVyYXRvciwgX3N0ZXAsIF9maWxlLCByZXN1bHQsIF9pLCBfc3VjY2Vzc0ZpbGVzLCBmaWxlLCB0ZXh0OwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoISgoX3RoaXMkJHJlZnMkZmlsZVVwbG9hID0gdGhpcy4kcmVmcy5maWxlVXBsb2FkQW5kU3RhcnQpICE9PSBudWxsICYmIF90aGlzJCRyZWZzJGZpbGVVcGxvYSAhPT0gdm9pZCAwICYmIF90aGlzJCRyZWZzJGZpbGVVcGxvYS5maWxlcy5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NvY2tldC9hZGRMb2FkaW5nJywgewogICAgICAgICAgICAgICAgICBuYW1lOiAnYnRuVXBsb2FkQW5kU3RhcnQnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHN1Y2Nlc3NGaWxlcyA9IFtdOwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoKF90aGlzJCRyZWZzJGZpbGVVcGxvYTIgPSB0aGlzLiRyZWZzLmZpbGVVcGxvYWRBbmRTdGFydCkgPT09IG51bGwgfHwgX3RoaXMkJHJlZnMkZmlsZVVwbG9hMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkJHJlZnMkZmlsZVVwbG9hMi5maWxlcyk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNDsKCiAgICAgICAgICAgICAgICBfaXRlcmF0b3IucygpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBpZiAoKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9maWxlID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kb1VwbG9hZEFuZFN0YXJ0KF9maWxlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBzdWNjZXNzRmlsZXMucHVzaChyZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE2OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSg0KTsKCiAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZShfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTk7CgogICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDE5KTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzb2NrZXQvcmVtb3ZlTG9hZGluZycsIHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ2J0blVwbG9hZEFuZFN0YXJ0JwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgZm9yIChfaSA9IDAsIF9zdWNjZXNzRmlsZXMgPSBzdWNjZXNzRmlsZXM7IF9pIDwgX3N1Y2Nlc3NGaWxlcy5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgICAgICAgICAgZmlsZSA9IF9zdWNjZXNzRmlsZXNbX2ldOwogICAgICAgICAgICAgICAgICB0ZXh0ID0gdGhpcy4kdCgnQXBwLlRvcEJhci5VcGxvYWRPZkZpbGVTdWNjZXNzZnVsJywgewogICAgICAgICAgICAgICAgICAgIGZpbGU6IGZpbGUKICAgICAgICAgICAgICAgICAgfSkudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgICAgdGhpcy4kdG9hc3Quc3VjY2Vzcyh0ZXh0KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmZpbGVVcGxvYWRBbmRTdGFydC52YWx1ZSA9ICcnOwoKICAgICAgICAgICAgICAgIGlmICghKHRoaXMuY3VycmVudFBhZ2UgIT09ICcvJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKCiAgICAgICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMsIFtbNCwgMTYsIDE5LCAyMl1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gdXBsb2FkQW5kU3RhcnQoKSB7CiAgICAgICAgcmV0dXJuIF91cGxvYWRBbmRTdGFydC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gdXBsb2FkQW5kU3RhcnQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJkb1VwbG9hZEFuZFN0YXJ0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkb1VwbG9hZEFuZFN0YXJ0KGZpbGUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgdmFyIGZpbGVuYW1lID0gZmlsZS5uYW1lOwogICAgICB0aGlzLnVwbG9hZFNuYWNrYmFyLmZpbGVuYW1lID0gZmlsZW5hbWU7CiAgICAgIHRoaXMudXBsb2FkU25hY2tiYXIuc3RhdHVzID0gdHJ1ZTsKICAgICAgdGhpcy51cGxvYWRTbmFja2Jhci5wZXJjZW50ID0gMDsKICAgICAgdGhpcy51cGxvYWRTbmFja2Jhci5zcGVlZCA9IDA7CiAgICAgIHRoaXMudXBsb2FkU25hY2tiYXIubGFzdFByb2dyZXNzLmxvYWRlZCA9IDA7CiAgICAgIHRoaXMudXBsb2FkU25hY2tiYXIubGFzdFByb2dyZXNzLnRpbWUgPSAwOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlLCBmaWxlbmFtZSk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgncHJpbnQnLCAndHJ1ZScpOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICBfdGhpczIudXBsb2FkU25hY2tiYXIuY2FuY2VsVG9rZW5Tb3VyY2UgPSBheGlvcy5DYW5jZWxUb2tlbi5zb3VyY2UoKTsKICAgICAgICBheGlvcy5wb3N0KF90aGlzMi5hcGlVcmwgKyAnL3NlcnZlci9maWxlcy91cGxvYWQnLCBmb3JtRGF0YSwgewogICAgICAgICAgY2FuY2VsVG9rZW46IF90aGlzMi51cGxvYWRTbmFja2Jhci5jYW5jZWxUb2tlblNvdXJjZS50b2tlbiwKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICAgICAgfSwKICAgICAgICAgIG9uVXBsb2FkUHJvZ3Jlc3M6IGZ1bmN0aW9uIG9uVXBsb2FkUHJvZ3Jlc3MocHJvZ3Jlc3NFdmVudCkgewogICAgICAgICAgICBfdGhpczIudXBsb2FkU25hY2tiYXIucGVyY2VudCA9IHByb2dyZXNzRXZlbnQubG9hZGVkICogMTAwIC8gcHJvZ3Jlc3NFdmVudC50b3RhbDsKCiAgICAgICAgICAgIGlmIChfdGhpczIudXBsb2FkU25hY2tiYXIubGFzdFByb2dyZXNzLnRpbWUpIHsKICAgICAgICAgICAgICB2YXIgdGltZSA9IHByb2dyZXNzRXZlbnQudGltZVN0YW1wIC0gX3RoaXMyLnVwbG9hZFNuYWNrYmFyLmxhc3RQcm9ncmVzcy50aW1lOwogICAgICAgICAgICAgIHZhciBkYXRhID0gcHJvZ3Jlc3NFdmVudC5sb2FkZWQgLSBfdGhpczIudXBsb2FkU25hY2tiYXIubGFzdFByb2dyZXNzLmxvYWRlZDsKICAgICAgICAgICAgICBpZiAodGltZSkgX3RoaXMyLnVwbG9hZFNuYWNrYmFyLnNwZWVkID0gZGF0YSAvICh0aW1lIC8gMTAwMCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzMi51cGxvYWRTbmFja2Jhci5sYXN0UHJvZ3Jlc3MudGltZSA9IHByb2dyZXNzRXZlbnQudGltZVN0YW1wOwogICAgICAgICAgICBfdGhpczIudXBsb2FkU25hY2tiYXIubGFzdFByb2dyZXNzLmxvYWRlZCA9IHByb2dyZXNzRXZlbnQubG9hZGVkOwogICAgICAgICAgICBfdGhpczIudXBsb2FkU25hY2tiYXIudG90YWwgPSBwcm9ncmVzc0V2ZW50LnRvdGFsOwogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgX3RoaXMyLnVwbG9hZFNuYWNrYmFyLnN0YXR1cyA9IGZhbHNlOwogICAgICAgICAgcmVzb2x2ZShyZXN1bHQuZGF0YS5yZXN1bHQpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi51cGxvYWRTbmFja2Jhci5zdGF0dXMgPSBmYWxzZTsKCiAgICAgICAgICBfdGhpczIuJHN0b3JlLmRpc3BhdGNoKCdzb2NrZXQvcmVtb3ZlTG9hZGluZycsIHsKICAgICAgICAgICAgbmFtZTogJ2J0blVwbG9hZEFuZFN0YXJ0JwogICAgICAgICAgfSk7CgogICAgICAgICAgdmFyIHRleHQgPSBfdGhpczIuJHQoJ0FwcC5Ub3BCYXIuQ2Fubm90VXBsb2FkVGhlRmlsZScpLnRvU3RyaW5nKCk7CgogICAgICAgICAgX3RoaXMyLiR0b2FzdC5lcnJvcih0ZXh0KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FuY2VsVXBsb2FkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5jZWxVcGxvYWQoKSB7CiAgICAgIHRoaXMudXBsb2FkU25hY2tiYXIuY2FuY2VsVG9rZW5Tb3VyY2UuY2FuY2VsKCk7CiAgICAgIHRoaXMudXBsb2FkU25hY2tiYXIuc3RhdHVzID0gZmFsc2U7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gVGhlVG9wYmFyOwp9KE1peGlucyhCYXNlTWl4aW4pKTsKClRoZVRvcGJhciA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgUGFuZWw6IFBhbmVsLAogICAgVGhlVGhyb3R0bGVkU3RhdGVzOiBUaGVUaHJvdHRsZWRTdGF0ZXMsCiAgICBUaGVTZXR0aW5nc01lbnU6IFRoZVNldHRpbmdzTWVudSwKICAgIFRoZVRvcENvcm5lck1lbnU6IFRoZVRvcENvcm5lck1lbnUsCiAgICBQcmludGVyU2VsZWN0b3I6IFByaW50ZXJTZWxlY3RvciwKICAgIE1haW5zYWlsTG9nbzogTWFpbnNhaWxMb2dvCiAgfQp9KV0sIFRoZVRvcGJhcik7CmV4cG9ydCBkZWZhdWx0IFRoZVRvcGJhcjs="},{"version":3,"sources":["/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/TheTopbar.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Mixins} from 'vue-property-decorator'\nimport BaseMixin from '@/components/mixins/base'\nimport {validGcodeExtensions} from '@/store/variables'\nimport Component from 'vue-class-component'\nimport axios from 'axios'\nimport { formatFilesize } from '@/plugins/helpers'\nimport TheTopCornerMenu from '@/components/TheTopCornerMenu.vue'\nimport TheSettingsMenu from '@/components/TheSettingsMenu.vue'\nimport TheThrottledStates from '@/components/TheThrottledStates.vue'\nimport Panel from '@/components/ui/Panel.vue'\nimport PrinterSelector from '@/components/ui/PrinterSelector.vue'\nimport MainsailLogo from '@/components/ui/MainsailLogo.vue'\nimport {topbarHeight} from '@/store/variables'\n\ntype uploadSnackbar = {\n    status: boolean\n    filename: string\n    percent: number\n    speed: number\n    total: number\n    cancelTokenSource: any\n    lastProgress: {\n        time: number\n        loaded: number\n    }\n}\n\n@Component({\n    components: {\n        Panel,\n        TheThrottledStates,\n        TheSettingsMenu,\n        TheTopCornerMenu,\n        PrinterSelector,\n        MainsailLogo\n    }\n})\nexport default class TheTopbar extends Mixins(BaseMixin) {\n    topbarHeight = topbarHeight\n\n    showEmergencyStopDialog = false\n\n    uploadSnackbar: uploadSnackbar = {\n        status: false,\n        filename: '',\n        percent: 0,\n        speed: 0,\n        total: 0,\n        cancelTokenSource: null,\n        lastProgress: {\n            time: 0,\n            loaded: 0\n        }\n    }\n\n    formatFilesize = formatFilesize\n\n    $refs!: {\n        fileUploadAndStart: HTMLFormElement\n    }\n\n    get naviDrawer() {\n        return this.$store.state.naviDrawer\n    }\n\n    set naviDrawer(newVal) {\n        this.$store.dispatch('setNaviDrawer', newVal)\n    }\n\n    get validGcodeExtensions() {\n        return validGcodeExtensions\n    }\n\n    get currentPage() {\n        return this.$route.fullPath\n    }\n\n    get saveConfigPending() {\n        return this.$store.state.printer.configfile?.save_config_pending ?? false\n    }\n\n    get printerName():string {\n        if (this.$store.state.gui.general.printername.length)\n            return this.$store.state.gui.general.printername\n\n        return this.$store.state.printer.hostname\n    }\n\n    get boolWideNavDrawer() {\n        return this.$store.state.gui.uiSettings.boolWideNavDrawer ?? false\n    }\n\n    get countPrinters() {\n        return this.$store.getters['farm/countPrinters']\n    }\n\n    get boolHideUploadAndPrintButton() {\n        return this.$store.state.gui.uiSettings.boolHideUploadAndPrintButton ?? false\n    }\n\n    get sidebarLogo(): string {\n        return this.$store.getters['files/getSidebarLogo']\n    }\n\n    get logoColor(): string {\n        return this.$store.state.gui.uiSettings.logo\n    }\n\n    btnEmergencyStop() {\n        const confirmOnEmergencyStop = this.$store.state.gui.uiSettings.confirmOnEmergencyStop\n        if (confirmOnEmergencyStop) {\n            this.showEmergencyStopDialog = true\n        }\n        else {\n            this.emergencyStop()\n        }\n    }\n\n    emergencyStop() {\n        this.showEmergencyStopDialog = false\n        this.$socket.emit('printer.emergency_stop', {}, { loading: 'topbarEmergencyStop' })\n    }\n\n    saveConfig() {\n        this.$store.dispatch('server/addEvent', { message: 'SAVE_CONFIG', type: 'command' })\n        this.$socket.emit('printer.gcode.script', { script: 'SAVE_CONFIG' }, { loading: 'topbarSaveConfig' })\n    }\n\n    btnUploadAndStart() {\n        this.$refs.fileUploadAndStart.click()\n    }\n\n    async uploadAndStart() {\n        if (this.$refs.fileUploadAndStart?.files.length) {\n            this.$store.dispatch('socket/addLoading', { name: 'btnUploadAndStart' })\n            let successFiles = []\n            for (const file of this.$refs.fileUploadAndStart?.files) {\n                const result = await this.doUploadAndStart(file)\n                successFiles.push(result)\n            }\n\n            this.$store.dispatch('socket/removeLoading', { name: 'btnUploadAndStart' })\n            for(const file of successFiles) {\n                const text = this.$t('App.TopBar.UploadOfFileSuccessful', {file:file}).toString()\n                this.$toast.success(text)\n            }\n\n            this.$refs.fileUploadAndStart.value = ''\n            if (this.currentPage !== '/') await this.$router.push('/')\n        }\n    }\n\n    doUploadAndStart(file: File) {\n        const formData = new FormData()\n        const filename = file.name\n\n        this.uploadSnackbar.filename = filename\n        this.uploadSnackbar.status = true\n        this.uploadSnackbar.percent = 0\n        this.uploadSnackbar.speed = 0\n        this.uploadSnackbar.lastProgress.loaded = 0\n        this.uploadSnackbar.lastProgress.time = 0\n\n        formData.append('file', file, filename)\n        formData.append('print', 'true')\n\n        return new Promise(resolve => {\n            this.uploadSnackbar.cancelTokenSource = axios.CancelToken.source()\n            axios.post(this.apiUrl + '/server/files/upload',\n                formData, {\n                    cancelToken: this.uploadSnackbar.cancelTokenSource.token,\n                    headers: { 'Content-Type': 'multipart/form-data' },\n                    onUploadProgress: (progressEvent: ProgressEvent) => {\n                        this.uploadSnackbar.percent = (progressEvent.loaded * 100) / progressEvent.total\n                        if (this.uploadSnackbar.lastProgress.time) {\n                            const time = progressEvent.timeStamp - this.uploadSnackbar.lastProgress.time\n                            const data = progressEvent.loaded - this.uploadSnackbar.lastProgress.loaded\n\n                            if (time) this.uploadSnackbar.speed = data / (time / 1000)\n                        }\n\n                        this.uploadSnackbar.lastProgress.time = progressEvent.timeStamp\n                        this.uploadSnackbar.lastProgress.loaded = progressEvent.loaded\n                        this.uploadSnackbar.total = progressEvent.total\n                    }\n                }\n            ).then((result) => {\n                this.uploadSnackbar.status = false\n                resolve(result.data.result)\n            }).catch(() => {\n                this.uploadSnackbar.status = false\n                this.$store.dispatch('socket/removeLoading', { name: 'btnUploadAndStart' })\n                const text = this.$t('App.TopBar.CannotUploadTheFile').toString()\n                this.$toast.error(text)\n            })\n        })\n    }\n\n    cancelUpload(): void {\n        this.uploadSnackbar.cancelTokenSource.cancel()\n        this.uploadSnackbar.status = false\n    }\n}\n"],"sourceRoot":""}]}