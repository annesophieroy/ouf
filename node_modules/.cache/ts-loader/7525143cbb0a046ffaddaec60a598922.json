{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js??ref--15-2!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/TheTopCornerMenu.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/TheTopCornerMenu.vue","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1645990069130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvYW5uZS1zb3BoaWVyb3kvRG93bmxvYWRzL01haW5zYWlsL21haW5zYWlsLW1haW50ZW5hbmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2FubmUtc29waGllcm95L0Rvd25sb2Fkcy9NYWluc2FpbC9tYWluc2FpbC1tYWludGVuYW5jZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tICIvVXNlcnMvYW5uZS1zb3BoaWVyb3kvRG93bmxvYWRzL01haW5zYWlsL21haW5zYWlsLW1haW50ZW5hbmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQuanMiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy9hbm5lLXNvcGhpZXJveS9Eb3dubG9hZHMvTWFpbnNhaWwvbWFpbnNhaWwtbWFpbnRlbmFuY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzLmpzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMvYW5uZS1zb3BoaWVyb3kvRG93bmxvYWRzL01haW5zYWlsL21haW5zYWlsLW1haW50ZW5hbmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlci5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2FubmUtc29waGllcm95L0Rvd25sb2Fkcy9NYWluc2FpbC9tYWluc2FpbC1tYWludGVuYW5jZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgQ29tcG9uZW50IGZyb20gJ3Z1ZS1jbGFzcy1jb21wb25lbnQnOwppbXBvcnQgeyBNaXhpbnMgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IEJhc2VNaXhpbiBmcm9tICdAL2NvbXBvbmVudHMvbWl4aW5zL2Jhc2UnOwppbXBvcnQgUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL3VpL1BhbmVsLnZ1ZSc7Cgp2YXIgVGhlVG9wQ29ybmVyTWVudSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX01peGlucykgewogIF9pbmhlcml0cyhUaGVUb3BDb3JuZXJNZW51LCBfTWl4aW5zKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihUaGVUb3BDb3JuZXJNZW51KTsKCiAgZnVuY3Rpb24gVGhlVG9wQ29ybmVyTWVudSgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGhlVG9wQ29ybmVyTWVudSk7CgogICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07CiAgICB9CgogICAgX3RoaXMgPSBfc3VwZXIuY2FsbC5hcHBseShfc3VwZXIsIFt0aGlzXS5jb25jYXQoYXJncykpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInNob3dNZW51IiwgZmFsc2UpOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgImRpYWxvZ1Bvd2VyRGV2aWNlQ2hhbmdlIiwgewogICAgICBzaG93OiBmYWxzZSwKICAgICAgZGV2aWNlOiAnJywKICAgICAgdmFsdWU6ICcnCiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJkaWFsb2dDb25maXJtYXRpb24iLCB7CiAgICAgIHNob3c6IGZhbHNlLAogICAgICBzZXJ2aWNlTmFtZTogbnVsbCwKICAgICAgZXhlY3V0YWJsZUZ1bmN0aW9uOiBudWxsLAogICAgICB0aXRsZTogJycsCiAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgYWN0aW9uQnV0dG9uVGV4dDogJycKICAgIH0pOwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhUaGVUb3BDb3JuZXJNZW51LCBbewogICAga2V5OiAic2VydmljZXMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyQkc3RvcmUkc3RhdGUkc2UsIF90aGlzJCRzdG9yZSRzdGF0ZSRzZTIsIF90aGlzJCRzdG9yZSRzdGF0ZSRzZTM7CgogICAgICB2YXIgc2VydmljZXMgPSAoX3RoaXMkJHN0b3JlJHN0YXRlJHNlID0gKF90aGlzJCRzdG9yZSRzdGF0ZSRzZTIgPSB0aGlzLiRzdG9yZS5zdGF0ZS5zZXJ2ZXIuc3lzdGVtX2luZm8pID09PSBudWxsIHx8IF90aGlzJCRzdG9yZSRzdGF0ZSRzZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpcyQkc3RvcmUkc3RhdGUkc2UzID0gX3RoaXMkJHN0b3JlJHN0YXRlJHNlMi5hdmFpbGFibGVfc2VydmljZXMpID09PSBudWxsIHx8IF90aGlzJCRzdG9yZSRzdGF0ZSRzZTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRzdG9yZSRzdGF0ZSRzZTMuZmlsdGVyKGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgcmV0dXJuIG5hbWUgIT09ICdrbGlwcGVyX21jdSc7CiAgICAgIH0pKSAhPT0gbnVsbCAmJiBfdGhpcyQkc3RvcmUkc3RhdGUkc2UgIT09IHZvaWQgMCA/IF90aGlzJCRzdG9yZSRzdGF0ZSRzZSA6IFtdOwogICAgICBzZXJ2aWNlcy5zb3J0KCk7CiAgICAgIHJldHVybiBzZXJ2aWNlczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwb3dlckRldmljZXMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydzZXJ2ZXIvcG93ZXIvZ2V0RGV2aWNlcyddOwogICAgfQogIH0sIHsKICAgIGtleTogInNlcnZpY2Vfc3RhdGVzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkJHN0b3JlJHN0YXRlJHNlNCwgX3RoaXMkJHN0b3JlJHN0YXRlJHNlNTsKCiAgICAgIHJldHVybiAoX3RoaXMkJHN0b3JlJHN0YXRlJHNlNCA9IChfdGhpcyQkc3RvcmUkc3RhdGUkc2U1ID0gdGhpcy4kc3RvcmUuc3RhdGUuc2VydmVyLnN5c3RlbV9pbmZvKSA9PT0gbnVsbCB8fCBfdGhpcyQkc3RvcmUkc3RhdGUkc2U1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkc3RvcmUkc3RhdGUkc2U1LnNlcnZpY2Vfc3RhdGUpICE9PSBudWxsICYmIF90aGlzJCRzdG9yZSRzdGF0ZSRzZTQgIT09IHZvaWQgMCA/IF90aGlzJCRzdG9yZSRzdGF0ZSRzZTQgOiB7fTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRTZXJ2aWNlU3RhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlcnZpY2VTdGF0ZShuYW1lKSB7CiAgICAgIGlmIChuYW1lIGluIHRoaXMuc2VydmljZV9zdGF0ZXMpIHJldHVybiB0aGlzLnNlcnZpY2Vfc3RhdGVzW25hbWVdLmFjdGl2ZV9zdGF0ZTsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0U2VydmljZVN1YlN0YXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTZXJ2aWNlU3ViU3RhdGUobmFtZSkgewogICAgICBpZiAobmFtZSBpbiB0aGlzLnNlcnZpY2Vfc3RhdGVzKSByZXR1cm4gdGhpcy5zZXJ2aWNlX3N0YXRlc1tuYW1lXS5zdWJfc3RhdGU7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0sIHsKICAgIGtleTogImNoZWNrRGlhbG9nIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja0RpYWxvZyhleGVjdXRhYmxlRnVuY3Rpb24sIHNlcnZpY2VOYW1lLCBhY3Rpb24pIHsKICAgICAgaWYgKHRoaXMucHJpbnRlcklzUHJpbnRpbmcpIHsKICAgICAgICB0aGlzLmRpYWxvZ0NvbmZpcm1hdGlvbi5leGVjdXRhYmxlRnVuY3Rpb24gPSBleGVjdXRhYmxlRnVuY3Rpb247CiAgICAgICAgdGhpcy5kaWFsb2dDb25maXJtYXRpb24uc2VydmljZU5hbWUgPSBzZXJ2aWNlTmFtZTsKICAgICAgICB2YXIgYWN0aW9uVXBwZXJjYXNlID0gYWN0aW9uLnRyaW0oKS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGFjdGlvbi50cmltKCkuc2xpY2UoMSk7CiAgICAgICAgdmFyIHRpdGxlS2V5ID0gJ0FwcC5Ub3BDb3JuZXJNZW51LkNvbmZpcm1hdGlvbkRpYWxvZy5UaXRsZS5TZXJ2aWNlJyArIGFjdGlvblVwcGVyY2FzZTsKICAgICAgICB2YXIgZGVzY3JpcHRpb25LZXkgPSAnQXBwLlRvcENvcm5lck1lbnUuQ29uZmlybWF0aW9uRGlhbG9nLkRlc2NyaXB0aW9uLlNlcnZpY2UnICsgYWN0aW9uVXBwZXJjYXNlOwogICAgICAgIHZhciBidXR0b25LZXkgPSAnQXBwLlRvcENvcm5lck1lbnUuJyArIGFjdGlvblVwcGVyY2FzZTsKCiAgICAgICAgaWYgKHNlcnZpY2VOYW1lID09PSAna2xpcHBlcicgJiYgWydzdG9wJywgJ3Jlc3RhcnQnLCAnZmlybXdhcmVSZXN0YXJ0J10uaW5jbHVkZXMoYWN0aW9uKSkgewogICAgICAgICAgdGl0bGVLZXkgPSAnQXBwLlRvcENvcm5lck1lbnUuQ29uZmlybWF0aW9uRGlhbG9nLlRpdGxlLicgKyAoYWN0aW9uICE9PSAnc3RvcCcgPyAnS2xpcHBlcicgOiAnU2VydmljZScpICsgYWN0aW9uVXBwZXJjYXNlOwogICAgICAgICAgZGVzY3JpcHRpb25LZXkgPSAnQXBwLlRvcENvcm5lck1lbnUuQ29uZmlybWF0aW9uRGlhbG9nLkRlc2NyaXB0aW9uLktsaXBwZXInICsgYWN0aW9uVXBwZXJjYXNlOwogICAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ2Zpcm13YXJlUmVzdGFydCcpIGJ1dHRvbktleSA9ICdBcHAuVG9wQ29ybmVyTWVudS5LbGlwcGVyRmlybXdhcmVSZXN0YXJ0JzsKICAgICAgICB9IGVsc2UgaWYgKHNlcnZpY2VOYW1lID09PSAnaG9zdCcpIHsKICAgICAgICAgIHRpdGxlS2V5ID0gJ0FwcC5Ub3BDb3JuZXJNZW51LkNvbmZpcm1hdGlvbkRpYWxvZy5UaXRsZS5Ib3N0JyArIGFjdGlvblVwcGVyY2FzZTsKICAgICAgICAgIGRlc2NyaXB0aW9uS2V5ID0gJ0FwcC5Ub3BDb3JuZXJNZW51LkNvbmZpcm1hdGlvbkRpYWxvZy5EZXNjcmlwdGlvbi5Ib3N0JyArIGFjdGlvblVwcGVyY2FzZTsKICAgICAgICB9CgogICAgICAgIHRoaXMuZGlhbG9nQ29uZmlybWF0aW9uLnRpdGxlID0gdGhpcy4kdCh0aXRsZUtleSkudG9TdHJpbmcoKTsKICAgICAgICB0aGlzLmRpYWxvZ0NvbmZpcm1hdGlvbi5kZXNjcmlwdGlvbiA9IHRoaXMuJHQoZGVzY3JpcHRpb25LZXkpLnRvU3RyaW5nKCk7CiAgICAgICAgdGhpcy5kaWFsb2dDb25maXJtYXRpb24uYWN0aW9uQnV0dG9uVGV4dCA9IHRoaXMuJHQoYnV0dG9uS2V5KS50b1N0cmluZygpOwogICAgICAgIHRoaXMuZGlhbG9nQ29uZmlybWF0aW9uLnNob3cgPSB0cnVlOwogICAgICB9IGVsc2UgZXhlY3V0YWJsZUZ1bmN0aW9uKHNlcnZpY2VOYW1lKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJleGVjdXRlRGlhbG9nIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBleGVjdXRlRGlhbG9nKCkgewogICAgICB0aGlzLmRpYWxvZ0NvbmZpcm1hdGlvbi5leGVjdXRhYmxlRnVuY3Rpb24odGhpcy5kaWFsb2dDb25maXJtYXRpb24uc2VydmljZU5hbWUpOwogICAgICB0aGlzLmRpYWxvZ0NvbmZpcm1hdGlvbi5zaG93ID0gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAia2xpcHBlclJlc3RhcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGtsaXBwZXJSZXN0YXJ0KCkgewogICAgICB0aGlzLnNob3dNZW51ID0gZmFsc2U7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXJ2ZXIvYWRkRXZlbnQnLCB7CiAgICAgICAgbWVzc2FnZTogJ1JFU1RBUlQnLAogICAgICAgIHR5cGU6ICdjb21tYW5kJwogICAgICB9KTsKICAgICAgdGhpcy4kc29ja2V0LmVtaXQoJ3ByaW50ZXIuZ2NvZGUuc2NyaXB0JywgewogICAgICAgIHNjcmlwdDogJ1JFU1RBUlQnCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImtsaXBwZXJGaXJtd2FyZVJlc3RhcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGtsaXBwZXJGaXJtd2FyZVJlc3RhcnQoKSB7CiAgICAgIHRoaXMuc2hvd01lbnUgPSBmYWxzZTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NlcnZlci9hZGRFdmVudCcsIHsKICAgICAgICBtZXNzYWdlOiAnRklSTVdBUkVfUkVTVEFSVCcsCiAgICAgICAgdHlwZTogJ2NvbW1hbmQnCiAgICAgIH0pOwogICAgICB0aGlzLiRzb2NrZXQuZW1pdCgncHJpbnRlci5nY29kZS5zY3JpcHQnLCB7CiAgICAgICAgc2NyaXB0OiAnRklSTVdBUkVfUkVTVEFSVCcKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2VydmljZVN0YXJ0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXJ2aWNlU3RhcnQoc2VydmljZSkgewogICAgICB0aGlzLnNob3dNZW51ID0gZmFsc2U7CiAgICAgIHRoaXMuJHNvY2tldC5lbWl0KCdtYWNoaW5lLnNlcnZpY2VzLnN0YXJ0JywgewogICAgICAgIHNlcnZpY2U6IHNlcnZpY2UKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2VydmljZVJlc3RhcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNlcnZpY2VSZXN0YXJ0KHNlcnZpY2UpIHsKICAgICAgdGhpcy5zaG93TWVudSA9IGZhbHNlOwogICAgICB0aGlzLiRzb2NrZXQuZW1pdCgnbWFjaGluZS5zZXJ2aWNlcy5yZXN0YXJ0JywgewogICAgICAgIHNlcnZpY2U6IHNlcnZpY2UKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2VydmljZVN0b3AiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNlcnZpY2VTdG9wKHNlcnZpY2UpIHsKICAgICAgdGhpcy5zaG93TWVudSA9IGZhbHNlOwogICAgICB0aGlzLiRzb2NrZXQuZW1pdCgnbWFjaGluZS5zZXJ2aWNlcy5zdG9wJywgewogICAgICAgIHNlcnZpY2U6IHNlcnZpY2UKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2hhbmdlU3dpdGNoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VTd2l0Y2goZGV2aWNlLCB2YWx1ZSkgewogICAgICB0aGlzLmRpYWxvZ1Bvd2VyRGV2aWNlQ2hhbmdlLmRldmljZSA9IGRldmljZS5kZXZpY2U7CiAgICAgIHRoaXMuZGlhbG9nUG93ZXJEZXZpY2VDaGFuZ2UudmFsdWUgPSB2YWx1ZTsKICAgICAgdmFyIGNvbmZpcm1PblBvd2VyRGV2aWNlQ2hhbmdlID0gdGhpcy4kc3RvcmUuc3RhdGUuZ3VpLnVpU2V0dGluZ3MuY29uZmlybU9uUG93ZXJEZXZpY2VDaGFuZ2U7CgogICAgICBpZiAoY29uZmlybU9uUG93ZXJEZXZpY2VDaGFuZ2UpIHsKICAgICAgICB0aGlzLmRpYWxvZ1Bvd2VyRGV2aWNlQ2hhbmdlLnNob3cgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucG93ZXJEZXZpY2VUb2dnbGUoKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInBvd2VyRGV2aWNlVG9nZ2xlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwb3dlckRldmljZVRvZ2dsZSgpIHsKICAgICAgdGhpcy5kaWFsb2dQb3dlckRldmljZUNoYW5nZS5zaG93ID0gZmFsc2U7CiAgICAgIHZhciBycGMgPSB0aGlzLmRpYWxvZ1Bvd2VyRGV2aWNlQ2hhbmdlLnZhbHVlID09PSAnb2ZmJyA/ICdtYWNoaW5lLmRldmljZV9wb3dlci5vbicgOiAnbWFjaGluZS5kZXZpY2VfcG93ZXIub2ZmJzsKICAgICAgdGhpcy4kc29ja2V0LmVtaXQocnBjLCBfZGVmaW5lUHJvcGVydHkoe30sIHRoaXMuZGlhbG9nUG93ZXJEZXZpY2VDaGFuZ2UuZGV2aWNlLCBudWxsKSwgewogICAgICAgIGFjdGlvbjogJ3NlcnZlci9wb3dlci9yZXNwb25zZVRvZ2dsZScKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaG9zdFJlYm9vdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaG9zdFJlYm9vdCgpIHsKICAgICAgdGhpcy5zaG93TWVudSA9IGZhbHNlOwogICAgICB0aGlzLiRzb2NrZXQuZW1pdCgnbWFjaGluZS5yZWJvb3QnLCB7fSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaG9zdFNodXRkb3duIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBob3N0U2h1dGRvd24oKSB7CiAgICAgIHRoaXMuc2hvd01lbnUgPSBmYWxzZTsKICAgICAgdGhpcy4kc29ja2V0LmVtaXQoJ21hY2hpbmUuc2h1dGRvd24nLCB7fSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gVGhlVG9wQ29ybmVyTWVudTsKfShNaXhpbnMoQmFzZU1peGluKSk7CgpUaGVUb3BDb3JuZXJNZW51ID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBQYW5lbDogUGFuZWwKICB9Cn0pXSwgVGhlVG9wQ29ybmVyTWVudSk7CmV4cG9ydCBkZWZhdWx0IFRoZVRvcENvcm5lck1lbnU7"},{"version":3,"sources":["/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/TheTopCornerMenu.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Component from 'vue-class-component'\nimport { Mixins } from 'vue-property-decorator'\nimport BaseMixin from '@/components/mixins/base'\nimport {ServerPowerStateDevice} from '@/store/server/power/types'\nimport Panel from '@/components/ui/Panel.vue'\n\ninterface dialogPowerDeviceChange {\n    show: boolean\n    device: string\n    value: string\n}\n\ninterface dialogConfirmation {\n    show: boolean\n    serviceName: string | null\n    executableFunction: any | null\n    title: string\n    description: string\n    actionButtonText: string\n}\n\n@Component({\n    components: {Panel}\n})\nexport default class TheTopCornerMenu extends Mixins(BaseMixin) {\n\n    showMenu = false\n    dialogPowerDeviceChange : dialogPowerDeviceChange = {\n        show: false,\n        device: '',\n        value: ''\n    }\n\n    dialogConfirmation: dialogConfirmation = {\n        show: false,\n        serviceName: null,\n        executableFunction: null,\n        title: '',\n        description: '',\n        actionButtonText: ''\n    }\n\n    get services() {\n        const services = this.$store.state.server.system_info?.available_services?.filter((name: string) => name !== 'klipper_mcu') ?? []\n        services.sort()\n        return services\n    }\n\n    get powerDevices() {\n        return this.$store.getters['server/power/getDevices']\n    }\n\n    get service_states() {\n        return this.$store.state.server.system_info?.service_state ?? {}\n    }\n\n    getServiceState(name: string) {\n        if (name in this.service_states) return this.service_states[name].active_state\n\n        return null\n    }\n\n    getServiceSubState(name: string) {\n        if (name in this.service_states) return this.service_states[name].sub_state\n\n        return null\n    }\n\n    checkDialog(executableFunction: any, serviceName: string, action: string) {\n        if (this.printerIsPrinting) {\n            this.dialogConfirmation.executableFunction = executableFunction\n            this.dialogConfirmation.serviceName = serviceName\n\n            const actionUppercase = action.trim().charAt(0).toUpperCase() + action.trim().slice(1)\n            let titleKey = 'App.TopCornerMenu.ConfirmationDialog.Title.Service' + actionUppercase\n            let descriptionKey = 'App.TopCornerMenu.ConfirmationDialog.Description.Service' + actionUppercase\n            let buttonKey = 'App.TopCornerMenu.' + actionUppercase\n\n            if (serviceName === 'klipper' && ['stop', 'restart', 'firmwareRestart'].includes(action)){\n                titleKey = 'App.TopCornerMenu.ConfirmationDialog.Title.' + (action !== 'stop' ? 'Klipper' : 'Service') + actionUppercase\n                descriptionKey = 'App.TopCornerMenu.ConfirmationDialog.Description.Klipper' + actionUppercase\n\n                if (action === 'firmwareRestart') buttonKey = 'App.TopCornerMenu.KlipperFirmwareRestart'\n            } else if (serviceName === 'host') {\n                titleKey = 'App.TopCornerMenu.ConfirmationDialog.Title.Host' + actionUppercase\n                descriptionKey = 'App.TopCornerMenu.ConfirmationDialog.Description.Host' + actionUppercase\n            }\n\n            this.dialogConfirmation.title = this.$t(titleKey).toString()\n            this.dialogConfirmation.description = this.$t(descriptionKey).toString()\n            this.dialogConfirmation.actionButtonText = this.$t(buttonKey).toString()\n            this.dialogConfirmation.show = true\n        } else executableFunction(serviceName)\n    }\n\n    executeDialog() {\n        this.dialogConfirmation.executableFunction(this.dialogConfirmation.serviceName)\n        this.dialogConfirmation.show = false\n    }\n\n    klipperRestart() {\n        this.showMenu = false\n        this.$store.dispatch('server/addEvent', { message: 'RESTART', type: 'command' })\n        this.$socket.emit('printer.gcode.script', { script: 'RESTART' })\n    }\n\n    klipperFirmwareRestart() {\n        this.showMenu = false\n        this.$store.dispatch('server/addEvent', { message: 'FIRMWARE_RESTART', type: 'command' })\n        this.$socket.emit('printer.gcode.script', { script: 'FIRMWARE_RESTART' })\n    }\n\n    serviceStart(service: string) {\n        this.showMenu = false\n        this.$socket.emit('machine.services.start', { service: service })\n    }\n\n    serviceRestart(service: string) {\n        this.showMenu = false\n        this.$socket.emit('machine.services.restart', { service: service })\n    }\n\n    serviceStop(service: string) {\n        this.showMenu = false\n        this.$socket.emit('machine.services.stop', { service: service })\n    }\n\n    changeSwitch(device: ServerPowerStateDevice, value: string) {\n        this.dialogPowerDeviceChange.device = device.device\n        this.dialogPowerDeviceChange.value = value\n\n        const confirmOnPowerDeviceChange = this.$store.state.gui.uiSettings.confirmOnPowerDeviceChange\n        if (confirmOnPowerDeviceChange) {\n            this.dialogPowerDeviceChange.show = true\n        } else {\n            this.powerDeviceToggle()\n        }\n    }\n\n    powerDeviceToggle() {\n        this.dialogPowerDeviceChange.show = false\n        const rpc = (this.dialogPowerDeviceChange.value === 'off' ? 'machine.device_power.on' : 'machine.device_power.off')\n        this.$socket.emit(rpc,{ [this.dialogPowerDeviceChange.device]: null },{ action: 'server/power/responseToggle' })\n    }\n\n    hostReboot() {\n        this.showMenu = false\n        this.$socket.emit('machine.reboot', { })\n    }\n\n    hostShutdown() {\n        this.showMenu = false\n        this.$socket.emit('machine.shutdown', { })\n    }\n}\n"],"sourceRoot":""}]}