{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js??ref--15-2!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/editor/mutations.ts","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/editor/mutations.ts","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1645990065243}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCB7IGdldERlZmF1bHRTdGF0ZSB9IGZyb20gJy4vaW5kZXgnOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHNoYTI1NiB9IGZyb20gJ2pzLXNoYTI1Nic7CmV4cG9ydCB2YXIgbXV0YXRpb25zID0gewogIHJlc2V0OiBmdW5jdGlvbiByZXNldChzdGF0ZSkgewogICAgT2JqZWN0LmFzc2lnbihzdGF0ZSwgZ2V0RGVmYXVsdFN0YXRlKCkpOwogIH0sCiAgdXBkYXRlQ2FuY2VsVG9rZW5Tb3VyY2U6IGZ1bmN0aW9uIHVwZGF0ZUNhbmNlbFRva2VuU291cmNlKHN0YXRlLCBzb3VyY2UpIHsKICAgIFZ1ZS5zZXQoc3RhdGUsICdjYW5jZWxUb2tlbicsIHNvdXJjZSk7CiAgfSwKICB1cGRhdGVMb2FkZXJTdGF0ZTogZnVuY3Rpb24gdXBkYXRlTG9hZGVyU3RhdGUoc3RhdGUsIHZhbHVlKSB7CiAgICBWdWUuc2V0KHN0YXRlLCAnbG9hZGVyQm9vbCcsIHZhbHVlKTsKICB9LAogIHVwZGF0ZUxvYWRlcjogZnVuY3Rpb24gdXBkYXRlTG9hZGVyKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBWdWUuc2V0KHN0YXRlLCAnbG9hZGVyUHJvZ3Jlc3MnLCBwYXlsb2FkKTsKICB9LAogIG9wZW5GaWxlOiBmdW5jdGlvbiBvcGVuRmlsZShzdGF0ZSwgcGF5bG9hZCkgewogICAgVnVlLnNldChzdGF0ZSwgJ2ZpbGVuYW1lJywgcGF5bG9hZC5maWxlbmFtZSk7CiAgICBWdWUuc2V0KHN0YXRlLCAnZmlsZXJvb3QnLCBwYXlsb2FkLmZpbGVyb290KTsKICAgIFZ1ZS5zZXQoc3RhdGUsICdmaWxlcGF0aCcsIHBheWxvYWQuZmlsZXBhdGgpOwogICAgVnVlLnNldChzdGF0ZSwgJ3NvdXJjZWNvZGUnLCBwYXlsb2FkLmZpbGUpOyAvLyBCZWNhdXNlIHRoZSB1c2VkIGVkaXRvciBjb252ZXJ0cyBhbGwgV2luZG93cy1TdHlsZSBsaW5lIGVuZGluZ3Mgd2l0aCB1bml4IG9uZXMgb24gbG9hZCwKICAgIC8vIHRoZSBoYXNoIGlzIGNvbXB1dGVkIHdpdGggdGhlIHNvdXJjZSBhbHdheXMgaGF2aW5nIHVuaXgtc3R5bGUgbGluZSBlbmRpbmdzLgogICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2NvZGVtaXJyb3IvQ29kZU1pcnJvci9pc3N1ZXMvMzM5NQoKICAgIFZ1ZS5zZXQoc3RhdGUsICdsb2FkZWRIYXNoJywgc2hhMjU2KHBheWxvYWQuZmlsZS5yZXBsYWNlKC8oPzpcclxufFxyfFxuKS9nLCAnXG4nKSkpOwogICAgVnVlLnNldChzdGF0ZSwgJ2NoYW5nZWQnLCBmYWxzZSk7CiAgICBWdWUuc2V0KHN0YXRlLCAnYm9vbCcsIHRydWUpOwogIH0sCiAgc2hvd0VkaXRvcjogZnVuY3Rpb24gc2hvd0VkaXRvcihzdGF0ZSkgewogICAgVnVlLnNldChzdGF0ZSwgJ2Jvb2wnLCB0cnVlKTsKICB9LAogIHNldEZpbGVuYW1lOiBmdW5jdGlvbiBzZXRGaWxlbmFtZShzdGF0ZSwgZmlsZW5hbWUpIHsKICAgIFZ1ZS5zZXQoc3RhdGUsICdmaWxlbmFtZScsIGZpbGVuYW1lKTsKICB9LAogIHNldFBlcm1pc3Npb25zOiBmdW5jdGlvbiBzZXRQZXJtaXNzaW9ucyhzdGF0ZSwgZmlsZW5hbWUpIHsKICAgIFZ1ZS5zZXQoc3RhdGUsICdwZXJtaXNzaW9ucycsIGZpbGVuYW1lKTsKICB9LAogIGhpZGVFZGl0b3I6IGZ1bmN0aW9uIGhpZGVFZGl0b3Ioc3RhdGUpIHsKICAgIFZ1ZS5zZXQoc3RhdGUsICdib29sJywgZmFsc2UpOwogIH0sCiAgdXBkYXRlU291cmNlY29kZTogZnVuY3Rpb24gdXBkYXRlU291cmNlY29kZShzdGF0ZSwgcGF5bG9hZCkgewogICAgVnVlLnNldChzdGF0ZSwgJ3NvdXJjZWNvZGUnLCBwYXlsb2FkKTsgLy8gVG8gY2hlY2sgaWYgYSBmaWxlIGhhcyBiZWVuIGNoYW5nZWQgYnkgdGhlIHVzZXIsIHdlIG5lZWQgdG8gY2FsY3VsYXRlIGEgaGFzaAogICAgLy8gKG9yIG90aGVyd2lzZSB3ZSB3b3VsZCBuZWVkIHRvIHNhdmUgdGhlIGZ1bGwgZmlsZSBpbiBtZW1vcnkgdHdpY2UpLiBTaW1wbHkgbGlzdGVuaW5nCiAgICAvLyB0byB0aGUgY2hhbmdlZCBldmVudCBpcyBub3QgZW5vdWdoLCBiZWNhdXNlIGlmIHRoZSB1c2VyIHR5cGVzIGFuICJhIiBhbmQgdGhlbiBkZWxldGVzCiAgICAvLyB0aGUgImEiIGFnYWluLCB0aGUgZmlsZSB3b3VsZCBzdGlsbCBiZSBzaG93biBhcyBjaGFuZ2VkLCBldmVuIHRob3VnaCB0aGUgZWRpdGVkIGZpbGUKICAgIC8vIGlzIGVxdWFsIHRvIHRoZSBzdG9yZWQgZmlsZS4KICAgIC8vIEkndmUgdGVzdGVkIHRoaXMgZnVuY3Rpb25hbGl0eSB3aXRoIGh1Z2UgdGV4dCBmaWxlcyAoNjBNQiBHLUNvZGUpIGFuZCB3aGlsZSBjYWxjdWxhdGluZwogICAgLy8gdGhlIGhhc2ggdG9vayAyIHNlY29uZHMgcGVyIHJ1biwgdGhlIGVkaXRvciBpdHNlbGYgaXMgcHJldHR5IGxhZ2d5IGV2ZW4gd2l0aG91dCBoYXNoCiAgICAvLyBjYWxjdWxhdGlvbnMuIEhhc2ggY2FsY3VsYXRpb25zIHdpdGggdHlwaWNhbCBjb25maWcgZmlsZSBzaXplcyAoNTBLQikgb25seSB0YWtlIDEgb3IgMm1zCiAgICAvLyBvbiBteSBtYWNoaW5lLCBzbyBJIGd1ZXNzIHRoaXMgaXMgYWNjZXB0YWJsZSBmb3IgbW9zdCB1c2UgY2FzZXMuCgogICAgc3RhdGUuY2hhbmdlZCA9IHNoYTI1NihwYXlsb2FkKSAhPSBzdGF0ZS5sb2FkZWRIYXNoOwogIH0KfTs="},{"version":3,"sources":["/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/editor/mutations.ts"],"names":[],"mappings":";;AAAA,SAAS,eAAT,QAAgC,SAAhC;AAGA,OAAO,GAAP,MAAgB,KAAhB;AACA,SAAS,MAAT,QAAuB,WAAvB;AAEA,OAAO,IAAM,SAAS,GAA8B;AAEhD,EAAA,KAFgD,iBAE1C,KAF0C,EAErC;AACP,IAAA,MAAM,CAAC,MAAP,CAAc,KAAd,EAAqB,eAAe,EAApC;AACH,GAJ+C;AAMhD,EAAA,uBANgD,mCAMxB,KANwB,EAMjB,MANiB,EAMX;AACjC,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,aAAf,EAA8B,MAA9B;AACH,GAR+C;AAUhD,EAAA,iBAVgD,6BAU9B,KAV8B,EAUvB,KAVuB,EAUlB;AAC1B,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,YAAf,EAA6B,KAA7B;AACH,GAZ+C;AAchD,EAAA,YAdgD,wBAcnC,KAdmC,EAc5B,OAd4B,EAcrB;AACvB,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,gBAAf,EAAiC,OAAjC;AACH,GAhB+C;AAkBhD,EAAA,QAlBgD,oBAkBvC,KAlBuC,EAkBhC,OAlBgC,EAkBzB;AACnB,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,UAAf,EAA2B,OAAO,CAAC,QAAnC;AACA,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,UAAf,EAA2B,OAAO,CAAC,QAAnC;AACA,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,UAAf,EAA2B,OAAO,CAAC,QAAnC;AACA,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,YAAf,EAA6B,OAAO,CAAC,IAArC,EAJmB,CAMnB;AACA;AACA;;AAEA,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,YAAf,EAA6B,MAAM,CAAC,OAAO,CAAC,IAAR,CAAa,OAAb,CAAqB,iBAArB,EAAwC,IAAxC,CAAD,CAAnC;AACA,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,SAAf,EAA0B,KAA1B;AACA,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,MAAf,EAAuB,IAAvB;AACH,GA/B+C;AAiChD,EAAA,UAjCgD,sBAiCrC,KAjCqC,EAiChC;AACZ,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,MAAf,EAAuB,IAAvB;AACH,GAnC+C;AAqChD,EAAA,WArCgD,uBAqCpC,KArCoC,EAqC7B,QArC6B,EAqCrB;AACvB,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,UAAf,EAA2B,QAA3B;AACH,GAvC+C;AAyChD,EAAA,cAzCgD,0BAyCjC,KAzCiC,EAyC1B,QAzC0B,EAyClB;AAC1B,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,aAAf,EAA8B,QAA9B;AACH,GA3C+C;AA6ChD,EAAA,UA7CgD,sBA6CrC,KA7CqC,EA6ChC;AACZ,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,MAAf,EAAuB,KAAvB;AACH,GA/C+C;AAiDhD,EAAA,gBAjDgD,4BAiD/B,KAjD+B,EAiDxB,OAjDwB,EAiDjB;AAC3B,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,YAAf,EAA6B,OAA7B,EAD2B,CAG3B;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA,IAAA,KAAK,CAAC,OAAN,GAAiB,MAAM,CAAC,OAAD,CAAN,IAAmB,KAAK,CAAC,UAA1C;AACH;AAhE+C,CAA7C","sourcesContent":["import { getDefaultState } from './index'\nimport {MutationTree} from 'vuex'\nimport {EditorState} from '@/store/editor/types'\nimport Vue from 'vue'\nimport { sha256 } from 'js-sha256'\n\nexport const mutations: MutationTree<EditorState> = {\n    \n    reset(state) {\n        Object.assign(state, getDefaultState())\n    },\n\n    updateCancelTokenSource(state, source) {\n        Vue.set(state, 'cancelToken', source)\n    },\n\n    updateLoaderState(state, value) {\n        Vue.set(state, 'loaderBool', value)\n    },\n\n    updateLoader(state, payload) {\n        Vue.set(state, 'loaderProgress', payload)\n    },\n\n    openFile(state, payload) {\n        Vue.set(state, 'filename', payload.filename)\n        Vue.set(state, 'fileroot', payload.fileroot)\n        Vue.set(state, 'filepath', payload.filepath)\n        Vue.set(state, 'sourcecode', payload.file)\n\n        // Because the used editor converts all Windows-Style line endings with unix ones on load,\n        // the hash is computed with the source always having unix-style line endings.\n        // https://github.com/codemirror/CodeMirror/issues/3395\n\n        Vue.set(state, 'loadedHash', sha256(payload.file.replace(/(?:\\r\\n|\\r|\\n)/g, '\\n')))\n        Vue.set(state, 'changed', false)\n        Vue.set(state, 'bool', true)\n    },\n\n    showEditor(state) {\n        Vue.set(state, 'bool', true)\n    },\n\n    setFilename(state, filename) {\n        Vue.set(state, 'filename', filename)\n    },\n\n    setPermissions(state, filename) {\n        Vue.set(state, 'permissions', filename)\n    },\n\n    hideEditor(state) {\n        Vue.set(state, 'bool', false)\n    },\n\n    updateSourcecode(state, payload) {\n        Vue.set(state, 'sourcecode', payload)\n\n        // To check if a file has been changed by the user, we need to calculate a hash\n        // (or otherwise we would need to save the full file in memory twice). Simply listening\n        // to the changed event is not enough, because if the user types an \"a\" and then deletes\n        // the \"a\" again, the file would still be shown as changed, even though the edited file\n        // is equal to the stored file.\n\n        // I've tested this functionality with huge text files (60MB G-Code) and while calculating\n        // the hash took 2 seconds per run, the editor itself is pretty laggy even without hash\n        // calculations. Hash calculations with typical config file sizes (50KB) only take 1 or 2ms\n        // on my machine, so I guess this is acceptable for most use cases.\n\n        state.changed = (sha256(payload) != state.loadedHash)\n    }\n\n}\n\n\n"],"sourceRoot":""}]}