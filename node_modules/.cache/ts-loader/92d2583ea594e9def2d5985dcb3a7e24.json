{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js??ref--15-2!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/farm/index.ts","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/farm/index.ts","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1645990065243}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2FubmUtc29waGllcm95L0Rvd25sb2Fkcy9NYWluc2FpbC9tYWluc2FpbC1tYWludGVuYW5jZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCB7IHByaW50ZXIgfSBmcm9tICdAL3N0b3JlL2Zhcm0vcHJpbnRlcic7CmV4cG9ydCB2YXIgZ2V0RGVmYXVsdFN0YXRlID0gZnVuY3Rpb24gZ2V0RGVmYXVsdFN0YXRlKCkgewogIHJldHVybiB7fTsKfTsgLy8gaW5pdGlhbCBzdGF0ZQoKdmFyIHN0YXRlID0gZnVuY3Rpb24gc3RhdGUoKSB7CiAgcmV0dXJuIGdldERlZmF1bHRTdGF0ZSgpOwp9OwoKZXhwb3J0IHZhciBmYXJtID0gewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IHsKICAgIGNvdW50UHJpbnRlcnM6IGZ1bmN0aW9uIGNvdW50UHJpbnRlcnMoc3RhdGUpIHsKICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHN0YXRlKS5sZW5ndGg7CiAgICB9LAogICAgZ2V0UHJpbnRlcnM6IGZ1bmN0aW9uIGdldFByaW50ZXJzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZTsKICAgIH0sCiAgICBnZXRQcmludGVyTmFtZTogZnVuY3Rpb24gZ2V0UHJpbnRlck5hbWUoc3RhdGUsIGdldHRlcnMpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuYW1lc3BhY2UpIHsKICAgICAgICByZXR1cm4gZ2V0dGVyc1tuYW1lc3BhY2UgKyAnL2dldFByaW50ZXJOYW1lJ107CiAgICAgIH07CiAgICB9LAogICAgZ2V0UHJpbnRlclNvY2tldFN0YXRlOiBmdW5jdGlvbiBnZXRQcmludGVyU29ja2V0U3RhdGUoc3RhdGUsIGdldHRlcnMpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuYW1lc3BhY2UpIHsKICAgICAgICB2YXIgX2dldHRlcnM7CgogICAgICAgIHJldHVybiAoX2dldHRlcnMgPSBnZXR0ZXJzW25hbWVzcGFjZSArICcvZ2V0UHJpbnRlclNvY2tldFN0YXRlJ10pICE9PSBudWxsICYmIF9nZXR0ZXJzICE9PSB2b2lkIDAgPyBfZ2V0dGVycyA6IHsKICAgICAgICAgIGlzQ29ubmVjdGluZzogZmFsc2UsCiAgICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UKICAgICAgICB9OwogICAgICB9OwogICAgfSwKICAgIGV4aXN0c1ByaW50ZXI6IGZ1bmN0aW9uIGV4aXN0c1ByaW50ZXIoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuYW1lc3BhY2UpIHsKICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoc3RhdGUpLmluY2x1ZGVzKG5hbWVzcGFjZSk7CiAgICAgIH07CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICByZWdpc3RlclByaW50ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyUHJpbnRlcihfcmVmLCBwYXlsb2FkKSB7CiAgICAgIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsCiAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdCwKICAgICAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDsKCiAgICAgIGlmICghdGhpcy5oYXNNb2R1bGUoWydmYXJtJywgcGF5bG9hZC5pZF0pKSB7CiAgICAgICAgdGhpcy5yZWdpc3Rlck1vZHVsZShbJ2Zhcm0nLCBwYXlsb2FkLmlkXSwgcHJpbnRlcik7CiAgICAgICAgY29tbWl0KCdmYXJtLycgKyBwYXlsb2FkLmlkICsgJy9zZXRTb2NrZXREYXRhJywgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwYXlsb2FkKSwge30sIHsKICAgICAgICAgIF9uYW1lc3BhY2U6IHBheWxvYWQuaWQKICAgICAgICB9KSwgewogICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgIH0pOwogICAgICAgIGlmICgnc2V0dGluZ3MnIGluIHBheWxvYWQpIGNvbW1pdCgnZmFybS8nICsgcGF5bG9hZC5pZCArICcvc2V0U2V0dGluZ3MnLCBwYXlsb2FkLnNldHRpbmdzLCB7CiAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgfSk7CiAgICAgICAgZGlzcGF0Y2goJ2Zhcm0vJyArIHBheWxvYWQuaWQgKyAnL2Nvbm5lY3QnLCB7fSwgewogICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgdXBkYXRlUHJpbnRlcjogZnVuY3Rpb24gdXBkYXRlUHJpbnRlcihfcmVmMiwgcGF5bG9hZCkgewogICAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmMi5kaXNwYXRjaCwKICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgY29tbWl0KHBheWxvYWQuaWQgKyAnL3NldFNvY2tldERhdGEnLCB7CiAgICAgICAgaG9zdG5hbWU6IHBheWxvYWQudmFsdWVzLmhvc3RuYW1lLAogICAgICAgIHBvcnQ6IHBheWxvYWQudmFsdWVzLnBvcnQsCiAgICAgICAgaXNDb25uZWN0aW5nOiB0cnVlCiAgICAgIH0pOwogICAgICBkaXNwYXRjaChwYXlsb2FkLmlkICsgJy9yZWNvbm5lY3QnKTsKICAgIH0sCiAgICB1bnJlZ2lzdGVyUHJpbnRlcjogZnVuY3Rpb24gdW5yZWdpc3RlclByaW50ZXIoX3JlZjMsIGlkKSB7CiAgICAgIHZhciBzdGF0ZSA9IF9yZWYzLnN0YXRlOwoKICAgICAgaWYgKGlkIGluIHN0YXRlKSB7CiAgICAgICAgdmFyIF9zdGF0ZSRpZCRzb2NrZXQsIF9zdGF0ZSRpZCRzb2NrZXQkaW5zdDsKCiAgICAgICAgKF9zdGF0ZSRpZCRzb2NrZXQgPSBzdGF0ZVtpZF0uc29ja2V0KSA9PT0gbnVsbCB8fCBfc3RhdGUkaWQkc29ja2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3N0YXRlJGlkJHNvY2tldCRpbnN0ID0gX3N0YXRlJGlkJHNvY2tldC5pbnN0YW5jZSkgPT09IG51bGwgfHwgX3N0YXRlJGlkJHNvY2tldCRpbnN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc3RhdGUkaWQkc29ja2V0JGluc3QuY2xvc2UoKTsKICAgICAgICB0aGlzLnVucmVnaXN0ZXJNb2R1bGUoWydmYXJtJywgaWRdKTsKICAgICAgfQogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7fQp9Ow=="},{"version":3,"sources":["/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/farm/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { printer } from '@/store/farm/printer'\nimport { Module } from 'vuex'\nimport { FarmState } from '@/store/farm/types'\nimport {RootState} from '@/store/types'\n\nexport const getDefaultState = (): FarmState => {\n    return {\n\n    }\n}\n\n// initial state\nconst state = () => {\n    return getDefaultState()\n}\n\nexport const farm: Module<FarmState, RootState> = {\n    namespaced: true,\n    state: state,\n    getters: {\n        countPrinters: state => {\n            return Object.keys(state).length\n        },\n        getPrinters: state => {\n            return state\n        },\n        getPrinterName: (state, getters) => (namespace: string) => {\n            return getters[namespace+'/getPrinterName']\n        },\n        getPrinterSocketState: (state, getters) => (namespace: string) => {\n            return getters[namespace+'/getPrinterSocketState'] ?? {\n                isConnecting: false,\n                isConnected: false\n            }\n        },\n        existsPrinter: (state) => (namespace: string) => {\n            return Object.keys(state).includes(namespace)\n        }\n    },\n    actions: {\n        registerPrinter({ state, commit, dispatch }, payload) {\n            if (!this.hasModule(['farm', payload.id])) {\n                this.registerModule(['farm', payload.id], printer)\n                commit('farm/'+payload.id+'/setSocketData', {...payload, _namespace: payload.id }, { root: true })\n\n                if ('settings' in payload) commit('farm/'+payload.id+'/setSettings', payload.settings, { root: true })\n                dispatch('farm/'+payload.id+'/connect', {}, { root: true })\n            }\n        },\n        updatePrinter({ dispatch, commit }, payload) {\n            commit(payload.id+'/setSocketData', {\n                hostname: payload.values.hostname,\n                port: payload.values.port,\n                isConnecting: true,\n            })\n            dispatch(payload.id+'/reconnect')\n        },\n        unregisterPrinter({ state }, id) {\n            if (id in state) {\n\t\t\t\tstate[id].socket?.instance?.close()\n\t\t\t\tthis.unregisterModule(['farm', id])\n            }\n        }\n    },\n    mutations: {\n\n    }\n}"],"sourceRoot":""}]}