{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js??ref--15-2!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/printer/tempHistory/mutations.ts","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/printer/tempHistory/mutations.ts","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1645990065243}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvYW5uZS1zb3BoaWVyb3kvRG93bmxvYWRzL01haW5zYWlsL21haW5zYWlsLW1haW50ZW5hbmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5lbmRzLXdpdGguanMiOwppbXBvcnQgeyBnZXREZWZhdWx0U3RhdGUgfSBmcm9tICcuL2luZGV4JzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwpleHBvcnQgdmFyIG11dGF0aW9ucyA9IHsKICByZXNldDogZnVuY3Rpb24gcmVzZXQoc3RhdGUpIHsKICAgIE9iamVjdC5hc3NpZ24oc3RhdGUsIGdldERlZmF1bHRTdGF0ZSgpKTsKICB9LAogIHNldEluaXRTb3VyY2U6IGZ1bmN0aW9uIHNldEluaXRTb3VyY2Uoc3RhdGUsIHBheWxvYWQpIHsKICAgIFZ1ZS5zZXQoc3RhdGUsICdzb3VyY2UnLCBwYXlsb2FkKTsKICB9LAogIHNldEluaXRTZXJpZXM6IGZ1bmN0aW9uIHNldEluaXRTZXJpZXMoc3RhdGUsIHBheWxvYWQpIHsKICAgIFZ1ZS5zZXQoc3RhdGUsICdzZXJpZXMnLCBwYXlsb2FkKTsKICB9LAogIGFkZFRvU291cmNlOiBmdW5jdGlvbiBhZGRUb1NvdXJjZShzdGF0ZSwgcGF5bG9hZCkgewogICAgdmFyIG5ld1NvdXJjZSA9IF90b0NvbnN1bWFibGVBcnJheShzdGF0ZS5zb3VyY2UpOwoKICAgIG5ld1NvdXJjZS5wdXNoKHBheWxvYWQuZGF0YSk7CgogICAgd2hpbGUgKG5ld1NvdXJjZS5sZW5ndGggPiBwYXlsb2FkLm1heEhpc3RvcnkpIHsKICAgICAgbmV3U291cmNlLnNwbGljZSgwLCAxKTsKICAgIH0KCiAgICBWdWUuc2V0KHN0YXRlLCAnc291cmNlJywgbmV3U291cmNlKTsKICB9LAogIC8vIGZ1bmN0aW9uIGZvciBkZWJ1Z2dpbmcgdGVtcGNoYXJ0IHVwZGF0ZSBpbnRlcnZhbCAoYnJvd3NlciBzbGVlcCkKICBzYXZlTGFzdERhdGU6IGZ1bmN0aW9uIHNhdmVMYXN0RGF0ZShzdGF0ZSwgcGF5bG9hZCkgewogICAgVnVlLnNldChzdGF0ZSwgJ3RpbWVMYXN0VXBkYXRlJywgcGF5bG9hZCk7CiAgfSwKICBzZXRVcGRhdGVTb3VyY2VJbnRlcnZhbDogZnVuY3Rpb24gc2V0VXBkYXRlU291cmNlSW50ZXJ2YWwoc3RhdGUsIHBheWxvYWQpIHsKICAgIFZ1ZS5zZXQoc3RhdGUsICd1cGRhdGVTb3VyY2VJbnRlcnZhbCcsIHBheWxvYWQpOwogIH0sCiAgc2V0Q29sb3I6IGZ1bmN0aW9uIHNldENvbG9yKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS5zZXJpZXMuZmlsdGVyKGZ1bmN0aW9uIChzZXJpZSkgewogICAgICByZXR1cm4gcGF5bG9hZC5uYW1lID09PSBzZXJpZS5uYW1lIHx8IHNlcmllLm5hbWUuc3RhcnRzV2l0aChwYXlsb2FkLm5hbWUgKyAnLScpOwogICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoc2VyaWUpIHsKICAgICAgc2VyaWUuY29sb3IgPSBwYXlsb2FkLnZhbHVlOwogICAgICBzZXJpZS5saW5lU3R5bGUuY29sb3IgPSBwYXlsb2FkLnZhbHVlOwogICAgICBzZXJpZS5lbXBoYXNpcy5saW5lU3R5bGUuY29sb3IgPSBwYXlsb2FkLnZhbHVlOwoKICAgICAgaWYgKHNlcmllLm5hbWUuZW5kc1dpdGgoJy10YXJnZXQnKSkgewogICAgICAgIHZhciBfc2VyaWUkZW1waGFzaXM7CgogICAgICAgIHZhciBhcmVhU3R5bGUgPSBzZXJpZS5hcmVhU3R5bGU7CiAgICAgICAgaWYgKGFyZWFTdHlsZSkgYXJlYVN0eWxlLmNvbG9yID0gcGF5bG9hZC52YWx1ZTsKICAgICAgICB2YXIgYXJlYVN0eWxlMiA9IChfc2VyaWUkZW1waGFzaXMgPSBzZXJpZS5lbXBoYXNpcykgPT09IG51bGwgfHwgX3NlcmllJGVtcGhhc2lzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc2VyaWUkZW1waGFzaXMuYXJlYVN0eWxlOwogICAgICAgIGlmIChhcmVhU3R5bGUyKSBhcmVhU3R5bGUyLmNvbG9yID0gcGF5bG9hZC52YWx1ZTsKICAgICAgfQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/printer/tempHistory/mutations.ts"],"names":[],"mappings":";;;;;;;;AAAA,SAAS,eAAT,QAAgC,SAAhC;AACA,OAAO,GAAP,MAAgB,KAAhB;AAIA,OAAO,IAAM,SAAS,GAA0C;AAC5D,EAAA,KAD4D,iBACtD,KADsD,EACjD;AACP,IAAA,MAAM,CAAC,MAAP,CAAc,KAAd,EAAqB,eAAe,EAApC;AACH,GAH2D;AAK5D,EAAA,aAL4D,yBAK9C,KAL8C,EAKvC,OALuC,EAKhC;AACxB,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,QAAf,EAAyB,OAAzB;AACH,GAP2D;AAS5D,EAAA,aAT4D,yBAS9C,KAT8C,EASvC,OATuC,EAShC;AACxB,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,QAAf,EAAyB,OAAzB;AACH,GAX2D;AAa5D,EAAA,WAb4D,uBAahD,KAbgD,EAazC,OAbyC,EAalC;AACtB,QAAM,SAAS,sBAAO,KAAK,CAAC,MAAb,CAAf;;AACA,IAAA,SAAS,CAAC,IAAV,CAAe,OAAO,CAAC,IAAvB;;AACA,WAAO,SAAS,CAAC,MAAV,GAAmB,OAAO,CAAC,UAAlC;AAA8C,MAAA,SAAS,CAAC,MAAV,CAAiB,CAAjB,EAAoB,CAApB;AAA9C;;AAEA,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,QAAf,EAAyB,SAAzB;AACH,GAnB2D;AAqB5D;AACA,EAAA,YAtB4D,wBAsB/C,KAtB+C,EAsBxC,OAtBwC,EAsBjC;AACvB,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,gBAAf,EAAiC,OAAjC;AACH,GAxB2D;AA0B5D,EAAA,uBA1B4D,mCA0BpC,KA1BoC,EA0B7B,OA1B6B,EA0BtB;AAClC,IAAA,GAAG,CAAC,GAAJ,CAAQ,KAAR,EAAe,sBAAf,EAAuC,OAAvC;AACH,GA5B2D;AA8B5D,EAAA,QA9B4D,oBA8BnD,KA9BmD,EA8B5C,OA9B4C,EA8BrC;AACnB,IAAA,KAAK,CAAC,MAAN,CAAa,MAAb,CAAoB,UAAC,KAAD,EAAwC;AACxD,aAAO,OAAO,CAAC,IAAR,KAAiB,KAAK,CAAC,IAAvB,IAA+B,KAAK,CAAC,IAAN,CAAW,UAAX,CAAsB,OAAO,CAAC,IAAR,GAAa,GAAnC,CAAtC;AACH,KAFD,EAEG,OAFH,CAEW,UAAC,KAAD,EAAwC;AAC/C,MAAA,KAAK,CAAC,KAAN,GAAc,OAAO,CAAC,KAAtB;AACA,MAAA,KAAK,CAAC,SAAN,CAAgB,KAAhB,GAAwB,OAAO,CAAC,KAAhC;AACA,MAAA,KAAK,CAAC,QAAN,CAAe,SAAf,CAAyB,KAAzB,GAAiC,OAAO,CAAC,KAAzC;;AAEA,UAAI,KAAK,CAAC,IAAN,CAAW,QAAX,CAAoB,SAApB,CAAJ,EAAoC;AAAA;;AAChC,YAAM,SAAS,GAAG,KAAK,CAAC,SAAxB;AACA,YAAI,SAAJ,EAAe,SAAS,CAAC,KAAV,GAAkB,OAAO,CAAC,KAA1B;AAEf,YAAM,UAAU,sBAAG,KAAK,CAAC,QAAT,oDAAG,gBAAgB,SAAnC;AACA,YAAI,UAAJ,EAAgB,UAAU,CAAC,KAAX,GAAmB,OAAO,CAAC,KAA3B;AACnB;AACJ,KAdD;AAeH;AA9C2D,CAAzD","sourcesContent":["import { getDefaultState } from './index'\nimport Vue from 'vue'\nimport {MutationTree} from 'vuex'\nimport {PrinterTempHistoryState, PrinterTempHistoryStateSerie} from '@/store/printer/tempHistory/types'\n\nexport const mutations: MutationTree<PrinterTempHistoryState> = {\n    reset(state) {\n        Object.assign(state, getDefaultState())\n    },\n\n    setInitSource(state, payload) {\n        Vue.set(state, 'source', payload)\n    },\n\n    setInitSeries(state, payload) {\n        Vue.set(state, 'series', payload)\n    },\n\n    addToSource(state, payload) {\n        const newSource = [...state.source]\n        newSource.push(payload.data)\n        while (newSource.length > payload.maxHistory) newSource.splice(0, 1)\n\n        Vue.set(state, 'source', newSource)\n    },\n\n    // function for debugging tempchart update interval (browser sleep)\n    saveLastDate(state, payload) {\n        Vue.set(state, 'timeLastUpdate', payload)\n    },\n\n    setUpdateSourceInterval(state, payload) {\n        Vue.set(state, 'updateSourceInterval', payload)\n    },\n\n    setColor(state, payload) {\n        state.series.filter((serie: PrinterTempHistoryStateSerie) => {\n            return payload.name === serie.name || serie.name.startsWith(payload.name+'-')\n        }).forEach((serie: PrinterTempHistoryStateSerie) => {\n            serie.color = payload.value\n            serie.lineStyle.color = payload.value\n            serie.emphasis.lineStyle.color = payload.value\n\n            if (serie.name.endsWith('-target')) {\n                const areaStyle = serie.areaStyle\n                if (areaStyle) areaStyle.color = payload.value\n\n                const areaStyle2 = serie.emphasis?.areaStyle\n                if (areaStyle2) areaStyle2.color = payload.value\n            }\n        })\n    },\n}"],"sourceRoot":""}]}