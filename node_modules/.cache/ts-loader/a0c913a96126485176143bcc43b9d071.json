{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js??ref--15-2!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/panels/Machine/ConfigFilesPanel.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/panels/Machine/ConfigFilesPanel.vue","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1645990069130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9hbm5lLXNvcGhpZXJveS9Eb3dubG9hZHMvTWFpbnNhaWwvbWFpbnNhaWwtbWFpbnRlbmFuY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2FubmUtc29waGllcm95L0Rvd25sb2Fkcy9NYWluc2FpbC9tYWluc2FpbC1tYWludGVuYW5jZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1VzZXJzL2FubmUtc29waGllcm95L0Rvd25sb2Fkcy9NYWluc2FpbC9tYWluc2FpbC1tYWludGVuYW5jZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy9hbm5lLXNvcGhpZXJveS9Eb3dubG9hZHMvTWFpbnNhaWwvbWFpbnNhaWwtbWFpbnRlbmFuY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvYW5uZS1zb3BoaWVyb3kvRG93bmxvYWRzL01haW5zYWlsL21haW5zYWlsLW1haW50ZW5hbmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gIi9Vc2Vycy9hbm5lLXNvcGhpZXJveS9Eb3dubG9hZHMvTWFpbnNhaWwvbWFpbnNhaWwtbWFpbnRlbmFuY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2Fzc2VydFRoaXNJbml0aWFsaXplZC5qcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL2FubmUtc29waGllcm95L0Rvd25sb2Fkcy9NYWluc2FpbC9tYWluc2FpbC1tYWludGVuYW5jZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMuanMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy9hbm5lLXNvcGhpZXJveS9Eb3dubG9hZHMvTWFpbnNhaWwvbWFpbnNhaWwtbWFpbnRlbmFuY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyLmpzIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvYW5uZS1zb3BoaWVyb3kvRG93bmxvYWRzL01haW5zYWlsL21haW5zYWlsLW1haW50ZW5hbmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50LCBNaXhpbnMgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IEJhc2VNaXhpbiBmcm9tICdAL2NvbXBvbmVudHMvbWl4aW5zL2Jhc2UnOwppbXBvcnQgeyBmb3JtYXREYXRlLCBmb3JtYXRGaWxlc2l6ZSwgc29ydEZpbGVzIH0gZnJvbSAnQC9wbHVnaW5zL2hlbHBlcnMnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL3VpL1BhbmVsLnZ1ZSc7CmltcG9ydCB7IGhpZGRlblJvb3REaXJlY3RvcmllcyB9IGZyb20gJ0Avc3RvcmUvdmFyaWFibGVzJzsKCnZhciBDb25maWdGaWxlc1BhbmVsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfTWl4aW5zKSB7CiAgX2luaGVyaXRzKENvbmZpZ0ZpbGVzUGFuZWwsIF9NaXhpbnMpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKENvbmZpZ0ZpbGVzUGFuZWwpOwoKICBmdW5jdGlvbiBDb25maWdGaWxlc1BhbmVsKCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb25maWdGaWxlc1BhbmVsKTsKCiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsLmFwcGx5KF9zdXBlciwgW3RoaXNdLmNvbmNhdChhcmdzKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAic29ydEZpbGVzIiwgc29ydEZpbGVzKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJmb3JtYXRGaWxlc2l6ZSIsIGZvcm1hdEZpbGVzaXplKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJmb3JtYXREYXRlIiwgZm9ybWF0RGF0ZSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiJHJlZnMiLCB2b2lkIDApOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInNlbGVjdGVkIiwgW10pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgIm9wdGlvbnMiLCB7fSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiY3VycmVudFBhZ2UiLCAxKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJjb250ZXh0TWVudSIsIHsKICAgICAgc2hvd246IGZhbHNlLAogICAgICBpc0RpcmVjdG9yeTogZmFsc2UsCiAgICAgIHRvdWNoVGltZXI6IG51bGwsCiAgICAgIHg6IDAsCiAgICAgIHk6IDAsCiAgICAgIGl0ZW06IHsKICAgICAgICBpc0RpcmVjdG9yeTogZmFsc2UsCiAgICAgICAgZmlsZW5hbWU6ICcnLAogICAgICAgIHBlcm1pc3Npb25zOiAnJywKICAgICAgICBtb2RpZmllZDogbmV3IERhdGUoKQogICAgICB9CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJkaWFsb2dJbWFnZSIsIHsKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIGl0ZW06IHsKICAgICAgICBuYW1lOiBudWxsLAogICAgICAgIHVybDogbnVsbCwKICAgICAgICBzdmc6IG51bGwKICAgICAgfQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZGlhbG9nQ3JlYXRlRmlsZSIsIHsKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIG5hbWU6ICcnCiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJkaWFsb2dSZW5hbWVGaWxlIiwgewogICAgICBzaG93OiBmYWxzZSwKICAgICAgbmV3TmFtZTogJycsCiAgICAgIGl0ZW06IHsKICAgICAgICBpc0RpcmVjdG9yeTogZmFsc2UsCiAgICAgICAgZmlsZW5hbWU6ICcnLAogICAgICAgIHBlcm1pc3Npb25zOiAnJywKICAgICAgICBtb2RpZmllZDogbmV3IERhdGUoKQogICAgICB9CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJkaWFsb2dDcmVhdGVEaXJlY3RvcnkiLCB7CiAgICAgIHNob3c6IGZhbHNlLAogICAgICBuYW1lOiAnJwogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZGlhbG9nUmVuYW1lRGlyZWN0b3J5IiwgewogICAgICBzaG93OiBmYWxzZSwKICAgICAgbmV3TmFtZTogJycsCiAgICAgIGl0ZW06IHsKICAgICAgICBpc0RpcmVjdG9yeTogZmFsc2UsCiAgICAgICAgZmlsZW5hbWU6ICcnLAogICAgICAgIHBlcm1pc3Npb25zOiAnJywKICAgICAgICBtb2RpZmllZDogbmV3IERhdGUoKQogICAgICB9CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJkaWFsb2dEZWxldGVEaXJlY3RvcnkiLCB7CiAgICAgIHNob3c6IGZhbHNlLAogICAgICBpdGVtOiB7CiAgICAgICAgaXNEaXJlY3Rvcnk6IGZhbHNlLAogICAgICAgIGZpbGVuYW1lOiAnJywKICAgICAgICBwZXJtaXNzaW9uczogJycsCiAgICAgICAgbW9kaWZpZWQ6IG5ldyBEYXRlKCkKICAgICAgfQogICAgfSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAidXBsb2FkU25hY2tiYXIiLCB7CiAgICAgIHN0YXR1czogZmFsc2UsCiAgICAgIGZpbGVuYW1lOiAnJywKICAgICAgcGVyY2VudDogMCwKICAgICAgc3BlZWQ6IDAsCiAgICAgIHRvdGFsOiAwLAogICAgICBudW1iZXI6IDAsCiAgICAgIG1heDogMCwKICAgICAgY2FuY2VsVG9rZW5Tb3VyY2U6IHt9LAogICAgICBsYXN0UHJvZ3Jlc3M6IHsKICAgICAgICB0aW1lOiAwLAogICAgICAgIGxvYWRlZDogMAogICAgICB9CiAgICB9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJkcmFnZ2luZ0ZpbGUiLCB7CiAgICAgIHN0YXR1czogZmFsc2UsCiAgICAgIGl0ZW06IHsKICAgICAgICBpc0RpcmVjdG9yeTogZmFsc2UsCiAgICAgICAgZmlsZW5hbWU6ICcnLAogICAgICAgIHBlcm1pc3Npb25zOiAnJywKICAgICAgICBtb2RpZmllZDogbmV3IERhdGUoKQogICAgICB9CiAgICB9KTsKCiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQ29uZmlnRmlsZXNQYW5lbCwgW3sKICAgIGtleTogInRvb2xiYXJCdXR0b25zIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gW3sKICAgICAgICB0ZXh0OiB0aGlzLiR0KCdNYWNoaW5lLkNvbmZpZ0ZpbGVzUGFuZWwuVXBsb2FkRmlsZScpLAogICAgICAgIGNvbG9yOiAnZ3JleSBkYXJrZW4tMycsCiAgICAgICAgaWNvbjogJ21kaS1maWxlLXVwbG9hZCcsCiAgICAgICAgbG9hZGluZ05hbWU6IG51bGwsCiAgICAgICAgb25seVdyaXRlYWJsZTogdHJ1ZSwKICAgICAgICBjbGljazogdGhpcy51cGxvYWRGaWxlQnV0dG9uCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB0aGlzLiR0KCdNYWNoaW5lLkNvbmZpZ0ZpbGVzUGFuZWwuQ3JlYXRlRmlsZScpLAogICAgICAgIGNvbG9yOiAnZ3JleSBkYXJrZW4tMycsCiAgICAgICAgaWNvbjogJ21kaS1maWxlLXBsdXMnLAogICAgICAgIGxvYWRpbmdOYW1lOiBudWxsLAogICAgICAgIG9ubHlXcml0ZWFibGU6IHRydWUsCiAgICAgICAgY2xpY2s6IHRoaXMuY3JlYXRlRmlsZQogICAgICB9LCB7CiAgICAgICAgdGV4dDogdGhpcy4kdCgnTWFjaGluZS5Db25maWdGaWxlc1BhbmVsLkNyZWF0ZURpcmVjdG9yeScpLAogICAgICAgIGNvbG9yOiAnZ3JleSBkYXJrZW4tMycsCiAgICAgICAgaWNvbjogJ21kaS1mb2xkZXItcGx1cycsCiAgICAgICAgbG9hZGluZ05hbWU6IG51bGwsCiAgICAgICAgb25seVdyaXRlYWJsZTogdHJ1ZSwKICAgICAgICBjbGljazogdGhpcy5jcmVhdGVEaXJlY290cnkKICAgICAgfSwgewogICAgICAgIHRleHQ6IHRoaXMuJHQoJ01hY2hpbmUuQ29uZmlnRmlsZXNQYW5lbC5SZWZyZXNoRGlyZWN0b3J5JyksCiAgICAgICAgY29sb3I6ICdncmV5IGRhcmtlbi0zJywKICAgICAgICBpY29uOiAnbWRpLXJlZnJlc2gnLAogICAgICAgIGxvYWRpbmdOYW1lOiBudWxsLAogICAgICAgIG9ubHlXcml0ZWFibGU6IGZhbHNlLAogICAgICAgIGNsaWNrOiB0aGlzLnJlZnJlc2hGaWxlTGlzdAogICAgICB9XTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmaWx0ZXJlZFRvb2xiYXJCdXR0b25zIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiB0aGlzLnRvb2xiYXJCdXR0b25zLmZpbHRlcihmdW5jdGlvbiAoYnV0dG9uKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5kaXJlY3RvcnlQZXJtaXNzaW9ucy5pbmNsdWRlcygndycpICYmIGJ1dHRvbi5vbmx5V3JpdGVhYmxlIHx8ICFidXR0b24ub25seVdyaXRlYWJsZTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWJzb2x1dGVQYXRoIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgcGF0aCA9ICcvJyArIHRoaXMucm9vdDsKICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpIHBhdGggKz0gdGhpcy5jdXJyZW50UGF0aDsKICAgICAgcmV0dXJuIHBhdGg7CiAgICB9CiAgfSwgewogICAga2V5OiAiZGlyZWN0b3J5IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snZmlsZXMvZ2V0RGlyZWN0b3J5J10odGhpcy5hYnNvbHV0ZVBhdGgpOwogICAgfQogIH0sIHsKICAgIGtleTogImRpc2tfdXNhZ2UiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRkaXJlY3RvcnkkZGlza18sIF90aGlzJGRpcmVjdG9yeTsKCiAgICAgIHJldHVybiAoX3RoaXMkZGlyZWN0b3J5JGRpc2tfID0gKF90aGlzJGRpcmVjdG9yeSA9IHRoaXMuZGlyZWN0b3J5KSA9PT0gbnVsbCB8fCBfdGhpcyRkaXJlY3RvcnkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGRpcmVjdG9yeS5kaXNrX3VzYWdlKSAhPT0gbnVsbCAmJiBfdGhpcyRkaXJlY3RvcnkkZGlza18gIT09IHZvaWQgMCA/IF90aGlzJGRpcmVjdG9yeSRkaXNrXyA6IHsKICAgICAgICB1c2VkOiAwLAogICAgICAgIGZyZWU6IDAsCiAgICAgICAgdG90YWw6IDAKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkaXJlY3RvcnlQZXJtaXNzaW9ucyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJGRpcmVjdG9yeSRwZXJtaSwgX3RoaXMkZGlyZWN0b3J5MjsKCiAgICAgIHJldHVybiAoX3RoaXMkZGlyZWN0b3J5JHBlcm1pID0gKF90aGlzJGRpcmVjdG9yeTIgPSB0aGlzLmRpcmVjdG9yeSkgPT09IG51bGwgfHwgX3RoaXMkZGlyZWN0b3J5MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZGlyZWN0b3J5Mi5wZXJtaXNzaW9ucykgIT09IG51bGwgJiYgX3RoaXMkZGlyZWN0b3J5JHBlcm1pICE9PSB2b2lkIDAgPyBfdGhpcyRkaXJlY3RvcnkkcGVybWkgOiAncic7CiAgICB9CiAgfSwgewogICAga2V5OiAiZmlsZXMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyRkaXJlY3RvcnkkY2hpbGQsIF90aGlzJGRpcmVjdG9yeTM7CgogICAgICB2YXIgZmlsZXMgPSBfdG9Db25zdW1hYmxlQXJyYXkoKF90aGlzJGRpcmVjdG9yeSRjaGlsZCA9IChfdGhpcyRkaXJlY3RvcnkzID0gdGhpcy5kaXJlY3RvcnkpID09PSBudWxsIHx8IF90aGlzJGRpcmVjdG9yeTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGRpcmVjdG9yeTMuY2hpbGRyZW5zKSAhPT0gbnVsbCAmJiBfdGhpcyRkaXJlY3RvcnkkY2hpbGQgIT09IHZvaWQgMCA/IF90aGlzJGRpcmVjdG9yeSRjaGlsZCA6IFtdKTsKCiAgICAgIGlmICghdGhpcy5zaG93SGlkZGVuRmlsZXMpIHsKICAgICAgICBmaWxlcyA9IGZpbGVzLmZpbHRlcihmdW5jdGlvbiAoZmlsZSkgewogICAgICAgICAgcmV0dXJuIGZpbGUuZmlsZW5hbWUuc3Vic3RyKDAsIDEpICE9PSAnLic7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmhpZGVCYWNrdXBGaWxlcykgewogICAgICAgIHZhciBiYWNrdXBGaWxlTWF0Y2hlciA9IC8uKlwvP3ByaW50ZXItXGR7OH1fXGR7Nn1cLmNmZyQvOwogICAgICAgIGZpbGVzID0gZmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChmaWxlKSB7CiAgICAgICAgICByZXR1cm4gIWZpbGUuZmlsZW5hbWUubWF0Y2goYmFja3VwRmlsZU1hdGNoZXIpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gZmlsZXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGVhZGVycyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIFt7CiAgICAgICAgdGV4dDogJycsCiAgICAgICAgdmFsdWU6ICcnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB0aGlzLiR0KCdNYWNoaW5lLkNvbmZpZ0ZpbGVzUGFuZWwuTmFtZScpLAogICAgICAgIHZhbHVlOiAnZmlsZW5hbWUnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB0aGlzLiR0KCdNYWNoaW5lLkNvbmZpZ0ZpbGVzUGFuZWwuRmlsZXNpemUnKSwKICAgICAgICB2YWx1ZTogJ3NpemUnLAogICAgICAgIGFsaWduOiAncmlnaHQnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiB0aGlzLiR0KCdNYWNoaW5lLkNvbmZpZ0ZpbGVzUGFuZWwuTGFzdE1vZGlmaWVkJyksCiAgICAgICAgdmFsdWU6ICdtb2RpZmllZCcsCiAgICAgICAgYWxpZ246ICdyaWdodCcKICAgICAgfV07CiAgICB9CiAgfSwgewogICAga2V5OiAiY291bnRQZXJQYWdlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZ3VpLnZpZXcuY29uZmlnZmlsZXMuY291bnRQZXJQYWdlOwogICAgfSwKICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld1ZhbCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ3VpL3NhdmVTZXR0aW5nJywgewogICAgICAgIG5hbWU6ICd2aWV3LmNvbmZpZ2ZpbGVzLmNvdW50UGVyUGFnZScsCiAgICAgICAgdmFsdWU6IG5ld1ZhbAogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzaG93SGlkZGVuRmlsZXMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5ndWkudmlldy5jb25maWdmaWxlcy5zaG93SGlkZGVuRmlsZXM7CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3VmFsKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdndWkvc2F2ZVNldHRpbmcnLCB7CiAgICAgICAgbmFtZTogJ3ZpZXcuY29uZmlnZmlsZXMuc2hvd0hpZGRlbkZpbGVzJywKICAgICAgICB2YWx1ZTogbmV3VmFsCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImhpZGVCYWNrdXBGaWxlcyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmd1aS52aWV3LmNvbmZpZ2ZpbGVzLmhpZGVCYWNrdXBGaWxlczsKICAgIH0sCiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdWYWwpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2d1aS9zYXZlU2V0dGluZycsIHsKICAgICAgICBuYW1lOiAndmlldy5jb25maWdmaWxlcy5oaWRlQmFja3VwRmlsZXMnLAogICAgICAgIHZhbHVlOiBuZXdWYWwKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAic29ydEJ5IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZ3VpLnZpZXcuY29uZmlnZmlsZXMuc29ydEJ5OwogICAgfSwKICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld1ZhbCkgewogICAgICBpZiAobmV3VmFsID09PSB1bmRlZmluZWQpIG5ld1ZhbCA9ICdmaWxlbmFtZSc7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdndWkvc2F2ZVNldHRpbmcnLCB7CiAgICAgICAgbmFtZTogJ3ZpZXcuY29uZmlnZmlsZXMuc29ydEJ5JywKICAgICAgICB2YWx1ZTogbmV3VmFsCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInNvcnREZXNjIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZ3VpLnZpZXcuY29uZmlnZmlsZXMuc29ydERlc2M7CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3VmFsKSB7CiAgICAgIGlmIChuZXdWYWwgPT09IHVuZGVmaW5lZCkgbmV3VmFsID0gZmFsc2U7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdndWkvc2F2ZVNldHRpbmcnLCB7CiAgICAgICAgbmFtZTogJ3ZpZXcuY29uZmlnZmlsZXMuc29ydERlc2MnLAogICAgICAgIHZhbHVlOiBuZXdWYWwKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVnaXN0ZXJlZERpcmVjdG9yaWVzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc2VydmVyLnJlZ2lzdGVyZWRfZGlyZWN0b3JpZXMuZmlsdGVyKGZ1bmN0aW9uIChkaXIpIHsKICAgICAgICByZXR1cm4gIWhpZGRlblJvb3REaXJlY3Rvcmllcy5pbmNsdWRlcyhkaXIpOwogICAgICB9KS5zb3J0KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAicm9vdCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmd1aS52aWV3LmNvbmZpZ2ZpbGVzLnJvb3RQYXRoOwogICAgfSwKICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld1ZhbCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ3VpL3NhdmVTZXR0aW5nV2l0aG91dFVwbG9hZCcsIHsKICAgICAgICBuYW1lOiAndmlldy5jb25maWdmaWxlcy5yb290UGF0aCcsCiAgICAgICAgdmFsdWU6IG5ld1ZhbAogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjdXJyZW50UGF0aCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmd1aS52aWV3LmNvbmZpZ2ZpbGVzLmN1cnJlbnRQYXRoOwogICAgfSwKICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld1ZhbCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ3VpL3NhdmVTZXR0aW5nV2l0aG91dFVwbG9hZCcsIHsKICAgICAgICBuYW1lOiAndmlldy5jb25maWdmaWxlcy5jdXJyZW50UGF0aCcsCiAgICAgICAgdmFsdWU6IG5ld1ZhbAogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZWZyZXNoRmlsZUxpc3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlZnJlc2hGaWxlTGlzdCgpIHsKICAgICAgdGhpcy4kc29ja2V0LmVtaXQoJ3NlcnZlci5maWxlcy5nZXRfZGlyZWN0b3J5JywgewogICAgICAgIHBhdGg6IHRoaXMuYWJzb2x1dGVQYXRoLnN1YnN0cmluZygxKQogICAgICB9LCB7CiAgICAgICAgYWN0aW9uOiAnZmlsZXMvZ2V0RGlyZWN0b3J5JwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjaGFuZ2VSb290IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VSb290KCkgewogICAgICB0aGlzLmN1cnJlbnRQYXRoID0gJyc7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2xpY2tSb3ciLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNsaWNrUm93KGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgZm9yY2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlOwoKICAgICAgaWYgKCF0aGlzLmNvbnRleHRNZW51LnNob3duIHx8IGZvcmNlKSB7CiAgICAgICAgaWYgKGZvcmNlKSB0aGlzLmNvbnRleHRNZW51LnNob3duID0gZmFsc2U7CgogICAgICAgIGlmICghaXRlbS5pc0RpcmVjdG9yeSkgewogICAgICAgICAgdmFyIF9pdGVtJGZpbGVuYW1lJHNwbGl0JCwgX2l0ZW0kZmlsZW5hbWUkc3BsaXQkMjsKCiAgICAgICAgICBpZiAoWydwbmcnLCAnanBlZycsICdqcGcnLCAnZ2lmJywgJ2JtcCcsICd0aWYnLCAnc3ZnJ10uaW5jbHVkZXMoKF9pdGVtJGZpbGVuYW1lJHNwbGl0JCA9IChfaXRlbSRmaWxlbmFtZSRzcGxpdCQyID0gaXRlbS5maWxlbmFtZS5zcGxpdCgnLicpLnBvcCgpKSA9PT0gbnVsbCB8fCBfaXRlbSRmaWxlbmFtZSRzcGxpdCQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaXRlbSRmaWxlbmFtZSRzcGxpdCQyLnRvTG93ZXJDYXNlKCkpICE9PSBudWxsICYmIF9pdGVtJGZpbGVuYW1lJHNwbGl0JCAhPT0gdm9pZCAwID8gX2l0ZW0kZmlsZW5hbWUkc3BsaXQkIDogJycpKSB7CiAgICAgICAgICAgIHZhciBfaXRlbSRmaWxlbmFtZSRzcGxpdCQzLCBfaXRlbSRmaWxlbmFtZSRzcGxpdCQ0OwoKICAgICAgICAgICAgdmFyIHVybCA9ICIiLmNvbmNhdCh0aGlzLmFwaVVybCwgIi9zZXJ2ZXIvZmlsZXMiKS5jb25jYXQodGhpcy5hYnNvbHV0ZVBhdGgsICIvIikuY29uY2F0KGl0ZW0uZmlsZW5hbWUsICI/dD0iKS5jb25jYXQoRGF0ZS5ub3coKSk7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nSW1hZ2UuaXRlbS5uYW1lID0gaXRlbS5maWxlbmFtZTsKCiAgICAgICAgICAgIGlmIChbJ3N2ZyddLmluY2x1ZGVzKChfaXRlbSRmaWxlbmFtZSRzcGxpdCQzID0gKF9pdGVtJGZpbGVuYW1lJHNwbGl0JDQgPSBpdGVtLmZpbGVuYW1lLnNwbGl0KCcuJykucG9wKCkpID09PSBudWxsIHx8IF9pdGVtJGZpbGVuYW1lJHNwbGl0JDQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pdGVtJGZpbGVuYW1lJHNwbGl0JDQudG9Mb3dlckNhc2UoKSkgIT09IG51bGwgJiYgX2l0ZW0kZmlsZW5hbWUkc3BsaXQkMyAhPT0gdm9pZCAwID8gX2l0ZW0kZmlsZW5hbWUkc3BsaXQkMyA6ICcnKSkgewogICAgICAgICAgICAgIGZldGNoKHVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnRleHQoKTsKICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChzdmcpIHsKICAgICAgICAgICAgICAgIF90aGlzMy5kaWFsb2dJbWFnZS5zaG93ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzMy5kaWFsb2dJbWFnZS5pdGVtLnN2ZyA9IHN2ZzsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0ltYWdlLnNob3cgPSB0cnVlOwogICAgICAgICAgICAgIHRoaXMuZGlhbG9nSW1hZ2UuaXRlbS51cmwgPSB1cmw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdlZGl0b3Ivb3BlbkZpbGUnLCB7CiAgICAgICAgICAgICAgcm9vdDogdGhpcy5yb290LAogICAgICAgICAgICAgIHBhdGg6IHRoaXMuY3VycmVudFBhdGgsCiAgICAgICAgICAgICAgZmlsZW5hbWU6IGl0ZW0uZmlsZW5hbWUsCiAgICAgICAgICAgICAgc2l6ZTogaXRlbS5zaXplLAogICAgICAgICAgICAgIHBlcm1pc3Npb25zOiBpdGVtLnBlcm1pc3Npb25zCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoICs9ICcvJyArIGl0ZW0uZmlsZW5hbWU7CiAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbGlja1Jvd0dvQmFjayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xpY2tSb3dHb0JhY2soKSB7CiAgICAgIHRoaXMuY3VycmVudFBhdGggPSB0aGlzLmN1cnJlbnRQYXRoLnN1YnN0cigwLCB0aGlzLmN1cnJlbnRQYXRoLmxhc3RJbmRleE9mKCcvJykpOwogICAgfQogIH0sIHsKICAgIGtleTogInNob3dDb250ZXh0TWVudSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0NvbnRleHRNZW51KGUsIGl0ZW0pIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuY29udGV4dE1lbnUuc2hvd24pIHsKICAgICAgICBlID09PSBudWxsIHx8IGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB0aGlzLmNvbnRleHRNZW51LnNob3duID0gdHJ1ZTsKICAgICAgICB0aGlzLmNvbnRleHRNZW51LnggPSAoZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLmNsaWVudFgpIHx8IChlID09PSBudWxsIHx8IGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGUucGFnZVgpIHx8IHdpbmRvdy5zY3JlZW5YIC8gMjsKICAgICAgICB0aGlzLmNvbnRleHRNZW51LnkgPSAoZSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLmNsaWVudFkpIHx8IChlID09PSBudWxsIHx8IGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGUucGFnZVkpIHx8IHdpbmRvdy5zY3JlZW5ZIC8gMjsKICAgICAgICB0aGlzLmNvbnRleHRNZW51Lml0ZW0gPSBpdGVtOwogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzNC5jb250ZXh0TWVudS5zaG93biA9IHRydWU7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJkb3dubG9hZEZpbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRvd25sb2FkRmlsZSgpIHsKICAgICAgdmFyIGZpbGVuYW1lID0gdGhpcy5hYnNvbHV0ZVBhdGggKyAnLycgKyB0aGlzLmNvbnRleHRNZW51Lml0ZW0uZmlsZW5hbWU7CiAgICAgIHZhciBocmVmID0gIiIuY29uY2F0KHRoaXMuYXBpVXJsLCAiL3NlcnZlci9maWxlcyIpLmNvbmNhdChlbmNvZGVVUkkoZmlsZW5hbWUpKTsKICAgICAgd2luZG93Lm9wZW4oaHJlZik7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3JlYXRlRGlyZWNvdHJ5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVEaXJlY290cnkoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy5kaWFsb2dDcmVhdGVEaXJlY3RvcnkubmFtZSA9ICcnOwogICAgICB0aGlzLmRpYWxvZ0NyZWF0ZURpcmVjdG9yeS5zaG93ID0gdHJ1ZTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF90aGlzNSQkcmVmcyRpbnB1dERpYTsKCiAgICAgICAgKF90aGlzNSQkcmVmcyRpbnB1dERpYSA9IF90aGlzNS4kcmVmcy5pbnB1dERpYWxvZ0NyZWF0ZURpcmVjdG9yeU5hbWUpID09PSBudWxsIHx8IF90aGlzNSQkcmVmcyRpbnB1dERpYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXM1JCRyZWZzJGlucHV0RGlhLmZvY3VzKCk7CiAgICAgIH0sIDIwMCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY3JlYXRlRGlyZWN0b3J5QWN0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVEaXJlY3RvcnlBY3Rpb24oKSB7CiAgICAgIHRoaXMuZGlhbG9nQ3JlYXRlRGlyZWN0b3J5LnNob3cgPSBmYWxzZTsKICAgICAgdGhpcy4kc29ja2V0LmVtaXQoJ3NlcnZlci5maWxlcy5wb3N0X2RpcmVjdG9yeScsIHsKICAgICAgICBwYXRoOiB0aGlzLmFic29sdXRlUGF0aC5zdWJzdHJpbmcoMSkgKyAnLycgKyB0aGlzLmRpYWxvZ0NyZWF0ZURpcmVjdG9yeS5uYW1lCiAgICAgIH0sIHsKICAgICAgICBhY3Rpb246ICdmaWxlcy9nZXRDcmVhdGVEaXInCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmFtZURpcmVjdG9yeSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuYW1lRGlyZWN0b3J5KGl0ZW0pIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLmRpYWxvZ1JlbmFtZURpcmVjdG9yeS5pdGVtID0gaXRlbTsKICAgICAgdGhpcy5kaWFsb2dSZW5hbWVEaXJlY3RvcnkubmV3TmFtZSA9IGl0ZW0uZmlsZW5hbWU7CiAgICAgIHRoaXMuZGlhbG9nUmVuYW1lRGlyZWN0b3J5LnNob3cgPSB0cnVlOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3RoaXM2JCRyZWZzJGlucHV0RGlhOwoKICAgICAgICAoX3RoaXM2JCRyZWZzJGlucHV0RGlhID0gX3RoaXM2LiRyZWZzLmlucHV0RGlhbG9nUmVuYW1lRGlyZWN0b3J5TmFtZSkgPT09IG51bGwgfHwgX3RoaXM2JCRyZWZzJGlucHV0RGlhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpczYkJHJlZnMkaW5wdXREaWEuZm9jdXMoKTsKICAgICAgfSwgMjAwKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5hbWVEaXJlY3RvcnlBY3Rpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmFtZURpcmVjdG9yeUFjdGlvbigpIHsKICAgICAgdGhpcy5kaWFsb2dSZW5hbWVEaXJlY3Rvcnkuc2hvdyA9IGZhbHNlOwogICAgICB0aGlzLiRzb2NrZXQuZW1pdCgnc2VydmVyLmZpbGVzLm1vdmUnLCB7CiAgICAgICAgc291cmNlOiAodGhpcy5hYnNvbHV0ZVBhdGggKyAnLycgKyB0aGlzLmRpYWxvZ1JlbmFtZURpcmVjdG9yeS5pdGVtLmZpbGVuYW1lKS5zbGljZSgxKSwKICAgICAgICBkZXN0OiAodGhpcy5hYnNvbHV0ZVBhdGggKyAnLycgKyB0aGlzLmRpYWxvZ1JlbmFtZURpcmVjdG9yeS5uZXdOYW1lKS5zbGljZSgxKQogICAgICB9LCB7CiAgICAgICAgYWN0aW9uOiAnZmlsZXMvZ2V0TW92ZScKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZGVsZXRlRGlyZWN0b3J5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVEaXJlY3RvcnkoaXRlbSkgewogICAgICB0aGlzLmRpYWxvZ0RlbGV0ZURpcmVjdG9yeS5pdGVtID0gaXRlbTsKICAgICAgdGhpcy5kaWFsb2dEZWxldGVEaXJlY3Rvcnkuc2hvdyA9IHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAiZGVsZXRlRGlyZWN0b3J5QWN0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVEaXJlY3RvcnlBY3Rpb24oKSB7CiAgICAgIHRoaXMuZGlhbG9nRGVsZXRlRGlyZWN0b3J5LnNob3cgPSBmYWxzZTsKICAgICAgdGhpcy4kc29ja2V0LmVtaXQoJ3NlcnZlci5maWxlcy5kZWxldGVfZGlyZWN0b3J5JywgewogICAgICAgIHBhdGg6IHRoaXMuYWJzb2x1dGVQYXRoICsgJy8nICsgdGhpcy5kaWFsb2dEZWxldGVEaXJlY3RvcnkuaXRlbS5maWxlbmFtZSwKICAgICAgICBmb3JjZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgYWN0aW9uOiAnZmlsZXMvZ2V0RGVsZXRlRGlyJwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjcmVhdGVGaWxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVGaWxlKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHRoaXMuZGlhbG9nQ3JlYXRlRmlsZS5uYW1lID0gJyc7CiAgICAgIHRoaXMuZGlhbG9nQ3JlYXRlRmlsZS5zaG93ID0gdHJ1ZTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF90aGlzNyQkcmVmcyRpbnB1dERpYTsKCiAgICAgICAgKF90aGlzNyQkcmVmcyRpbnB1dERpYSA9IF90aGlzNy4kcmVmcy5pbnB1dERpYWxvZ0NyZWF0ZUZpbGVOYW1lKSA9PT0gbnVsbCB8fCBfdGhpczckJHJlZnMkaW5wdXREaWEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzNyQkcmVmcyRpbnB1dERpYS5mb2N1cygpOwogICAgICB9LCAyMDApOwogICAgfQogIH0sIHsKICAgIGtleTogImNyZWF0ZUZpbGVBY3Rpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUZpbGVBY3Rpb24oKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdmFyIGZpbGUgPSBuZXcgRmlsZShbJyddLCB0aGlzLmRpYWxvZ0NyZWF0ZUZpbGUubmFtZSk7CiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdyb290JywgdGhpcy5yb290KTsKICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgubGVuZ3RoKSBmb3JtRGF0YS5hcHBlbmQoJ3BhdGgnLCB0aGlzLmN1cnJlbnRQYXRoLnNsaWNlKDEpKTsKICAgICAgYXhpb3MucG9zdCh0aGlzLmFwaVVybCArICcvc2VydmVyL2ZpbGVzL3VwbG9hZCcsIGZvcm1EYXRhLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM4LiR0b2FzdC5zdWNjZXNzKF90aGlzOC4kdCgnRmlsZXMuU3VjY2Vzc2Z1bGx5Q3JlYXRlZCcsIHsKICAgICAgICAgIGZpbGVuYW1lOiBfdGhpczguZGlhbG9nQ3JlYXRlRmlsZS5uYW1lCiAgICAgICAgfSkudG9TdHJpbmcoKSk7CgogICAgICAgIF90aGlzOC5kaWFsb2dDcmVhdGVGaWxlLnNob3cgPSBmYWxzZTsKICAgICAgICBfdGhpczguZGlhbG9nQ3JlYXRlRmlsZS5uYW1lID0gJyc7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB3aW5kb3cuY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRlIGZpbGU6ICcgKyBfdGhpczguZGlhbG9nQ3JlYXRlRmlsZS5uYW1lKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVuYW1lRmlsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuYW1lRmlsZShpdGVtKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgdGhpcy5kaWFsb2dSZW5hbWVGaWxlLml0ZW0gPSBpdGVtOwogICAgICB0aGlzLmRpYWxvZ1JlbmFtZUZpbGUubmV3TmFtZSA9IGl0ZW0uZmlsZW5hbWU7CiAgICAgIHRoaXMuZGlhbG9nUmVuYW1lRmlsZS5zaG93ID0gdHJ1ZTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF90aGlzOSQkcmVmcyRpbnB1dERpYTsKCiAgICAgICAgKF90aGlzOSQkcmVmcyRpbnB1dERpYSA9IF90aGlzOS4kcmVmcy5pbnB1dERpYWxvZ1JlbmFtZUZpbGVOYW1lKSA9PT0gbnVsbCB8fCBfdGhpczkkJHJlZnMkaW5wdXREaWEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzOSQkcmVmcyRpbnB1dERpYS5mb2N1cygpOwogICAgICB9LCAyMDApOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbmFtZUZpbGVBY3Rpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmFtZUZpbGVBY3Rpb24oKSB7CiAgICAgIHRoaXMuZGlhbG9nUmVuYW1lRmlsZS5zaG93ID0gZmFsc2U7CiAgICAgIHRoaXMuJHNvY2tldC5lbWl0KCdzZXJ2ZXIuZmlsZXMubW92ZScsIHsKICAgICAgICBzb3VyY2U6ICh0aGlzLmFic29sdXRlUGF0aCArICcvJyArIHRoaXMuZGlhbG9nUmVuYW1lRmlsZS5pdGVtLmZpbGVuYW1lKS5zbGljZSgxKSwKICAgICAgICBkZXN0OiAodGhpcy5hYnNvbHV0ZVBhdGggKyAnLycgKyB0aGlzLmRpYWxvZ1JlbmFtZUZpbGUubmV3TmFtZSkuc2xpY2UoMSkKICAgICAgfSwgewogICAgICAgIGFjdGlvbjogJ2ZpbGVzL2dldE1vdmUnCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbW92ZUZpbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUZpbGUoKSB7CiAgICAgIHRoaXMuJHNvY2tldC5lbWl0KCdzZXJ2ZXIuZmlsZXMuZGVsZXRlX2ZpbGUnLCB7CiAgICAgICAgcGF0aDogdGhpcy5hYnNvbHV0ZVBhdGggKyAnLycgKyB0aGlzLmNvbnRleHRNZW51Lml0ZW0uZmlsZW5hbWUKICAgICAgfSwgewogICAgICAgIGFjdGlvbjogJ2ZpbGVzL2dldERlbGV0ZUZpbGUnCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInVwbG9hZEZpbGVCdXR0b24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwbG9hZEZpbGVCdXR0b24oKSB7CiAgICAgIHRoaXMuJHJlZnMuZmlsZVVwbG9hZC5jbGljaygpOwogICAgfQogIH0sIHsKICAgIGtleTogInVwbG9hZEZpbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF91cGxvYWRGaWxlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfdGhpcyQkcmVmcyRmaWxlVXBsb2E7CgogICAgICAgIHZhciBzdWNjZXNzRmlsZXMsIF9pdGVyYXRvciwgX3N0ZXAsIF9maWxlLCByZXN1bHQsIF9pLCBfc3VjY2Vzc0ZpbGVzLCBmaWxlOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoISgoX3RoaXMkJHJlZnMkZmlsZVVwbG9hID0gdGhpcy4kcmVmcy5maWxlVXBsb2FkLmZpbGVzKSAhPT0gbnVsbCAmJiBfdGhpcyQkcmVmcyRmaWxlVXBsb2EgIT09IHZvaWQgMCAmJiBfdGhpcyQkcmVmcyRmaWxlVXBsb2EubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzb2NrZXQvYWRkTG9hZGluZycsIHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbmZpZ0ZpbGVVcGxvYWQnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHN1Y2Nlc3NGaWxlcyA9IFtdOwogICAgICAgICAgICAgICAgdGhpcy51cGxvYWRTbmFja2Jhci5udW1iZXIgPSAwOwogICAgICAgICAgICAgICAgdGhpcy51cGxvYWRTbmFja2Jhci5tYXggPSB0aGlzLiRyZWZzLmZpbGVVcGxvYWQuZmlsZXMubGVuZ3RoOwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy4kcmVmcy5maWxlVXBsb2FkLmZpbGVzKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA2OwoKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5zKCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIGlmICgoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2ZpbGUgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgICAgIHRoaXMudXBsb2FkU25hY2tiYXIubnVtYmVyKys7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kb1VwbG9hZEZpbGUoX2ZpbGUpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHN1Y2Nlc3NGaWxlcy5wdXNoKHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTk7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDYpOwoKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5lKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyMjsKCiAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZigpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5maW5pc2goMjIpOwoKICAgICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NvY2tldC9yZW1vdmVMb2FkaW5nJywgewogICAgICAgICAgICAgICAgICBuYW1lOiAnY29uZmlnRmlsZVVwbG9hZCcKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGZvciAoX2kgPSAwLCBfc3VjY2Vzc0ZpbGVzID0gc3VjY2Vzc0ZpbGVzOyBfaSA8IF9zdWNjZXNzRmlsZXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICAgICAgICAgIGZpbGUgPSBfc3VjY2Vzc0ZpbGVzW19pXTsKICAgICAgICAgICAgICAgICAgdGhpcy4kdG9hc3Quc3VjY2VzcygnVXBsb2FkIG9mICcgKyBmaWxlICsgJyBzdWNjZXNzZnVsIScpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuZmlsZVVwbG9hZC52YWx1ZSA9ICcnOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1s2LCAxOSwgMjIsIDI1XV0pOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB1cGxvYWRGaWxlKCkgewogICAgICAgIHJldHVybiBfdXBsb2FkRmlsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gdXBsb2FkRmlsZTsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImRvVXBsb2FkRmlsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZG9VcGxvYWRGaWxlKGZpbGUpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgdmFyIHRvYXN0ID0gdGhpcy4kdG9hc3Q7CiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICB2YXIgZmlsZW5hbWUgPSBmaWxlLm5hbWUucmVwbGFjZSgnICcsICdfJyk7CiAgICAgIHRoaXMudXBsb2FkU25hY2tiYXIuZmlsZW5hbWUgPSBmaWxlbmFtZTsKICAgICAgdGhpcy51cGxvYWRTbmFja2Jhci5zdGF0dXMgPSB0cnVlOwogICAgICB0aGlzLnVwbG9hZFNuYWNrYmFyLnBlcmNlbnQgPSAwOwogICAgICB0aGlzLnVwbG9hZFNuYWNrYmFyLnNwZWVkID0gMDsKICAgICAgdGhpcy51cGxvYWRTbmFja2Jhci5sYXN0UHJvZ3Jlc3MubG9hZGVkID0gMDsKICAgICAgdGhpcy51cGxvYWRTbmFja2Jhci5sYXN0UHJvZ3Jlc3MudGltZSA9IDA7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgncm9vdCcsIHRoaXMucm9vdCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUsIHRoaXMuY3VycmVudFBhdGggKyAnLycgKyBmaWxlbmFtZSk7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzb2NrZXQvYWRkTG9hZGluZycsIHsKICAgICAgICBuYW1lOiAnY29uZmlnRmlsZVVwbG9hZCcKICAgICAgfSk7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIF90aGlzMTAudXBsb2FkU25hY2tiYXIuY2FuY2VsVG9rZW5Tb3VyY2UgPSBheGlvcy5DYW5jZWxUb2tlbi5zb3VyY2UoKTsKICAgICAgICBheGlvcy5wb3N0KF90aGlzMTAuYXBpVXJsICsgJy9zZXJ2ZXIvZmlsZXMvdXBsb2FkJywgZm9ybURhdGEsIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICAgICAgfSwKICAgICAgICAgIGNhbmNlbFRva2VuOiBfdGhpczEwLnVwbG9hZFNuYWNrYmFyLmNhbmNlbFRva2VuU291cmNlLnRva2VuLAogICAgICAgICAgb25VcGxvYWRQcm9ncmVzczogZnVuY3Rpb24gb25VcGxvYWRQcm9ncmVzcyhwcm9ncmVzc0V2ZW50KSB7CiAgICAgICAgICAgIF90aGlzMTAudXBsb2FkU25hY2tiYXIucGVyY2VudCA9IHByb2dyZXNzRXZlbnQubG9hZGVkICogMTAwIC8gcHJvZ3Jlc3NFdmVudC50b3RhbDsKCiAgICAgICAgICAgIGlmIChfdGhpczEwLnVwbG9hZFNuYWNrYmFyLmxhc3RQcm9ncmVzcy50aW1lKSB7CiAgICAgICAgICAgICAgdmFyIHRpbWUgPSBwcm9ncmVzc0V2ZW50LnRpbWVTdGFtcCAtIF90aGlzMTAudXBsb2FkU25hY2tiYXIubGFzdFByb2dyZXNzLnRpbWU7CiAgICAgICAgICAgICAgdmFyIGRhdGEgPSBwcm9ncmVzc0V2ZW50LmxvYWRlZCAtIF90aGlzMTAudXBsb2FkU25hY2tiYXIubGFzdFByb2dyZXNzLmxvYWRlZDsKICAgICAgICAgICAgICBpZiAodGltZSkgX3RoaXMxMC51cGxvYWRTbmFja2Jhci5zcGVlZCA9IGRhdGEgLyAodGltZSAvIDEwMDApOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpczEwLnVwbG9hZFNuYWNrYmFyLmxhc3RQcm9ncmVzcy50aW1lID0gcHJvZ3Jlc3NFdmVudC50aW1lU3RhbXA7CiAgICAgICAgICAgIF90aGlzMTAudXBsb2FkU25hY2tiYXIubGFzdFByb2dyZXNzLmxvYWRlZCA9IHByb2dyZXNzRXZlbnQubG9hZGVkOwogICAgICAgICAgICBfdGhpczEwLnVwbG9hZFNuYWNrYmFyLnRvdGFsID0gcHJvZ3Jlc3NFdmVudC50b3RhbDsKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIHZhciBmaWxlbmFtZSA9IHJlc3VsdC5kYXRhLml0ZW0ucGF0aC5zdWJzdHIocmVzdWx0LmRhdGEuaXRlbS5wYXRoLmluZGV4T2YoJy8nKSArIDEpOwogICAgICAgICAgX3RoaXMxMC51cGxvYWRTbmFja2Jhci5zdGF0dXMgPSBmYWxzZTsKICAgICAgICAgIHJlc29sdmUoZmlsZW5hbWUpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMTAudXBsb2FkU25hY2tiYXIuc3RhdHVzID0gZmFsc2U7CgogICAgICAgICAgX3RoaXMxMC4kc3RvcmUuZGlzcGF0Y2goJ3NvY2tldC9yZW1vdmVMb2FkaW5nJywgewogICAgICAgICAgICBuYW1lOiAnY29uZmlnRmlsZVVwbG9hZCcKICAgICAgICAgIH0pOwoKICAgICAgICAgIHRvYXN0LmVycm9yKCdDYW5ub3QgdXBsb2FkIHRoZSBmaWxlIScpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYW5jZWxVcGxvYWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNhbmNlbFVwbG9hZCgpIHsKICAgICAgdGhpcy51cGxvYWRTbmFja2Jhci5jYW5jZWxUb2tlblNvdXJjZS5jYW5jZWwoKTsKICAgICAgdGhpcy51cGxvYWRTbmFja2Jhci5zdGF0dXMgPSBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkcmFnRmlsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZHJhZ0ZpbGUoZSwgaXRlbSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuZHJhZ2dpbmdGaWxlLnN0YXR1cyA9IHRydWU7CiAgICAgIHRoaXMuZHJhZ2dpbmdGaWxlLml0ZW0gPSBpdGVtOwogICAgfQogIH0sIHsKICAgIGtleTogImRyYWdlbmRGaWxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkcmFnZW5kRmlsZShlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgdGhpcy5kcmFnZ2luZ0ZpbGUuc3RhdHVzID0gZmFsc2U7CiAgICAgIHRoaXMuZHJhZ2dpbmdGaWxlLml0ZW0gPSB7CiAgICAgICAgaXNEaXJlY3Rvcnk6IGZhbHNlLAogICAgICAgIGZpbGVuYW1lOiAnJywKICAgICAgICBwZXJtaXNzaW9uczogJycsCiAgICAgICAgbW9kaWZpZWQ6IG5ldyBEYXRlKCkKICAgICAgfTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkcmFnT3ZlckZpbGVsaXN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkcmFnT3ZlckZpbGVsaXN0KGUsIHJvdykgewogICAgICBpZiAodGhpcy5kcmFnZ2luZ0ZpbGUuc3RhdHVzKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvL2Uuc3RvcFByb3BhZ2F0aW9uKCkKCiAgICAgICAgaWYgKHJvdy5pc0RpcmVjdG9yeSkgZS50YXJnZXQucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzQzQTA0NzIwJzsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImRyYWdMZWF2ZUZpbGVsaXN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkcmFnTGVhdmVGaWxlbGlzdChlKSB7CiAgICAgIGlmICh0aGlzLmRyYWdnaW5nRmlsZS5zdGF0dXMpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd0cmFuc3BhcmVudCc7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJkcmFnRHJvcEZpbGVsaXN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZHJhZ0Ryb3BGaWxlbGlzdCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoZSwgcm93KSB7CiAgICAgICAgdmFyIGRlc3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICh0aGlzLmRyYWdnaW5nRmlsZS5zdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd0cmFuc3BhcmVudCc7CiAgICAgICAgICAgICAgICAgIGRlc3QgPSAnJzsKCiAgICAgICAgICAgICAgICAgIGlmIChyb3cuZmlsZW5hbWUgPT09ICcuLicpIHsKICAgICAgICAgICAgICAgICAgICBkZXN0ID0gdGhpcy5hYnNvbHV0ZVBhdGguc2xpY2UoMSwgdGhpcy5hYnNvbHV0ZVBhdGgubGFzdEluZGV4T2YoJy8nKSArIDEpICsgdGhpcy5kcmFnZ2luZ0ZpbGUuaXRlbS5maWxlbmFtZTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGRlc3QgPSB0aGlzLmFic29sdXRlUGF0aCArICcvJyArIHJvdy5maWxlbmFtZSArICcvJyArIHRoaXMuZHJhZ2dpbmdGaWxlLml0ZW0uZmlsZW5hbWU7CgogICAgICAgICAgICAgICAgICB0aGlzLiRzb2NrZXQuZW1pdCgnc2VydmVyLmZpbGVzLm1vdmUnLCB7CiAgICAgICAgICAgICAgICAgICAgc291cmNlOiB0aGlzLmFic29sdXRlUGF0aC5zbGljZSgxKSArICcvJyArIHRoaXMuZHJhZ2dpbmdGaWxlLml0ZW0uZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgICAgZGVzdDogZGVzdAogICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnZmlsZXMvZ2V0TW92ZScKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGRyYWdEcm9wRmlsZWxpc3QoX3gsIF94MikgewogICAgICAgIHJldHVybiBfZHJhZ0Ryb3BGaWxlbGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZHJhZ0Ryb3BGaWxlbGlzdDsKICAgIH0oKQogIH1dKTsKCiAgcmV0dXJuIENvbmZpZ0ZpbGVzUGFuZWw7Cn0oTWl4aW5zKEJhc2VNaXhpbikpOwoKQ29uZmlnRmlsZXNQYW5lbCA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgUGFuZWw6IFBhbmVsCiAgfQp9KV0sIENvbmZpZ0ZpbGVzUGFuZWwpOwpleHBvcnQgZGVmYXVsdCBDb25maWdGaWxlc1BhbmVsOw=="},{"version":3,"sources":["/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/panels/Machine/ConfigFilesPanel.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Mixins} from 'vue-property-decorator'\nimport BaseMixin from '@/components/mixins/base'\nimport {formatDate, formatFilesize, sortFiles} from '@/plugins/helpers'\nimport {FileStateFile} from '@/store/files/types'\nimport axios from 'axios'\nimport Panel from '@/components/ui/Panel.vue'\nimport {hiddenRootDirectories} from '@/store/variables'\n\ninterface contextMenu {\n    shown: boolean\n    isDirectory: boolean\n    touchTimer: number | null\n    x: number\n    y: number\n    item: FileStateFile\n}\n\n\ninterface dialogImageObject {\n    show: boolean\n    item: {\n        name: string | null,\n        url: string | null,\n        svg: string | null\n    }\n}\n\ninterface dialogRenameObject {\n    show: boolean\n    newName: string\n    item: FileStateFile\n}\n\ninterface dialogDeleteObject {\n    show: boolean\n    item: FileStateFile\n}\n\ninterface uploadSnackbar {\n    status: boolean\n    filename: string\n    percent: number\n    speed: number\n    total: number\n    number: number\n    max: number\n    cancelTokenSource: any\n    lastProgress: {\n        time: number\n        loaded: number\n    }\n}\n\ninterface draggingFile {\n    status: boolean\n    item: FileStateFile\n}\n\n@Component({\n    components: {Panel}\n})\nexport default class ConfigFilesPanel extends Mixins(BaseMixin) {\n    sortFiles = sortFiles\n    formatFilesize = formatFilesize\n    formatDate = formatDate\n\n    $refs!: {\n        fileUpload: HTMLInputElement,\n        inputDialogCreateFileName: HTMLInputElement,\n        inputDialogRenameFileName: HTMLInputElement,\n        inputDialogCreateDirectoryName: HTMLInputElement,\n        inputDialogRenameDirectoryName: HTMLInputElement,\n    }\n\n    private selected = []\n    private options = { }\n    private currentPage = 1\n    private contextMenu: contextMenu = {\n        shown: false,\n        isDirectory: false,\n        touchTimer: null,\n        x: 0,\n        y: 0,\n        item: {\n            isDirectory: false,\n            filename: '',\n            permissions: '',\n            modified: new Date()\n        }\n    }\n    private dialogImage: dialogImageObject = {\n        show: false,\n        item: {\n            name: null,\n            url: null,\n            svg: null\n        }\n    }\n    private dialogCreateFile = {\n        show: false,\n        name: '',\n    }\n    private dialogRenameFile: dialogRenameObject = {\n        show: false,\n        newName: '',\n        item: {\n            isDirectory: false,\n            filename: '',\n            permissions: '',\n            modified: new Date()\n        }\n    }\n    private dialogCreateDirectory = {\n        show: false,\n        name: '',\n    }\n    private dialogRenameDirectory: dialogRenameObject = {\n        show: false,\n        newName: '',\n        item: {\n            isDirectory: false,\n            filename: '',\n            permissions: '',\n            modified: new Date()\n        }\n    }\n    private dialogDeleteDirectory: dialogDeleteObject = {\n        show: false,\n        item: {\n            isDirectory: false,\n            filename: '',\n            permissions: '',\n            modified: new Date()\n        }\n    }\n    private uploadSnackbar: uploadSnackbar = {\n        status: false,\n        filename: '',\n        percent: 0,\n        speed: 0,\n        total: 0,\n        number: 0,\n        max: 0,\n        cancelTokenSource: {},\n        lastProgress: {\n            time: 0,\n            loaded: 0\n        }\n    }\n    private draggingFile: draggingFile = {\n        status: false,\n        item: {\n            isDirectory: false,\n            filename: '',\n            permissions: '',\n            modified: new Date()\n        }\n    }\n\n    get toolbarButtons() {\n        return [\n            {\n                text: this.$t('Machine.ConfigFilesPanel.UploadFile'),\n                color: 'grey darken-3',\n                icon: 'mdi-file-upload',\n                loadingName: null,\n                onlyWriteable: true,\n                click: this.uploadFileButton\n            }, {\n                text: this.$t('Machine.ConfigFilesPanel.CreateFile'),\n                color: 'grey darken-3',\n                icon: 'mdi-file-plus',\n                loadingName: null,\n                onlyWriteable: true,\n                click: this.createFile\n            }, {\n                text: this.$t('Machine.ConfigFilesPanel.CreateDirectory'),\n                color: 'grey darken-3',\n                icon: 'mdi-folder-plus',\n                loadingName: null,\n                onlyWriteable: true,\n                click: this.createDirecotry\n            }, {\n                text: this.$t('Machine.ConfigFilesPanel.RefreshDirectory'),\n                color: 'grey darken-3',\n                icon: 'mdi-refresh',\n                loadingName: null,\n                onlyWriteable: false,\n                click: this.refreshFileList\n            },\n        ]\n    }\n\n    get filteredToolbarButtons() {\n        return this.toolbarButtons.filter((button) => {\n            return (this.directoryPermissions.includes('w') && button.onlyWriteable) || !button.onlyWriteable\n        })\n    }\n\n    get absolutePath() {\n        let path = '/'+this.root\n        if (this.currentPath) path += this.currentPath\n\n        return path\n    }\n\n    get directory() {\n        return this.$store.getters['files/getDirectory'](this.absolutePath)\n    }\n\n    get disk_usage() {\n        return this.directory?.disk_usage ?? { used: 0, free: 0, total: 0}\n    }\n\n    get directoryPermissions() {\n        return this.directory?.permissions ?? 'r'\n    }\n\n    get files() {\n        let files = [...this.directory?.childrens ?? []]\n\n        if (!this.showHiddenFiles) {\n            files = files.filter(file => file.filename.substr(0, 1) !== '.')\n        }\n\n        if (this.hideBackupFiles) {\n            const backupFileMatcher = /.*\\/?printer-\\d{8}_\\d{6}\\.cfg$/\n            files = files.filter(file => !file.filename.match(backupFileMatcher))\n        }\n\n        return files\n    }\n\n    get headers() {\n        return [\n            { text: '', value: '', },\n            { text: this.$t('Machine.ConfigFilesPanel.Name'), value: 'filename', },\n            { text: this.$t('Machine.ConfigFilesPanel.Filesize'), value: 'size', align: 'right', },\n            { text: this.$t('Machine.ConfigFilesPanel.LastModified'), value: 'modified', align: 'right', },\n        ]\n    }\n\n    get countPerPage() {\n        return this.$store.state.gui.view.configfiles.countPerPage\n    }\n\n    set countPerPage(newVal) {\n        this.$store.dispatch('gui/saveSetting', { name: 'view.configfiles.countPerPage', value: newVal })\n    }\n\n    get showHiddenFiles() {\n        return this.$store.state.gui.view.configfiles.showHiddenFiles\n    }\n\n    set showHiddenFiles(newVal) {\n        this.$store.dispatch('gui/saveSetting', { name: 'view.configfiles.showHiddenFiles', value: newVal })\n    }\n\n    get hideBackupFiles() {\n        return this.$store.state.gui.view.configfiles.hideBackupFiles\n    }\n\n    set hideBackupFiles(newVal) {\n        this.$store.dispatch('gui/saveSetting', { name: 'view.configfiles.hideBackupFiles', value: newVal })\n    }\n\n    get sortBy() {\n        return this.$store.state.gui.view.configfiles.sortBy\n    }\n\n    set sortBy(newVal) {\n        if (newVal === undefined) newVal = 'filename'\n\n        this.$store.dispatch('gui/saveSetting', { name: 'view.configfiles.sortBy', value: newVal })\n    }\n\n    get sortDesc() {\n        return this.$store.state.gui.view.configfiles.sortDesc\n    }\n\n    set sortDesc(newVal) {\n        if (newVal === undefined) newVal = false\n\n        this.$store.dispatch('gui/saveSetting', { name: 'view.configfiles.sortDesc', value: newVal })\n    }\n\n    get registeredDirectories() {\n        return this.$store.state.server.registered_directories.filter((dir: string) => !hiddenRootDirectories.includes(dir)).sort()\n    }\n\n    get root() {\n        return this.$store.state.gui.view.configfiles.rootPath\n    }\n\n    set root(newVal) {\n        this.$store.dispatch('gui/saveSettingWithoutUpload', { name: 'view.configfiles.rootPath', value: newVal })\n    }\n\n    get currentPath() {\n        return this.$store.state.gui.view.configfiles.currentPath\n    }\n\n    set currentPath(newVal) {\n        this.$store.dispatch('gui/saveSettingWithoutUpload', { name: 'view.configfiles.currentPath', value: newVal })\n    }\n\n    refreshFileList() {\n        this.$socket.emit('server.files.get_directory', { path: this.absolutePath.substring(1) }, { action: 'files/getDirectory' })\n    }\n\n    changeRoot() {\n        this.currentPath = ''\n    }\n\n    clickRow(item: FileStateFile, force = false) {\n        if (!this.contextMenu.shown || force) {\n            if (force) this.contextMenu.shown = false\n\n            if (!item.isDirectory) {\n                if (['png', 'jpeg', 'jpg', 'gif', 'bmp', 'tif', 'svg'].includes(item.filename.split('.').pop()?.toLowerCase() ?? '')) {\n                    const url = `${this.apiUrl}/server/files${this.absolutePath}/${item.filename}?t=${Date.now()}`\n                    this.dialogImage.item.name = item.filename\n                    if (['svg'].includes(item.filename.split('.').pop()?.toLowerCase() ?? '')) {\n                        fetch(url)\n                            .then(res => res.text())\n                            .then(svg => {\n                                this.dialogImage.show = true\n                                this.dialogImage.item.svg = svg\n                            })\n                    } else {\n                        this.dialogImage.show = true\n                        this.dialogImage.item.url = url\n                    }\n                } else {\n                    this.$store.dispatch('editor/openFile', {\n                        root: this.root,\n                        path: this.currentPath,\n                        filename: item.filename,\n                        size: item.size,\n                        permissions: item.permissions\n                    })\n                }\n            } else {\n                this.currentPath += '/' + item.filename\n                this.currentPage = 1\n            }\n        }\n    }\n\n    clickRowGoBack() {\n        this.currentPath = this.currentPath.substr(0, this.currentPath.lastIndexOf('/'))\n    }\n\n    showContextMenu (e: any, item: FileStateFile) {\n        if (!this.contextMenu.shown) {\n            e?.preventDefault()\n            this.contextMenu.shown = true\n            this.contextMenu.x = e?.clientX || e?.pageX || window.screenX / 2\n            this.contextMenu.y = e?.clientY || e?.pageY || window.screenY / 2\n            this.contextMenu.item = item\n\n            this.$nextTick(() => {\n                this.contextMenu.shown = true\n            })\n        }\n    }\n\n    downloadFile() {\n        const filename = (this.absolutePath+'/'+this.contextMenu.item.filename)\n        const href = `${this.apiUrl}/server/files${encodeURI(filename)}`\n        window.open(href)\n    }\n\n    createDirecotry() {\n        this.dialogCreateDirectory.name = ''\n        this.dialogCreateDirectory.show = true\n\n        setTimeout(() => {\n            this.$refs.inputDialogCreateDirectoryName?.focus()\n        }, 200)\n    }\n\n    createDirectoryAction() {\n        this.dialogCreateDirectory.show = false\n\n        this.$socket.emit('server.files.post_directory', {\n            path: this.absolutePath.substring(1)+'/'+this.dialogCreateDirectory.name\n        }, { action: 'files/getCreateDir' })\n    }\n\n    renameDirectory(item: FileStateFile) {\n        this.dialogRenameDirectory.item = item\n        this.dialogRenameDirectory.newName = item.filename\n        this.dialogRenameDirectory.show = true\n\n        setTimeout(() => {\n            this.$refs.inputDialogRenameDirectoryName?.focus()\n        }, 200)\n    }\n\n    renameDirectoryAction() {\n        this.dialogRenameDirectory.show = false\n        this.$socket.emit('server.files.move', {\n            source: (this.absolutePath+'/'+this.dialogRenameDirectory.item.filename).slice(1),\n            dest: (this.absolutePath+'/'+this.dialogRenameDirectory.newName).slice(1)\n        }, { action: 'files/getMove' })\n    }\n\n    deleteDirectory(item: FileStateFile) {\n        this.dialogDeleteDirectory.item = item\n        this.dialogDeleteDirectory.show = true\n    }\n\n    deleteDirectoryAction() {\n        this.dialogDeleteDirectory.show = false\n        this.$socket.emit('server.files.delete_directory', { path: this.absolutePath+'/'+this.dialogDeleteDirectory.item.filename, force: true }, { action: 'files/getDeleteDir' })\n    }\n\n    createFile() {\n        this.dialogCreateFile.name = ''\n        this.dialogCreateFile.show = true\n\n        setTimeout(() => {\n            this.$refs.inputDialogCreateFileName?.focus()\n        }, 200)\n    }\n\n    createFileAction() {\n        const file = new File([''], this.dialogCreateFile.name)\n\n        let formData = new FormData()\n        formData.append('file', file)\n        formData.append('root', this.root)\n        if(this.currentPath.length) formData.append('path', this.currentPath.slice(1))\n\n        axios.post(this.apiUrl + '/server/files/upload',\n            formData, {\n                headers: { 'Content-Type': 'multipart/form-data' }\n            }\n        ).then(() => {\n            this.$toast.success(this.$t('Files.SuccessfullyCreated', { filename: this.dialogCreateFile.name }).toString())\n            this.dialogCreateFile.show = false\n            this.dialogCreateFile.name = ''\n        }).catch(() => {\n            window.console.error('Error create file: '+this.dialogCreateFile.name)\n        })\n    }\n\n    renameFile(item: FileStateFile) {\n        this.dialogRenameFile.item = item\n        this.dialogRenameFile.newName = item.filename\n        this.dialogRenameFile.show = true\n\n        setTimeout(() => {\n            this.$refs.inputDialogRenameFileName?.focus()\n        }, 200)\n    }\n\n    renameFileAction() {\n        this.dialogRenameFile.show = false\n        this.$socket.emit('server.files.move', {\n            source: (this.absolutePath+'/'+this.dialogRenameFile.item.filename).slice(1),\n            dest: (this.absolutePath+'/'+this.dialogRenameFile.newName).slice(1),\n        }, { action: 'files/getMove' })\n    }\n\n    removeFile() {\n        this.$socket.emit('server.files.delete_file', { path: this.absolutePath+'/'+this.contextMenu.item.filename }, { action: 'files/getDeleteFile' })\n    }\n\n    uploadFileButton() {\n        this.$refs.fileUpload.click()\n    }\n\n    async uploadFile() {\n        if (this.$refs.fileUpload.files?.length) {\n            this.$store.dispatch('socket/addLoading', { name: 'configFileUpload' })\n            let successFiles = []\n            this.uploadSnackbar.number = 0\n            this.uploadSnackbar.max = this.$refs.fileUpload.files.length\n            for (const file of this.$refs.fileUpload.files) {\n                this.uploadSnackbar.number++\n                const result = await this.doUploadFile(file)\n                successFiles.push(result)\n            }\n\n            this.$store.dispatch('socket/removeLoading', { name: 'configFileUpload' })\n            for(const file of successFiles) {\n                this.$toast.success('Upload of '+file+' successful!')\n            }\n\n            this.$refs.fileUpload.value = ''\n        }\n    }\n\n    doUploadFile(file: File) {\n        let toast = this.$toast\n        let formData = new FormData()\n        let filename = file.name.replace(' ', '_')\n\n        this.uploadSnackbar.filename = filename\n        this.uploadSnackbar.status = true\n        this.uploadSnackbar.percent = 0\n        this.uploadSnackbar.speed = 0\n        this.uploadSnackbar.lastProgress.loaded = 0\n        this.uploadSnackbar.lastProgress.time = 0\n\n        formData.append('root', this.root)\n        formData.append('file', file, this.currentPath+'/'+filename)\n        this.$store.dispatch('socket/addLoading', { name: 'configFileUpload' })\n\n        return new Promise(resolve => {\n            this.uploadSnackbar.cancelTokenSource = axios.CancelToken.source()\n            axios.post(this.apiUrl + '/server/files/upload',\n                formData, {\n                    headers: { 'Content-Type': 'multipart/form-data' },\n                    cancelToken: this.uploadSnackbar.cancelTokenSource.token,\n                    onUploadProgress: (progressEvent) => {\n                        this.uploadSnackbar.percent = (progressEvent.loaded * 100) / progressEvent.total\n                        if (this.uploadSnackbar.lastProgress.time) {\n                            const time = progressEvent.timeStamp - this.uploadSnackbar.lastProgress.time\n                            const data = progressEvent.loaded - this.uploadSnackbar.lastProgress.loaded\n\n                            if (time) this.uploadSnackbar.speed = data / (time / 1000)\n                        }\n\n                        this.uploadSnackbar.lastProgress.time = progressEvent.timeStamp\n                        this.uploadSnackbar.lastProgress.loaded = progressEvent.loaded\n                        this.uploadSnackbar.total = progressEvent.total\n                    }\n                }\n            ).then((result) => {\n                const filename = result.data.item.path.substr(result.data.item.path.indexOf('/')+1)\n                this.uploadSnackbar.status = false\n                resolve(filename)\n            }).catch(() => {\n                this.uploadSnackbar.status = false\n                this.$store.dispatch('socket/removeLoading', { name: 'configFileUpload' })\n                toast.error('Cannot upload the file!')\n            })\n        })\n    }\n\n    cancelUpload() {\n        this.uploadSnackbar.cancelTokenSource.cancel()\n        this.uploadSnackbar.status = false\n    }\n\n    dragFile(e: Event, item: FileStateFile) {\n        e.preventDefault()\n        this.draggingFile.status = true\n        this.draggingFile.item = item\n    }\n\n    dragendFile(e: Event) {\n        e.preventDefault()\n        this.draggingFile.status = false\n        this.draggingFile.item = {\n            isDirectory: false,\n            filename: '',\n            permissions: '',\n            modified: new Date()\n        }\n    }\n\n    dragOverFilelist(e: any, row: any) {\n        if (this.draggingFile.status) {\n            e.preventDefault()\n            //e.stopPropagation()\n\n            if (row.isDirectory) e.target.parentElement.style.backgroundColor = '#43A04720'\n        }\n    }\n\n    dragLeaveFilelist(e: any) {\n        if (this.draggingFile.status) {\n            e.preventDefault()\n            e.stopPropagation()\n\n            e.target.parentElement.style.backgroundColor = 'transparent'\n        }\n    }\n\n    async dragDropFilelist(e: any, row: any) {\n        if (this.draggingFile.status) {\n            e.preventDefault()\n            e.target.parentElement.style.backgroundColor = 'transparent'\n\n            let dest = ''\n            if (row.filename === '..') {\n                dest = this.absolutePath.slice(1, this.absolutePath.lastIndexOf('/')+1)+this.draggingFile.item.filename\n            } else dest = this.absolutePath+'/'+row.filename+'/'+this.draggingFile.item.filename\n\n            this.$socket.emit('server.files.move', {\n                source: this.absolutePath.slice(1)+'/'+this.draggingFile.item.filename,\n                dest: dest\n            }, { action: 'files/getMove' })\n        }\n    }\n}\n"],"sourceRoot":""}]}