{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js??ref--15-2!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/server/jobQueue/actions.ts","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/server/jobQueue/actions.ts","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1645990065243}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hbm5lLXNvcGhpZXJveS9Eb3dubG9hZHMvTWFpbnNhaWwvbWFpbnNhaWwtbWFpbnRlbmFuY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKZXhwb3J0IHZhciBhY3Rpb25zID0gewogIHJlc2V0OiBmdW5jdGlvbiByZXNldChfcmVmKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICBjb21taXQoJ3Jlc2V0Jyk7CiAgfSwKICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgVnVlLiRzb2NrZXQuZW1pdCgnc2VydmVyLmpvYl9xdWV1ZS5zdGF0dXMnLCB7fSwgewogICAgICBhY3Rpb246ICdzZXJ2ZXIvam9iUXVldWUvZ2V0U3RhdHVzJwogICAgfSk7CiAgfSwKICBnZXRFdmVudDogZnVuY3Rpb24gZ2V0RXZlbnQoX3JlZjIsIHBheWxvYWQpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICBpZiAoJ3VwZGF0ZWRfcXVldWUnIGluIHBheWxvYWQpIGNvbW1pdCgnc2V0UXVldWVkSm9icycsIHBheWxvYWQudXBkYXRlZF9xdWV1ZSk7CiAgICBpZiAoJ3F1ZXVlX3N0YXRlJyBpbiBwYXlsb2FkKSBjb21taXQoJ3NldFF1ZXVlU3RhdGUnLCBwYXlsb2FkLnF1ZXVlX3N0YXRlKTsKICB9LAogIGdldFN0YXR1czogZnVuY3Rpb24gZ2V0U3RhdHVzKF9yZWYzLCBwYXlsb2FkKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgaWYgKCdxdWV1ZWRfam9icycgaW4gcGF5bG9hZCkgY29tbWl0KCdzZXRRdWV1ZWRKb2JzJywgcGF5bG9hZC5xdWV1ZWRfam9icyk7CiAgICBpZiAoJ3F1ZXVlX3N0YXRlJyBpbiBwYXlsb2FkKSBjb21taXQoJ3NldFF1ZXVlU3RhdGUnLCBwYXlsb2FkLnF1ZXVlX3N0YXRlKTsKICB9LAogIGFkZFRvUXVldWU6IGZ1bmN0aW9uIGFkZFRvUXVldWUoX3JlZjQsIGZpbGVuYW1lcykgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHN0YXRlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmNC5zdGF0ZTsKICAgICAgICAgICAgICBWdWUuJHNvY2tldC5lbWl0KCdzZXJ2ZXIuam9iX3F1ZXVlLnBvc3Rfam9iJywgewogICAgICAgICAgICAgICAgZmlsZW5hbWVzOiBmaWxlbmFtZXMKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGRlbGV0ZUZyb21RdWV1ZTogZnVuY3Rpb24gZGVsZXRlRnJvbVF1ZXVlKF8sIGpvYl9pZHMpIHsKICAgIFZ1ZS4kc29ja2V0LmVtaXQoJ3NlcnZlci5qb2JfcXVldWUuZGVsZXRlX2pvYicsIHsKICAgICAgam9iX2lkczogam9iX2lkcwogICAgfSk7CiAgfSwKICBjbGVhclF1ZXVlOiBmdW5jdGlvbiBjbGVhclF1ZXVlKF8pIHsKICAgIFZ1ZS4kc29ja2V0LmVtaXQoJ3NlcnZlci5qb2JfcXVldWUuZGVsZXRlX2pvYicsIHsKICAgICAgYWxsOiB0cnVlCiAgICB9KTsKICB9LAogIHN0YXJ0OiBmdW5jdGlvbiBzdGFydChfKSB7CiAgICBWdWUuJHNvY2tldC5lbWl0KCdzZXJ2ZXIuam9iX3F1ZXVlLnN0YXJ0Jywge30sIHsKICAgICAgbG9hZGluZzogJ3N0YXJ0Sm9icXVldWUnCiAgICB9KTsKICB9LAogIHBhdXNlOiBmdW5jdGlvbiBwYXVzZShfKSB7CiAgICBWdWUuJHNvY2tldC5lbWl0KCdzZXJ2ZXIuam9iX3F1ZXVlLnBhdXNlJywge30sIHsKICAgICAgbG9hZGluZzogJ3BhdXNlSm9icXVldWUnCiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--14-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/store/server/jobQueue/actions.ts"],"names":[],"mappings":";;AAAA,OAAO,GAAP,MAAgB,KAAhB;AAKA,OAAO,IAAM,OAAO,GAA+C;AAC/D,EAAA,KAD+D,uBAC/C;AAAA,QAAR,MAAQ,QAAR,MAAQ;AACZ,IAAA,MAAM,CAAC,OAAD,CAAN;AACH,GAH8D;AAK/D,EAAA,IAL+D,kBAK3D;AACA,IAAA,GAAG,CAAC,OAAJ,CAAY,IAAZ,CAAiB,yBAAjB,EAA4C,EAA5C,EAAiD;AAAE,MAAA,MAAM,EAAE;AAAV,KAAjD;AACH,GAP8D;AAS/D,EAAA,QAT+D,2BAS1C,OAT0C,EASnC;AAAA,QAAjB,MAAiB,SAAjB,MAAiB;AACxB,QAAI,mBAAmB,OAAvB,EAAgC,MAAM,CAAC,eAAD,EAAkB,OAAO,CAAC,aAA1B,CAAN;AAChC,QAAI,iBAAiB,OAArB,EAA8B,MAAM,CAAC,eAAD,EAAkB,OAAO,CAAC,WAA1B,CAAN;AACjC,GAZ8D;AAc/D,EAAA,SAd+D,4BAczC,OAdyC,EAclC;AAAA,QAAjB,MAAiB,SAAjB,MAAiB;AACzB,QAAI,iBAAiB,OAArB,EAA8B,MAAM,CAAC,eAAD,EAAkB,OAAO,CAAC,WAA1B,CAAN;AAC9B,QAAI,iBAAiB,OAArB,EAA8B,MAAM,CAAC,eAAD,EAAkB,OAAO,CAAC,WAA1B,CAAN;AACjC,GAjB8D;AAmBzD,EAAA,UAnByD,6BAmBnC,SAnBmC,EAmBhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA5B,cAAA,KAA4B,SAA5B,KAA4B;AAC3C,cAAA,GAAG,CAAC,OAAJ,CAAY,IAAZ,CAAiB,2BAAjB,EAA8C;AAAE,gBAAA,SAAS,EAAE;AAAb,eAA9C;;AAD2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAE9C,GArB8D;AAuB/D,EAAA,eAvB+D,2BAuB/C,CAvB+C,EAuB5C,OAvB4C,EAuB3B;AAChC,IAAA,GAAG,CAAC,OAAJ,CAAY,IAAZ,CAAiB,6BAAjB,EAAgD;AAAE,MAAA,OAAO,EAAP;AAAF,KAAhD;AACH,GAzB8D;AA2B/D,EAAA,UA3B+D,sBA2BpD,CA3BoD,EA2BnD;AACR,IAAA,GAAG,CAAC,OAAJ,CAAY,IAAZ,CAAiB,6BAAjB,EAAgD;AAAE,MAAA,GAAG,EAAE;AAAP,KAAhD;AACH,GA7B8D;AA+B/D,EAAA,KA/B+D,iBA+BzD,CA/ByD,EA+BxD;AACH,IAAA,GAAG,CAAC,OAAJ,CAAY,IAAZ,CAAiB,wBAAjB,EAA2C,EAA3C,EAAgD;AAAE,MAAA,OAAO,EAAE;AAAX,KAAhD;AACH,GAjC8D;AAmC/D,EAAA,KAnC+D,iBAmCzD,CAnCyD,EAmCxD;AACH,IAAA,GAAG,CAAC,OAAJ,CAAY,IAAZ,CAAiB,wBAAjB,EAA2C,EAA3C,EAAgD;AAAE,MAAA,OAAO,EAAE;AAAX,KAAhD;AACH;AArC8D,CAA5D","sourcesContent":["import Vue from 'vue'\nimport { ActionTree } from 'vuex'\nimport {RootState} from '@/store/types'\nimport {ServerJobQueueState} from '@/store/server/jobQueue/types'\n\nexport const actions: ActionTree<ServerJobQueueState, RootState> = {\n    reset({ commit }) {\n        commit('reset')\n    },\n\n    init() {\n        Vue.$socket.emit('server.job_queue.status', { }, { action: 'server/jobQueue/getStatus' })\n    },\n\n    getEvent({ commit }, payload) {\n        if ('updated_queue' in payload) commit('setQueuedJobs', payload.updated_queue)\n        if ('queue_state' in payload) commit('setQueueState', payload.queue_state)\n    },\n\n    getStatus({ commit }, payload) {\n        if ('queued_jobs' in payload) commit('setQueuedJobs', payload.queued_jobs)\n        if ('queue_state' in payload) commit('setQueueState', payload.queue_state)\n    },\n\n    async addToQueue({ state }, filenames: string[]) {\n        Vue.$socket.emit('server.job_queue.post_job', { filenames: filenames })\n    },\n\n    deleteFromQueue(_, job_ids: string[]) {\n        Vue.$socket.emit('server.job_queue.delete_job', { job_ids })\n    },\n\n    clearQueue(_) {\n        Vue.$socket.emit('server.job_queue.delete_job', { all: true })\n    },\n\n    start(_) {\n        Vue.$socket.emit('server.job_queue.start', { }, { loading: 'startJobqueue' })\n    },\n\n    pause(_) {\n        Vue.$socket.emit('server.job_queue.pause', { }, { loading: 'pauseJobqueue' })\n    }\n\n}"],"sourceRoot":""}]}