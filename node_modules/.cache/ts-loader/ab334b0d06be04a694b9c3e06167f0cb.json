{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/thread-loader/dist/cjs.js!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js??ref--15-3!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/settings/SettingsGeneralTab.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/settings/SettingsGeneralTab.vue","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/thread-loader/dist/cjs.js","mtime":1645990064416},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1645990069130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvYW5uZS1zb3BoaWVyb3kvRG93bmxvYWRzL01haW5zYWlsL21haW5zYWlsLW1haW50ZW5hbmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvYW5uZS1zb3BoaWVyb3kvRG93bmxvYWRzL01haW5zYWlsL21haW5zYWlsLW1haW50ZW5hbmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvYW5uZS1zb3BoaWVyb3kvRG93bmxvYWRzL01haW5zYWlsL21haW5zYWlsLW1haW50ZW5hbmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2FubmUtc29waGllcm95L0Rvd25sb2Fkcy9NYWluc2FpbC9tYWluc2FpbC1tYWludGVuYW5jZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tICIvVXNlcnMvYW5uZS1zb3BoaWVyb3kvRG93bmxvYWRzL01haW5zYWlsL21haW5zYWlsLW1haW50ZW5hbmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQuanMiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy9hbm5lLXNvcGhpZXJveS9Eb3dubG9hZHMvTWFpbnNhaWwvbWFpbnNhaWwtbWFpbnRlbmFuY2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzLmpzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMvYW5uZS1zb3BoaWVyb3kvRG93bmxvYWRzL01haW5zYWlsL21haW5zYWlsLW1haW50ZW5hbmNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlci5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2FubmUtc29waGllcm95L0Rvd25sb2Fkcy9NYWluc2FpbC9tYWluc2FpbC1tYWludGVuYW5jZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgQ29tcG9uZW50IGZyb20gJ3Z1ZS1jbGFzcy1jb21wb25lbnQnOwppbXBvcnQgeyBNaXhpbnMgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IEJhc2VNaXhpbiBmcm9tICdAL2NvbXBvbmVudHMvbWl4aW5zL2Jhc2UnOwppbXBvcnQgU2V0dGluZ3NSb3cgZnJvbSAnQC9jb21wb25lbnRzL3NldHRpbmdzL1NldHRpbmdzUm93LnZ1ZSc7CmltcG9ydCBQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvdWkvUGFuZWwudnVlJzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwoKdmFyIFNldHRpbmdzR2VuZXJhbFRhYiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX01peGlucykgewogIF9pbmhlcml0cyhTZXR0aW5nc0dlbmVyYWxUYWIsIF9NaXhpbnMpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFNldHRpbmdzR2VuZXJhbFRhYik7CgogIGZ1bmN0aW9uIFNldHRpbmdzR2VuZXJhbFRhYigpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2V0dGluZ3NHZW5lcmFsVGFiKTsKCiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsLmFwcGx5KF9zdXBlciwgW3RoaXNdLmNvbmNhdChhcmdzKSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZGlhbG9nQmFja3VwTWFpbnNhaWwiLCBmYWxzZSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZGlhbG9nUmVzZXRNYWluc2FpbCIsIGZhbHNlKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJkaWFsb2dSZXN0b3JlTWFpbnNhaWwiLCBmYWxzZSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiZGJDaGVja2JveGVzIiwgW10pOwoKICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgInJlc3RvcmVhYmxlTmFtZXNwYWNlcyIsIFtdKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJyZXN0b3JlT2JqZWN0cyIsIHt9KTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICJtYWluc2FpbEtleXMiLCBbXSk7CgogICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCAiYXZhaWxhYmxlTmFtZXNwYWNlcyIsIFtdKTsKCiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICIkcmVmcyIsIHZvaWQgMCk7CgogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFNldHRpbmdzR2VuZXJhbFRhYiwgW3sKICAgIGtleTogImF2YWlsYWJsZUtleXMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiBbewogICAgICAgIG5hbWU6ICdnZW5lcmFsJywKICAgICAgICBsYWJlbDogdGhpcy4kdCgnU2V0dGluZ3MuR2VuZXJhbFRhYi5HZW5lcmFsJykgKyAnJwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ2NvbnNvbGUnLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCdTZXR0aW5ncy5Db25zb2xlVGFiLkNvbnNvbGUnKSArICcnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAnY29udHJvbCcsCiAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ1NldHRpbmdzLkNvbnRyb2xUYWIuQ29udHJvbCcpICsgJycKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdkYXNoYm9hcmQnLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCdTZXR0aW5ncy5EYXNoYm9hcmRUYWIuRGFzaGJvYXJkJykgKyAnJwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ2VkaXRvcicsCiAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ1NldHRpbmdzLkVkaXRvclRhYi5FZGl0b3InKSArICcnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAnZ2NvZGV2aWV3ZXInLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCdTZXR0aW5ncy5HQ29kZVZpZXdlclRhYi5HQ29kZVZpZXdlcicpICsgJycKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdnY29kZWhpc3RvcnknLAogICAgICAgIGxhYmVsOiB0aGlzLiR0KCdTZXR0aW5ncy5HZW5lcmFsVGFiLkRiQ29uc29sZUhpc3RvcnknKSArICcnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAnbWFjcm9zJywKICAgICAgICBsYWJlbDogdGhpcy4kdCgnU2V0dGluZ3MuTWFjcm9zVGFiLk1hY3JvcycpICsgJycKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdwcmVzZXRzJywKICAgICAgICBsYWJlbDogdGhpcy4kdCgnU2V0dGluZ3MuUHJlc2V0c1RhYi5QcmVoZWF0UHJlc2V0cycpICsgJycKICAgICAgfSwgewogICAgICAgIG5hbWU6ICdyZW1vdGVwcmludGVycycsCiAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ1NldHRpbmdzLlJlbW90ZVByaW50ZXJzVGFiLlJlbW90ZVByaW50ZXJzJykgKyAnJwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ3RpbWVsYXBzZScsCiAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ1NldHRpbmdzLlRpbWVsYXBzZVRhYi5UaW1lbGFwc2UnKSArICcnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAndWlTZXR0aW5ncycsCiAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ1NldHRpbmdzLlVpU2V0dGluZ3NUYWIuVWlTZXR0aW5ncycpICsgJycKICAgICAgfSwgewogICAgICAgIG5hbWU6ICd2aWV3JywKICAgICAgICBsYWJlbDogdGhpcy4kdCgnU2V0dGluZ3MuR2VuZXJhbFRhYi5EYlZpZXcnKSArICcnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAnd2ViY2FtcycsCiAgICAgICAgbGFiZWw6IHRoaXMuJHQoJ1NldHRpbmdzLldlYmNhbXNUYWIuV2ViY2FtcycpICsgJycKICAgICAgfV07CiAgICB9CiAgfSwgewogICAga2V5OiAicHJpbnRlck5hbWUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5ndWkuZ2VuZXJhbC5wcmludGVybmFtZTsKICAgIH0sCiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdWYWwpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2d1aS9zYXZlU2V0dGluZycsIHsKICAgICAgICBuYW1lOiAnZ2VuZXJhbC5wcmludGVybmFtZScsCiAgICAgICAgdmFsdWU6IG5ld1ZhbAogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjdXJyZW50TGFuZ3VhZ2UiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5ndWkuZ2VuZXJhbC5sYW5ndWFnZTsKICAgIH0sCiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdWYWwpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2d1aS9zYXZlU2V0dGluZycsIHsKICAgICAgICBuYW1lOiAnZ2VuZXJhbC5sYW5ndWFnZScsCiAgICAgICAgdmFsdWU6IG5ld1ZhbAogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhdmFpbGFibGVMYW5ndWFnZXMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgogICAgICB2YXIgbG9jYWxlcyA9IHJlcXVpcmUuY29udGV4dCgnQC9sb2NhbGVzJywgdHJ1ZSwgL1tBLVphLXowLTktXyxcc10rXC5qc29uJC9pKTsKCiAgICAgIHZhciBsYW5ndWFnZXMgPSBbXTsKICAgICAgbG9jYWxlcy5rZXlzKCkubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICB2YXIgbGFuZ0tleSA9IGtleS5zbGljZSgyLCBrZXkubGFzdEluZGV4T2YoJy4nKSk7CiAgICAgICAgbGFuZ3VhZ2VzLnB1c2goewogICAgICAgICAgdGV4dDogbG9jYWxlcyhrZXkpLnRpdGxlLAogICAgICAgICAgdmFsdWU6IGxhbmdLZXkKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHJldHVybiBsYW5ndWFnZXM7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FsY0VzdGltYXRlSXRlbXMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiBbewogICAgICAgIHZhbHVlOiAnZmlsZScsCiAgICAgICAgdGV4dDogJ0ZpbGUnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJ2ZpbGFtZW50JywKICAgICAgICB0ZXh0OiAnRmlsYW1lbnQnCiAgICAgIH1dOwogICAgfQogIH0sIHsKICAgIGtleTogImNhbGNFc3RpbWF0ZVRpbWUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5ndWkuZ2VuZXJhbC5jYWxjRXN0aW1hdGVUaW1lOwogICAgfSwKICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld1ZhbCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ3VpL3NhdmVTZXR0aW5nJywgewogICAgICAgIG5hbWU6ICdnZW5lcmFsLmNhbGNFc3RpbWF0ZVRpbWUnLAogICAgICAgIHZhbHVlOiBuZXdWYWwKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2FsY0V0YVRpbWVJdGVtcyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIFt7CiAgICAgICAgdmFsdWU6ICdmaWxlJywKICAgICAgICB0ZXh0OiAnRmlsZScKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnZmlsYW1lbnQnLAogICAgICAgIHRleHQ6ICdGaWxhbWVudCcKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnc2xpY2VyJywKICAgICAgICB0ZXh0OiAnU2xpY2VyJwogICAgICB9XTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYWxjRXRhVGltZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmd1aS5nZW5lcmFsLmNhbGNFdGFUaW1lOwogICAgfSwKICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld1ZhbCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ3VpL3NhdmVTZXR0aW5nJywgewogICAgICAgIG5hbWU6ICdnZW5lcmFsLmNhbGNFdGFUaW1lJywKICAgICAgICB2YWx1ZTogbmV3VmFsCiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogIm1vb25yYWtlckRiTmFtZXNwYWNlcyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzJCRzdG9yZSRzdGF0ZSRzZTsKCiAgICAgIHJldHVybiAoX3RoaXMkJHN0b3JlJHN0YXRlJHNlID0gdGhpcy4kc3RvcmUuc3RhdGUuc2VydmVyLmRiTmFtZXNwYWNlcykgIT09IG51bGwgJiYgX3RoaXMkJHN0b3JlJHN0YXRlJHNlICE9PSB2b2lkIDAgPyBfdGhpcyQkc3RvcmUkc3RhdGUkc2UgOiBbXTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtb29ucmFrZXJDb21wb25lbnRzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMkJHN0b3JlJHN0YXRlJHNlMjsKCiAgICAgIHJldHVybiAoX3RoaXMkJHN0b3JlJHN0YXRlJHNlMiA9IHRoaXMuJHN0b3JlLnN0YXRlLnNlcnZlci5jb21wb25lbnRzKSAhPT0gbnVsbCAmJiBfdGhpcyQkc3RvcmUkc3RhdGUkc2UyICE9PSB2b2lkIDAgPyBfdGhpcyQkc3RvcmUkc3RhdGUkc2UyIDogW107CiAgICB9CiAgfSwgewogICAga2V5OiAicmVmcmVzaE5hbWVzcGFjZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWZyZXNoTmFtZXNwYWNlcyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgdXJsLCByZXNwb25zZSwgX3JlZiwgX29iamVjdHMkcmVzdWx0LCBvYmplY3RzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLmF2YWlsYWJsZU5hbWVzcGFjZXMgPSBbXTsKICAgICAgICAgICAgICAgIHVybCA9IHRoaXMuJHN0b3JlLmdldHRlcnNbJ3NvY2tldC9nZXRVcmwnXSArICcvc2VydmVyL2RhdGFiYXNlL2xpc3QnOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2godXJsKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIG9iamVjdHMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgdGhpcy5hdmFpbGFibGVOYW1lc3BhY2VzID0gKF9yZWYgPSBfdG9Db25zdW1hYmxlQXJyYXkoKF9vYmplY3RzJHJlc3VsdCA9IG9iamVjdHMucmVzdWx0KSA9PT0gbnVsbCB8fCBfb2JqZWN0cyRyZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vYmplY3RzJHJlc3VsdC5uYW1lc3BhY2VzKSkgIT09IG51bGwgJiYgX3JlZiAhPT0gdm9pZCAwID8gX3JlZiA6IFtdOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHJlZnJlc2hOYW1lc3BhY2VzKCkgewogICAgICAgIHJldHVybiBfcmVmcmVzaE5hbWVzcGFjZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlZnJlc2hOYW1lc3BhY2VzOwogICAgfSgpCiAgfSwgewogICAga2V5OiAicmVmcmVzaE1haW5zYWlsS2V5cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZnJlc2hNYWluc2FpbEtleXMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgICB2YXIgdXJsLCByZXNwb25zZSwgX29iamVjdHMkcmVzdWx0Miwgb2JqZWN0cywgX29iamVjdHMkcmVzdWx0MzsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRoaXMubWFpbnNhaWxLZXlzID0gW107CiAgICAgICAgICAgICAgICB1cmwgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydzb2NrZXQvZ2V0VXJsJ10gKyAnL3NlcnZlci9kYXRhYmFzZS9pdGVtP25hbWVzcGFjZT1tYWluc2FpbCc7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2godXJsKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIG9iamVjdHMgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAob2JqZWN0cyAhPT0gbnVsbCAmJiBvYmplY3RzICE9PSB2b2lkIDAgJiYgKF9vYmplY3RzJHJlc3VsdDIgPSBvYmplY3RzLnJlc3VsdCkgIT09IG51bGwgJiYgX29iamVjdHMkcmVzdWx0MiAhPT0gdm9pZCAwICYmIF9vYmplY3RzJHJlc3VsdDIudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMob2JqZWN0cyA9PT0gbnVsbCB8fCBvYmplY3RzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX29iamVjdHMkcmVzdWx0MyA9IG9iamVjdHMucmVzdWx0KSA9PT0gbnVsbCB8fCBfb2JqZWN0cyRyZXN1bHQzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb2JqZWN0cyRyZXN1bHQzLnZhbHVlKS5mb3JFYWNoKGZ1bmN0aW9uICh0bXApIHsKICAgICAgICAgICAgICAgICAgICBpZiAodG1wICE9PSAnaW5pdFZlcnNpb24nKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZXNwYWNlID0gX3RoaXMyLmF2YWlsYWJsZUtleXMuZmluZChmdW5jdGlvbiAobmFtZXNwYWNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuYW1lc3BhY2UubmFtZSA9PT0gdG1wOwogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcE5hbWVzcGFjZSA9IG5hbWVzcGFjZSA/IG5hbWVzcGFjZSA6IHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdG1wLAogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogdG1wCiAgICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5tYWluc2FpbEtleXMucHVzaCh0bXBOYW1lc3BhY2UpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIHRoaXMubWFpbnNhaWxLZXlzID0gdGhpcy5tYWluc2FpbEtleXMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICAgICAgICAgIGlmIChhLm5hbWUgPT09ICdnZW5lcmFsJykgcmV0dXJuIC0xOwogICAgICAgICAgICAgICAgICAgIGlmIChiLm5hbWUgPT09ICdnZW5lcmFsJykgcmV0dXJuIDE7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0cmluZ0EgPSBhLmxhYmVsLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3RyaW5nQiA9IGIubGFiZWwudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChzdHJpbmdBIDwgc3RyaW5nQikgcmV0dXJuIC0xOwogICAgICAgICAgICAgICAgICAgIGlmIChzdHJpbmdBID4gc3RyaW5nQikgcmV0dXJuIDE7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gcmVmcmVzaE1haW5zYWlsS2V5cygpIHsKICAgICAgICByZXR1cm4gX3JlZnJlc2hNYWluc2FpbEtleXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlZnJlc2hNYWluc2FpbEtleXM7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJjaGFuZ2VOYW1lc3BhY2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNoYW5nZU5hbWVzcGFjZShuYW1lKSB7CiAgICAgIGlmICh0aGlzLmRiQ2hlY2tib3hlcy5pbmNsdWRlcyhuYW1lKSkgewogICAgICAgIHZhciBpbmRleCA9IHRoaXMuZGJDaGVja2JveGVzLmluZGV4T2YobmFtZSk7CiAgICAgICAgaWYgKGluZGV4ID49IDApIHRoaXMuZGJDaGVja2JveGVzLnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0gZWxzZSB0aGlzLmRiQ2hlY2tib3hlcy5wdXNoKG5hbWUpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlc2V0TWFpbnNhaWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZXNldE1haW5zYWlsID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVmcmVzaE5hbWVzcGFjZXMoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmF2YWlsYWJsZU5hbWVzcGFjZXMuaW5jbHVkZXMoJ21haW5zYWlsJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWZyZXNoTWFpbnNhaWxLZXlzKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICB0aGlzLm1haW5zYWlsS2V5cyA9IFtdOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICB0aGlzLmRiQ2hlY2tib3hlcyA9IFtdOwogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dSZXNldE1haW5zYWlsID0gdHJ1ZTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHJlc2V0TWFpbnNhaWwoKSB7CiAgICAgICAgcmV0dXJuIF9yZXNldE1haW5zYWlsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXNldE1haW5zYWlsOwogICAgfSgpCiAgfSwgewogICAga2V5OiAicmVzZXRNYWluc2FpbEFjdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3Jlc2V0TWFpbnNhaWxBY3Rpb24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NvY2tldC9hZGRMb2FkaW5nJywgJ3Jlc2V0TWFpbnNhaWwnKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdndWkvcmVzZXRNb29ucmFrZXJEQicsIHRoaXMuZGJDaGVja2JveGVzKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gcmVzZXRNYWluc2FpbEFjdGlvbigpIHsKICAgICAgICByZXR1cm4gX3Jlc2V0TWFpbnNhaWxBY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc2V0TWFpbnNhaWxBY3Rpb247CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJiYWNrdXBEYiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2JhY2t1cERiID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NvY2tldC9hZGRMb2FkaW5nJywgJ2JhY2t1cERiQnV0dG9uJyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWZyZXNoTmFtZXNwYWNlcygpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYXZhaWxhYmxlTmFtZXNwYWNlcy5pbmNsdWRlcygnbWFpbnNhaWwnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZnJlc2hNYWluc2FpbEtleXMoKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHRoaXMubWFpbnNhaWxLZXlzID0gW107CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHRoaXMuZGJDaGVja2JveGVzID0gW107CiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0JhY2t1cE1haW5zYWlsID0gdHJ1ZTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGJhY2t1cERiKCkgewogICAgICAgIHJldHVybiBfYmFja3VwRGIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGJhY2t1cERiOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiYmFja3VwTWFpbnNhaWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9iYWNrdXBNYWluc2FpbCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc29ja2V0L2FkZExvYWRpbmcnLCAnYmFja3VwTWFpbnNhaWwnKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdndWkvYmFja3VwTW9vbnJha2VyREInLCB0aGlzLmRiQ2hlY2tib3hlcyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc29ja2V0L3JlbW92ZUxvYWRpbmcnLCAnYmFja3VwTWFpbnNhaWwnKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dCYWNrdXBNYWluc2FpbCA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBiYWNrdXBNYWluc2FpbCgpIHsKICAgICAgICByZXR1cm4gX2JhY2t1cE1haW5zYWlsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBiYWNrdXBNYWluc2FpbDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInJlc3RvcmVEYiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3Jlc3RvcmVEYiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIF90aGlzJCRyZWZzLCBfdGhpcyQkcmVmcyR1cGxvYWRCYWM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc29ja2V0L2FkZExvYWRpbmcnLCAncmVzdG9yZVVwbG9hZEJ1dHRvbicpOwogICAgICAgICAgICAgICAgKF90aGlzJCRyZWZzID0gdGhpcy4kcmVmcykgPT09IG51bGwgfHwgX3RoaXMkJHJlZnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpcyQkcmVmcyR1cGxvYWRCYWMgPSBfdGhpcyQkcmVmcy51cGxvYWRCYWNrdXBGaWxlKSA9PT0gbnVsbCB8fCBfdGhpcyQkcmVmcyR1cGxvYWRCYWMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJCRyZWZzJHVwbG9hZEJhYy5jbGljaygpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiByZXN0b3JlRGIoKSB7CiAgICAgICAgcmV0dXJuIF9yZXN0b3JlRGIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3RvcmVEYjsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInVwbG9hZFJlc3RvcmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwbG9hZFJlc3RvcmUoKSB7CiAgICAgIHZhciBfdGhpcyQkcmVmcyR1cGxvYWRCYWMyLAogICAgICAgICAgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICgoX3RoaXMkJHJlZnMkdXBsb2FkQmFjMiA9IHRoaXMuJHJlZnMudXBsb2FkQmFja3VwRmlsZS5maWxlcykgIT09IG51bGwgJiYgX3RoaXMkJHJlZnMkdXBsb2FkQmFjMiAhPT0gdm9pZCAwICYmIF90aGlzJCRyZWZzJHVwbG9hZEJhYzIubGVuZ3RoKSB7CiAgICAgICAgdmFyIGJhY2t1cCA9IHRoaXMuJHJlZnMudXBsb2FkQmFja3VwRmlsZS5maWxlc1swXTsKCiAgICAgICAgaWYgKGJhY2t1cCkgewogICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgICByZWFkZXIucmVhZEFzVGV4dChiYWNrdXAsICdVVEYtOCcpOwoKICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgICAgICAgIF90aGlzMy5yZXN0b3JlYWJsZU5hbWVzcGFjZXMgPSBbXTsKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgdmFyIF9ldnQkdGFyZ2V0OwoKICAgICAgICAgICAgICBfdGhpczMucmVzdG9yZU9iamVjdHMgPSBKU09OLnBhcnNlKChldnQgPT09IG51bGwgfHwgZXZ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2V2dCR0YXJnZXQgPSBldnQudGFyZ2V0KSA9PT0gbnVsbCB8fCBfZXZ0JHRhcmdldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2V2dCR0YXJnZXQucmVzdWx0KSArICcnKTsKICAgICAgICAgICAgICBPYmplY3Qua2V5cyhfdGhpczMucmVzdG9yZU9iamVjdHMpLmZvckVhY2goZnVuY3Rpb24gKHRtcCkgewogICAgICAgICAgICAgICAgdmFyIG5hbWVzcGFjZSA9IF90aGlzMy5hdmFpbGFibGVLZXlzLmZpbmQoZnVuY3Rpb24gKG5hbWVzcGFjZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gbmFtZXNwYWNlLm5hbWUgPT09IHRtcDsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHZhciB0bXBOYW1lc3BhY2UgPSBuYW1lc3BhY2UgPyBuYW1lc3BhY2UgOiB7CiAgICAgICAgICAgICAgICAgIG5hbWU6IHRtcCwKICAgICAgICAgICAgICAgICAgbGFiZWw6IHRtcAogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBfdGhpczMucmVzdG9yZWFibGVOYW1lc3BhY2VzLnB1c2godG1wTmFtZXNwYWNlKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBfdGhpczMucmVzdG9yZWFibGVOYW1lc3BhY2VzID0gX3RoaXMzLnJlc3RvcmVhYmxlTmFtZXNwYWNlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgICAgICBpZiAoYS5uYW1lID09PSAnZ2VuZXJhbCcpIHJldHVybiAtMTsKICAgICAgICAgICAgICAgIGlmIChiLm5hbWUgPT09ICdnZW5lcmFsJykgcmV0dXJuIDE7CiAgICAgICAgICAgICAgICB2YXIgc3RyaW5nQSA9IGEubGFiZWwudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgdmFyIHN0cmluZ0IgPSBiLmxhYmVsLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgIGlmIChzdHJpbmdBIDwgc3RyaW5nQikgcmV0dXJuIC0xOwogICAgICAgICAgICAgICAgaWYgKHN0cmluZ0EgPiBzdHJpbmdCKSByZXR1cm4gMTsKICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF90aGlzMy5kYkNoZWNrYm94ZXMgPSBbXTsKICAgICAgICAgICAgICBfdGhpczMuZGlhbG9nUmVzdG9yZU1haW5zYWlsID0gdHJ1ZTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgIFZ1ZS4kdG9hc3QuZXJyb3IoX3RoaXMzLiR0KCdTZXR0aW5ncy5HZW5lcmFsVGFiLkNhbm5vdFJlYWRKc29uJykgKyAnJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CgogICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmVycm9yKGV2dCk7CiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kcmVmcy51cGxvYWRCYWNrdXBGaWxlLnZhbHVlID0gJyc7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXN0b3JlRGJBY3Rpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZXN0b3JlRGJBY3Rpb24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc29ja2V0L2FkZExvYWRpbmcnLCAncmVzdG9yZURiQWN0aW9uJyk7CiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ3VpL3Jlc3RvcmVNb29ucmFrZXJEQicsIHsKICAgICAgICAgICAgICAgICAgZGJDaGVja2JveGVzOiB0aGlzLmRiQ2hlY2tib3hlcywKICAgICAgICAgICAgICAgICAgcmVzdG9yZU9iamVjdHM6IHRoaXMucmVzdG9yZU9iamVjdHMKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiByZXN0b3JlRGJBY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIF9yZXN0b3JlRGJBY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3RvcmVEYkFjdGlvbjsKICAgIH0oKQogIH1dKTsKCiAgcmV0dXJuIFNldHRpbmdzR2VuZXJhbFRhYjsKfShNaXhpbnMoQmFzZU1peGluKSk7CgpTZXR0aW5nc0dlbmVyYWxUYWIgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIFBhbmVsOiBQYW5lbCwKICAgIFNldHRpbmdzUm93OiBTZXR0aW5nc1JvdwogIH0KfSldLCBTZXR0aW5nc0dlbmVyYWxUYWIpOwpleHBvcnQgZGVmYXVsdCBTZXR0aW5nc0dlbmVyYWxUYWI7"},null]}