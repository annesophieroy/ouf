{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/inputs/FilamentSensor.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/inputs/FilamentSensor.vue","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1645990069130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHtjb252ZXJ0TmFtZX0gZnJvbSAnQC9wbHVnaW5zL2hlbHBlcnMnCmltcG9ydCB7Q29tcG9uZW50LCBNaXhpbnMsIFByb3B9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InCmltcG9ydCBCYXNlTWl4aW4gZnJvbSAnQC9jb21wb25lbnRzL21peGlucy9iYXNlJwoKQENvbXBvbmVudApleHBvcnQgZGVmYXVsdCBjbGFzcyBGaWxhbWVudFNlbnNvciBleHRlbmRzIE1peGlucyhCYXNlTWl4aW4pIHsKICAgIGNvbnZlcnROYW1lID0gY29udmVydE5hbWUKCiAgICBAUHJvcCh7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSkgcmVhZG9ubHkgbmFtZSE6IHN0cmluZwogICAgQFByb3AoeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogdHJ1ZSB9KSByZWFkb25seSBlbmFibGVkITogYm9vbGVhbgogICAgQFByb3AoeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogdHJ1ZSB9KSByZWFkb25seSBmaWxhbWVudF9kZXRlY3RlZCE6IGJvb2xlYW4KCiAgICBnZXQgc3RhdHVzQ29sb3IoKSB7CiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWQpIHJldHVybiAnZ3JheScKICAgICAgICBlbHNlIGlmICh0aGlzLmZpbGFtZW50X2RldGVjdGVkKSByZXR1cm4gJ3N1Y2Nlc3MnCiAgICAgICAgZWxzZSByZXR1cm4gJ2RhbmdlcicKICAgIH0KCiAgICBnZXQgc3RhdHVzVGV4dCgpIHsKICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCkgcmV0dXJuIHRoaXMuJHQoJ1BhbmVscy5NaXNjZWxsYW5lb3VzUGFuZWwuUnVub3V0U2Vuc29yLkRpc2FibGVkJykKICAgICAgICBlbHNlIGlmICh0aGlzLmZpbGFtZW50X2RldGVjdGVkKSByZXR1cm4gdGhpcy4kdCgnUGFuZWxzLk1pc2NlbGxhbmVvdXNQYW5lbC5SdW5vdXRTZW5zb3IuRGV0ZWN0ZWQnKQogICAgICAgIGVsc2UgcmV0dXJuIHRoaXMuJHQoJ1BhbmVscy5NaXNjZWxsYW5lb3VzUGFuZWwuUnVub3V0U2Vuc29yLkVtcHR5JykKICAgIH0KCiAgICBjaGFuZ2VTZW5zb3IoKSB7CiAgICAgICAgY29uc3QgZ2NvZGUgPSAnU0VUX0ZJTEFNRU5UX1NFTlNPUiBTRU5TT1I9Jyt0aGlzLm5hbWUrJyBFTkFCTEU9JysodGhpcy5lbmFibGVkID8gMCA6IDEpCiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NlcnZlci9hZGRFdmVudCcsIHsgbWVzc2FnZTogZ2NvZGUsIHR5cGU6ICdjb21tYW5kJyB9KQogICAgICAgIHRoaXMuJHNvY2tldC5lbWl0KCdwcmludGVyLmdjb2RlLnNjcmlwdCcsIHsgc2NyaXB0OiBnY29kZSB9KQogICAgfQp9Cg=="},{"version":3,"sources":["FilamentSensor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"FilamentSensor.vue","sourceRoot":"src/components/inputs","sourcesContent":["<style scoped>\n    ._filamentRunout-subheader {\n        height: auto;\n    }\n</style>\n\n<template>\n    <v-container class=\"px-0 py-2\">\n        <v-row>\n            <v-col class=\"pb-3\">\n                <v-subheader class=\"_filamentRunout-subheader\">\n                    <v-icon small class=\"mr-2\">mdi-printer-3d-nozzle-alert</v-icon>\n                    <span>{{ convertName(name) }}</span>\n                    <v-spacer></v-spacer>\n                    <small :class=\"'mr-3 ' + statusColor+'--text'\">{{ statusText }}</small>\n                    <v-icon @click=\"changeSensor\">{{ enabled ? \"mdi-toggle-switch\" : \"mdi-toggle-switch-off-outline\" }}</v-icon>\n                </v-subheader>\n            </v-col>\n        </v-row>\n    </v-container>\n</template>\n\n\n<script lang=\"ts\">\nimport {convertName} from '@/plugins/helpers'\nimport {Component, Mixins, Prop} from 'vue-property-decorator'\nimport BaseMixin from '@/components/mixins/base'\n\n@Component\nexport default class FilamentSensor extends Mixins(BaseMixin) {\n    convertName = convertName\n\n    @Prop({ type: String, required: true }) readonly name!: string\n    @Prop({ type: Boolean, required: true }) readonly enabled!: boolean\n    @Prop({ type: Boolean, required: true }) readonly filament_detected!: boolean\n\n    get statusColor() {\n        if (!this.enabled) return 'gray'\n        else if (this.filament_detected) return 'success'\n        else return 'danger'\n    }\n\n    get statusText() {\n        if (!this.enabled) return this.$t('Panels.MiscellaneousPanel.RunoutSensor.Disabled')\n        else if (this.filament_detected) return this.$t('Panels.MiscellaneousPanel.RunoutSensor.Detected')\n        else return this.$t('Panels.MiscellaneousPanel.RunoutSensor.Empty')\n    }\n\n    changeSensor() {\n        const gcode = 'SET_FILAMENT_SENSOR SENSOR='+this.name+' ENABLE='+(this.enabled ? 0 : 1)\n        this.$store.dispatch('server/addEvent', { message: gcode, type: 'command' })\n        this.$socket.emit('printer.gcode.script', { script: gcode })\n    }\n}\n</script>\n"]}]}