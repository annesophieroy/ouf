{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/panels/HistoryListPanel.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/panels/HistoryListPanel.vue","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1645990069130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQge0NvbXBvbmVudCwgTWl4aW5zfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJwppbXBvcnQgQmFzZU1peGluIGZyb20gJ0AvY29tcG9uZW50cy9taXhpbnMvYmFzZScKaW1wb3J0IHtTZXJ2ZXJIaXN0b3J5U3RhdGVKb2J9IGZyb20gJ0Avc3RvcmUvc2VydmVyL2hpc3RvcnkvdHlwZXMnCmltcG9ydCB7Y2FzZUluc2Vuc2l0aXZlU29ydCwgZm9ybWF0RmlsZXNpemV9IGZyb20gJ0AvcGx1Z2lucy9oZWxwZXJzJwppbXBvcnQgUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL3VpL1BhbmVsLnZ1ZScKaW1wb3J0IHt0aHVtYm5haWxCaWdNaW4sIHRodW1ibmFpbFNtYWxsTWF4LCB0aHVtYm5haWxTbWFsbE1pbn0gZnJvbSAnQC9zdG9yZS92YXJpYWJsZXMnCkBDb21wb25lbnQoewogICAgY29tcG9uZW50czoge1BhbmVsfQp9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBIaXN0b3J5TGlzdFBhbmVsIGV4dGVuZHMgTWl4aW5zKEJhc2VNaXhpbikgewogICAgZm9ybWF0RmlsZXNpemUgPSBmb3JtYXRGaWxlc2l6ZQoKICAgIHByaXZhdGUgYm9vbEFsbERhdGEgPSBmYWxzZQogICAgcHJpdmF0ZSBzZWFyY2ggPSAnJwogICAgcHJpdmF0ZSBzb3J0QnkgPSAnc3RhcnRfdGltZScKICAgIHByaXZhdGUgc29ydERlc2MgPSB0cnVlCiAgICBwcml2YXRlIHNlbGVjdGVkID0gW10KICAgIHByaXZhdGUgaGlkZUhlYWRlckNvbHVtcyA9IFtdCiAgICBwcml2YXRlIG9wdGlvbnMgPSB7IH0KICAgIHByaXZhdGUgY29udGV4dE1lbnUgPSB7CiAgICAgICAgc2hvd246IGZhbHNlLAogICAgICAgIHRvdWNoVGltZXI6IHVuZGVmaW5lZCwKICAgICAgICB4OiAwLAogICAgICAgIHk6IDAsCiAgICAgICAgaXRlbToge30KICAgIH0KICAgIHByaXZhdGUgZGV0YWlsc0RpYWxvZyA9IHsKICAgICAgICBpdGVtOiB7fSwKICAgICAgICBib29sU2hvdzogZmFsc2UsCiAgICB9CgogICAgZ2V0IGpvYnMoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3NlcnZlci9oaXN0b3J5L2dldEZpbHRlcmRKb2JMaXN0J10gPz8gW10KICAgIH0KCiAgICBnZXQgaGVhZGVycygpIHsKICAgICAgICBjb25zdCBoZWFkZXJzID0gWyB7CiAgICAgICAgICAgIHRleHQ6ICcnLAogICAgICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgICAgIGNvbmZpZ2FibGU6IGZhbHNlLAogICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICBmaWx0ZXJhYmxlOiBmYWxzZQogICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnSGlzdG9yeS5GaWxlbmFtZScpLAogICAgICAgICAgICB2YWx1ZTogJ2ZpbGVuYW1lJywKICAgICAgICAgICAgYWxpZ246ICdsZWZ0JywKICAgICAgICAgICAgY29uZmlnYWJsZTogZmFsc2UsCiAgICAgICAgICAgIHZpc2libGU6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICAgIHRleHQ6ICcnLAogICAgICAgICAgICB2YWx1ZTogJ3N0YXR1cycsCiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgICAgIGNvbmZpZ2FibGU6IGZhbHNlLAogICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICBmaWx0ZXJhYmxlOiBmYWxzZQogICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnSGlzdG9yeS5GaWxlc2l6ZScpLAogICAgICAgICAgICB2YWx1ZTogJ3NpemUnLAogICAgICAgICAgICBhbGlnbjogJ2xlZnQnLAogICAgICAgICAgICBjb25maWdhYmxlOiB0cnVlLAogICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICBvdXRwdXRUeXBlOiAnZmlsZXNpemUnCiAgICAgICAgfSwgewogICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdIaXN0b3J5Lkxhc3RNb2RpZmllZCcpLAogICAgICAgICAgICB2YWx1ZTogJ21vZGlmaWVkJywKICAgICAgICAgICAgYWxpZ246ICdsZWZ0JywKICAgICAgICAgICAgY29uZmlnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgb3V0cHV0VHlwZTogJ2RhdGUnCiAgICAgICAgfSwgewogICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdIaXN0b3J5LlN0YXJ0VGltZScpLAogICAgICAgICAgICB2YWx1ZTogJ3N0YXJ0X3RpbWUnLAogICAgICAgICAgICBhbGlnbjogJ2xlZnQnLAogICAgICAgICAgICBjb25maWdhYmxlOiB0cnVlLAogICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICBvdXRwdXRUeXBlOiAnZGF0ZScKICAgICAgICB9LCB7CiAgICAgICAgICAgIHRleHQ6IHRoaXMuJHQoJ0hpc3RvcnkuRW5kVGltZScpLAogICAgICAgICAgICB2YWx1ZTogJ2VuZF90aW1lJywKICAgICAgICAgICAgYWxpZ246ICdsZWZ0JywKICAgICAgICAgICAgY29uZmlnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgb3V0cHV0VHlwZTogJ2RhdGUnCiAgICAgICAgfSwgewogICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdIaXN0b3J5LkVzdGltYXRlZFRpbWUnKSwKICAgICAgICAgICAgdmFsdWU6ICdlc3RpbWF0ZWRfdGltZScsCiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgICAgIGNvbmZpZ2FibGU6IHRydWUsCiAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgIG91dHB1dFR5cGU6ICd0aW1lJwogICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnSGlzdG9yeS5QcmludFRpbWUnKSwKICAgICAgICAgICAgdmFsdWU6ICdwcmludF9kdXJhdGlvbicsCiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgICAgIGNvbmZpZ2FibGU6IHRydWUsCiAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgIG91dHB1dFR5cGU6ICd0aW1lJwogICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnSGlzdG9yeS5Ub3RhbFRpbWUnKSwKICAgICAgICAgICAgdmFsdWU6ICd0b3RhbF9kdXJhdGlvbicsCiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgICAgIGNvbmZpZ2FibGU6IHRydWUsCiAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgIG91dHB1dFR5cGU6ICd0aW1lJwogICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnSGlzdG9yeS5GaWxhbWVudENhbGMnKSwKICAgICAgICAgICAgdmFsdWU6ICdmaWxhbWVudF90b3RhbCcsCiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgICAgIGNvbmZpZ2FibGU6IHRydWUsCiAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgIG91dHB1dFR5cGU6ICdsZW5ndGgnCiAgICAgICAgfSwgewogICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdIaXN0b3J5LkZpbGFtZW50VXNlZCcpLAogICAgICAgICAgICB2YWx1ZTogJ2ZpbGFtZW50X3VzZWQnLAogICAgICAgICAgICBhbGlnbjogJ2xlZnQnLAogICAgICAgICAgICBjb25maWdhYmxlOiB0cnVlLAogICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICBvdXRwdXRUeXBlOiAnbGVuZ3RoJwogICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnSGlzdG9yeS5GaXJzdExheWVyRXh0VGVtcCcpLAogICAgICAgICAgICB2YWx1ZTogJ2ZpcnN0X2xheWVyX2V4dHJfdGVtcCcsCiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgICAgIGNvbmZpZ2FibGU6IHRydWUsCiAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgIG91dHB1dFR5cGU6ICd0ZW1wJwogICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnSGlzdG9yeS5GaXJzdExheWVyQmVkVGVtcCcpLAogICAgICAgICAgICB2YWx1ZTogJ2ZpcnN0X2xheWVyX2JlZF90ZW1wJywKICAgICAgICAgICAgYWxpZ246ICdsZWZ0JywKICAgICAgICAgICAgY29uZmlnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgb3V0cHV0VHlwZTogJ3RlbXAnCiAgICAgICAgfSwgewogICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdIaXN0b3J5LkZpcnN0TGF5ZXJIZWlnaHQnKSwKICAgICAgICAgICAgdmFsdWU6ICdmaXJzdF9sYXllcl9oZWlnaHQnLAogICAgICAgICAgICBhbGlnbjogJ2xlZnQnLAogICAgICAgICAgICBjb25maWdhYmxlOiB0cnVlLAogICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICBvdXRwdXRUeXBlOiAnbGVuZ3RoJwogICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnSGlzdG9yeS5MYXllckhlaWdodCcpLAogICAgICAgICAgICB2YWx1ZTogJ2xheWVyX2hlaWdodCcsCiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgICAgIGNvbmZpZ2FibGU6IHRydWUsCiAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgIG91dHB1dFR5cGU6ICdsZW5ndGgnCiAgICAgICAgfSwgewogICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdIaXN0b3J5Lk9iamVjdEhlaWdodCcpLAogICAgICAgICAgICB2YWx1ZTogJ29iamVjdF9oZWlnaHQnLAogICAgICAgICAgICBhbGlnbjogJ2xlZnQnLAogICAgICAgICAgICBjb25maWdhYmxlOiB0cnVlLAogICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICBvdXRwdXRUeXBlOiAnbGVuZ3RoJwogICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnSGlzdG9yeS5TbGljZXInKSwKICAgICAgICAgICAgdmFsdWU6ICdzbGljZXInLAogICAgICAgICAgICBhbGlnbjogJ2xlZnQnLAogICAgICAgICAgICBjb25maWdhYmxlOiB0cnVlLAogICAgICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgICAgfSwKICAgICAgICBdCgogICAgICAgIGhlYWRlcnMuZm9yRWFjaCgoaGVhZGVyKSA9PiB7CiAgICAgICAgICAgIGlmIChoZWFkZXIudmlzaWJsZSAmJiB0aGlzLmhpZGVDb2x1bXMuaW5jbHVkZXMoaGVhZGVyLnZhbHVlKSkgewogICAgICAgICAgICAgICAgaGVhZGVyLnZpc2libGUgPSBmYWxzZQogICAgICAgICAgICB9IGVsc2UgaWYgKCFoZWFkZXIudmlzaWJsZSAmJiAhdGhpcy5oaWRlQ29sdW1zLmluY2x1ZGVzKGhlYWRlci52YWx1ZSkpIHsKICAgICAgICAgICAgICAgIGhlYWRlci52aXNpYmxlID0gdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgfSkKCiAgICAgICAgcmV0dXJuIGhlYWRlcnMKICAgIH0KCiAgICBnZXQgdGFibGVGaWVsZHMoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyZWRIZWFkZXJzLmZpbHRlcigoY29sOiBhbnkpID0+ICFbJ2ZpbGVuYW1lJywgJ3N0YXR1cycsICdzbGljZXInXS5pbmNsdWRlcyhjb2wudmFsdWUpICYmIGNvbC52YWx1ZSAhPT0gJycpCiAgICB9CgogICAgZ2V0IGNvbmZpZ0hlYWRlcnMoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaGVhZGVycy5maWx0ZXIoKGhlYWRlcjogYW55KSA9PiBoZWFkZXIuY29uZmlnYWJsZSA9PT0gdHJ1ZSkKICAgIH0KCiAgICBnZXQgZmlsdGVyZWRIZWFkZXJzKCkgewogICAgICAgIHJldHVybiB0aGlzLmhlYWRlcnMuZmlsdGVyKChoZWFkZXI6IGFueSkgPT4gaGVhZGVyLnZpc2libGUgPT09IHRydWUpCiAgICB9CgogICAgZ2V0IGFsbFByaW50U3RhdHVzQXJyYXkoKSB7CiAgICAgICAgcmV0dXJuIGNhc2VJbnNlbnNpdGl2ZVNvcnQodGhpcy4kc3RvcmUuZ2V0dGVyc1snc2VydmVyL2hpc3RvcnkvZ2V0QWxsUHJpbnRTdGF0dXNBcnJheSddID8/IFtdLCAnbmFtZScpCiAgICB9CgogICAgZ2V0IGNvdW50UGVyUGFnZSgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZ3VpLnZpZXcuaGlzdG9yeWNvdW50UGVyUGFnZQogICAgfQoKICAgIHNldCBjb3VudFBlclBhZ2UobmV3VmFsKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2d1aS9zYXZlU2V0dGluZycsIHsgbmFtZTogJ3ZpZXcuaGlzdG9yeS5jb3VudFBlclBhZ2UnLCB2YWx1ZTogbmV3VmFsIH0pCiAgICB9CgogICAgZ2V0IGhpZGVDb2x1bXMoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmd1aS52aWV3Lmhpc3RvcnkuaGlkZUNvbHVtcwogICAgfQoKICAgIHNldCBoaWRlQ29sdW1zKG5ld1ZhbCkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdndWkvc2F2ZVNldHRpbmcnLCB7IG5hbWU6ICd2aWV3Lmhpc3RvcnkuaGlkZUNvbHVtcycsIHZhbHVlOiBuZXdWYWwgfSkKICAgIH0KCiAgICByZWZyZXNoSGlzdG9yeSgpIHsKICAgICAgICB0aGlzLiRzb2NrZXQuZW1pdCgnc2VydmVyLmhpc3RvcnkubGlzdCcsIHsgc3RhcnQ6IDAsIGxpbWl0OiA1MCB9LCB7IGFjdGlvbjogJ3NlcnZlci9oaXN0b3J5L2dldEhpc3RvcnknIH0pCiAgICB9CgogICAgZm9ybWF0RGF0ZShkYXRlOiBudW1iZXIpIHsKICAgICAgICBjb25zdCB0bXAyID0gbmV3IERhdGUoZGF0ZSoxMDAwKQoKICAgICAgICByZXR1cm4gdG1wMi50b0xvY2FsZVN0cmluZygpLnJlcGxhY2UoJywnLCAnJykKICAgIH0KCiAgICBmb3JtYXRQcmludFRpbWUodG90YWxTZWNvbmRzOiBudW1iZXIpIHsKICAgICAgICBpZiAodG90YWxTZWNvbmRzKSB7CiAgICAgICAgICAgIGxldCBvdXRwdXQgPSAnJwoKICAgICAgICAgICAgY29uc3QgZGF5cyA9IE1hdGguZmxvb3IodG90YWxTZWNvbmRzIC8gKDM2MDAgKiAyNCkpCiAgICAgICAgICAgIGlmIChkYXlzKSB7CiAgICAgICAgICAgICAgICB0b3RhbFNlY29uZHMgJT0gKDM2MDAgKiAyNCkKICAgICAgICAgICAgICAgIG91dHB1dCArPSBkYXlzKydkJwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3IodG90YWxTZWNvbmRzIC8gMzYwMCkKICAgICAgICAgICAgdG90YWxTZWNvbmRzICU9IDM2MDAKICAgICAgICAgICAgaWYgKGhvdXJzKSBvdXRwdXQgKz0gJyAnK2hvdXJzKydoJwoKICAgICAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IodG90YWxTZWNvbmRzIC8gNjApCiAgICAgICAgICAgIGlmIChtaW51dGVzKSBvdXRwdXQgKz0gJyAnK21pbnV0ZXMrJ20nCgogICAgICAgICAgICBjb25zdCBzZWNvbmRzID0gdG90YWxTZWNvbmRzICUgNjAKICAgICAgICAgICAgaWYgKHNlY29uZHMpIG91dHB1dCArPSAnICcrc2Vjb25kcy50b0ZpeGVkKDApKydzJwoKICAgICAgICAgICAgcmV0dXJuIG91dHB1dAogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICctLScKICAgIH0KICAgIAogICAgY2xpY2tSb3coaXRlbTogU2VydmVySGlzdG9yeVN0YXRlSm9iKSB7CiAgICAgICAgdGhpcy5kZXRhaWxzRGlhbG9nLml0ZW0gPSBpdGVtCiAgICAgICAgdGhpcy5kZXRhaWxzRGlhbG9nLmJvb2xTaG93ID0gdHJ1ZQogICAgfQogICAgCiAgICBzaG93Q29udGV4dE1lbnUgKGU6IGFueSwgaXRlbTogU2VydmVySGlzdG9yeVN0YXRlSm9iKSB7CiAgICAgICAgaWYgKCF0aGlzLmNvbnRleHRNZW51LnNob3duKSB7CiAgICAgICAgICAgIGU/LnByZXZlbnREZWZhdWx0KCkKICAgICAgICAgICAgdGhpcy5jb250ZXh0TWVudS5zaG93biA9IHRydWUKICAgICAgICAgICAgdGhpcy5jb250ZXh0TWVudS54ID0gZT8uY2xpZW50WCB8fCBlPy5wYWdlWCB8fCB3aW5kb3cuc2NyZWVuWCAvIDIKICAgICAgICAgICAgdGhpcy5jb250ZXh0TWVudS55ID0gZT8uY2xpZW50WSB8fCBlPy5wYWdlWSB8fCB3aW5kb3cuc2NyZWVuWSAvIDIKICAgICAgICAgICAgdGhpcy5jb250ZXh0TWVudS5pdGVtID0gaXRlbQogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHRNZW51LnNob3duID0gdHJ1ZQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0KCiAgICBzb3J0RmlsZXMoaXRlbXM6IGFueVtdLCBzb3J0Qnk6IHN0cmluZ1tdLCBzb3J0RGVzYzogYm9vbGVhbltdKSB7CiAgICAgICAgY29uc3Qgc29ydEJ5Q2xlYW4gPSBzb3J0QnkubGVuZ3RoID8gc29ydEJ5WzBdIDogJ2ZpbGVuYW1lJwogICAgICAgIGNvbnN0IHNvcnREZXNjQ2xlYW4gPSBzb3J0RGVzY1swXQoKICAgICAgICBpZiAoaXRlbXMgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAvLyBTb3J0IGJ5IGluZGV4CiAgICAgICAgICAgIGl0ZW1zLnNvcnQoZnVuY3Rpb24oYSwgYikgewogICAgICAgICAgICAgICAgaWYgKGFbc29ydEJ5Q2xlYW5dID09PSBiW3NvcnRCeUNsZWFuXSkgcmV0dXJuIDAKICAgICAgICAgICAgICAgIGlmIChhW3NvcnRCeUNsZWFuXSA9PT0gbnVsbCB8fCBhW3NvcnRCeUNsZWFuXSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gLTEKICAgICAgICAgICAgICAgIGlmIChiW3NvcnRCeUNsZWFuXSA9PT0gbnVsbCB8fCBiW3NvcnRCeUNsZWFuXSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gMQoKICAgICAgICAgICAgICAgIGlmIChhW3NvcnRCeUNsZWFuXS5jb25zdHJ1Y3RvciA9PT0gU3RyaW5nICYmIGJbc29ydEJ5Q2xlYW5dLmNvbnN0cnVjdG9yID09PSBTdHJpbmcpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVtzb3J0QnlDbGVhbl0ubG9jYWxlQ29tcGFyZShiW3NvcnRCeUNsZWFuXSwgdW5kZWZpbmVkLCB7IHNlbnNpdml0eTogJ2Jhc2UnIH0pCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGFbc29ydEJ5Q2xlYW5dIGluc3RhbmNlb2YgQXJyYXkgJiYgYltzb3J0QnlDbGVhbl0gaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZHVjZWRBID0gYVtzb3J0QnlDbGVhbl0ubGVuZ3RoID8gYS5maWxhbWVudC5yZWR1Y2UoKGE6IGFueSwgYjogYW55KSA9PiBhICsgYikgOiAwCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVkdWNlZEIgPSBiW3NvcnRCeUNsZWFuXS5sZW5ndGggPyBiLmZpbGFtZW50LnJlZHVjZSgoYTogYW55LCBiOiBhbnkpID0+IGEgKyBiKSA6IDAKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVkdWNlZEEgLSByZWR1Y2VkQgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBhW3NvcnRCeUNsZWFuXSAtIGJbc29ydEJ5Q2xlYW5dCiAgICAgICAgICAgIH0pCgogICAgICAgICAgICAvLyBEZWFsIHdpdGggZGVzY2VuZGluZyBvcmRlcgogICAgICAgICAgICBpZiAoc29ydERlc2NDbGVhbikgaXRlbXMucmV2ZXJzZSgpCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gaXRlbXMKICAgIH0KCiAgICBhZHZhbmNlZFNlYXJjaCh2YWx1ZTogc3RyaW5nLCBzZWFyY2g6IHN0cmluZykgewogICAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmCiAgICAgICAgICAgIHNlYXJjaCAhPSBudWxsICYmCiAgICAgICAgICAgIHZhbHVlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaC50b0xvd2VyQ2FzZSgpKSAhPT0gLTEKICAgIH0KCiAgICBnZXRTbWFsbFRodW1ibmFpbChpdGVtOiBTZXJ2ZXJIaXN0b3J5U3RhdGVKb2IpIHsKICAgICAgICBpZiAoCiAgICAgICAgICAgICdtZXRhZGF0YScgaW4gaXRlbSAmJgogICAgICAgICAgICAndGh1bWJuYWlscycgaW4gaXRlbS5tZXRhZGF0YSAmJgogICAgICAgICAgICBpdGVtLm1ldGFkYXRhLnRodW1ibmFpbHMubGVuZ3RoCiAgICAgICAgKSB7CiAgICAgICAgICAgIGNvbnN0IHRodW1ibmFpbCA9IGl0ZW0ubWV0YWRhdGEudGh1bWJuYWlscy5maW5kKCh0aHVtYjogYW55KSA9PgogICAgICAgICAgICAgICAgdGh1bWIud2lkdGggPj0gdGh1bWJuYWlsU21hbGxNaW4gJiYgdGh1bWIud2lkdGggPD0gdGh1bWJuYWlsU21hbGxNYXggJiYKICAgICAgICAgICAgICAgIHRodW1iLmhlaWdodCA+PSB0aHVtYm5haWxTbWFsbE1pbiAmJiB0aHVtYi5oZWlnaHQgPD0gdGh1bWJuYWlsU21hbGxNYXgKICAgICAgICAgICAgKQoKICAgICAgICAgICAgbGV0IHJlbGF0aXZlX3VybCA9ICcnCiAgICAgICAgICAgIGlmIChpdGVtLmZpbGVuYW1lLmxhc3RJbmRleE9mKCcvJykgIT09IC0xKSB7CiAgICAgICAgICAgICAgICByZWxhdGl2ZV91cmwgPSBpdGVtLmZpbGVuYW1lLnN1YnN0cigwLCBpdGVtLmZpbGVuYW1lLmxhc3RJbmRleE9mKCcvJykrMSkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHRodW1ibmFpbCAmJiAncmVsYXRpdmVfcGF0aCcgaW4gdGh1bWJuYWlsKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5hcGlVcmx9L3NlcnZlci9maWxlcy9nY29kZXMvJHtlbmNvZGVVUkkocmVsYXRpdmVfdXJsK3RodW1ibmFpbC5yZWxhdGl2ZV9wYXRoKX0/dGltZXN0YW1wPSR7aXRlbS5tZXRhZGF0YS5tb2RpZmllZH1gCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZQogICAgfQoKICAgIGdldEJpZ1RodW1ibmFpbChpdGVtOiBTZXJ2ZXJIaXN0b3J5U3RhdGVKb2IpIHsKICAgICAgICBpZiAoCiAgICAgICAgICAgICdtZXRhZGF0YScgaW4gaXRlbSAmJgogICAgICAgICAgICAndGh1bWJuYWlscycgaW4gaXRlbS5tZXRhZGF0YSAmJgogICAgICAgICAgICBpdGVtLm1ldGFkYXRhLnRodW1ibmFpbHMubGVuZ3RoCiAgICAgICAgKSB7CiAgICAgICAgICAgIGNvbnN0IHRodW1ibmFpbCA9IGl0ZW0ubWV0YWRhdGEudGh1bWJuYWlscy5maW5kKCh0aHVtYjogYW55KSA9PiB0aHVtYi53aWR0aCA+PSB0aHVtYm5haWxCaWdNaW4pCgogICAgICAgICAgICBsZXQgcmVsYXRpdmVfdXJsID0gJycKICAgICAgICAgICAgaWYgKGl0ZW0uZmlsZW5hbWUubGFzdEluZGV4T2YoJy8nKSAhPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJlbGF0aXZlX3VybCA9IGl0ZW0uZmlsZW5hbWUuc3Vic3RyKDAsIGl0ZW0uZmlsZW5hbWUubGFzdEluZGV4T2YoJy8nKSsxKQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodGh1bWJuYWlsICYmICdyZWxhdGl2ZV9wYXRoJyBpbiB0aHVtYm5haWwpCiAgICAgICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5hcGlVcmx9L3NlcnZlci9maWxlcy9nY29kZXMvJHtlbmNvZGVVUkkocmVsYXRpdmVfdXJsK3RodW1ibmFpbC5yZWxhdGl2ZV9wYXRoKX0/dGltZXN0YW1wPSR7aXRlbS5tZXRhZGF0YS5tb2RpZmllZH1gCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2UKICAgIH0KCiAgICBnZXRUaHVtYm5haWxXaWR0aChpdGVtOiBTZXJ2ZXJIaXN0b3J5U3RhdGVKb2IpIHsKICAgICAgICBpZiAodGhpcy5nZXRCaWdUaHVtYm5haWwoaXRlbSkpIHsKICAgICAgICAgICAgY29uc3QgdGh1bWJuYWlsID0gaXRlbS5tZXRhZGF0YS50aHVtYm5haWxzLmZpbmQoKHRodW1iOiBhbnkpID0+IHRodW1iLndpZHRoID49IHRodW1ibmFpbEJpZ01pbikKCiAgICAgICAgICAgIGlmICh0aHVtYm5haWwpIHJldHVybiB0aHVtYm5haWwud2lkdGgKICAgICAgICB9CgogICAgICAgIHJldHVybiA0MDAKICAgIH0KCiAgICBjaGFuZ2VDb2x1bW5WaXNpYmxlKG5hbWU6IHN0cmluZykgewogICAgICAgIGlmICh0aGlzLmhlYWRlcnMuZmlsdGVyKGhlYWRlciA9PiBoZWFkZXIudmFsdWUgPT09IG5hbWUpLmxlbmd0aCkgewogICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmhlYWRlcnMuZmlsdGVyKGhlYWRlciA9PiBoZWFkZXIudmFsdWUgPT09IG5hbWUpWzBdLnZpc2libGUKCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdndWkvc2V0SGlzdG9yeUNvbHVtbnMnLCB7bmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlfSkKICAgICAgICB9CiAgICB9CgogICAgY2hhbmdlU3RhdHVzVmlzaWJsZShzdGF0dXM6IGFueSkgewogICAgICAgIGlmIChzdGF0dXMuc2hvd0luVGFibGUpIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdndWkvaGlkZVN0YXR1c0luSGlzdG9yeUxpc3QnLCBzdGF0dXMubmFtZSkKICAgICAgICBlbHNlIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdndWkvc2hvd1N0YXR1c0luSGlzdG9yeUxpc3QnLCBzdGF0dXMubmFtZSkKICAgIH0KCiAgICBzdGFydFByaW50KGl0ZW06IFNlcnZlckhpc3RvcnlTdGF0ZUpvYikgewogICAgICAgIGlmIChpdGVtLmV4aXN0cykgdGhpcy4kc29ja2V0LmVtaXQoJ3ByaW50ZXIucHJpbnQuc3RhcnQnLCB7IGZpbGVuYW1lOiBpdGVtLmZpbGVuYW1lIH0sIHsgYWN0aW9uOiAnc3dpdGNoVG9EYXNoYm9hcmQnIH0pCiAgICB9CgogICAgZGVsZXRlSm9iKGl0ZW06IFNlcnZlckhpc3RvcnlTdGF0ZUpvYikgewogICAgICAgIHRoaXMuJHNvY2tldC5lbWl0KCdzZXJ2ZXIuaGlzdG9yeS5kZWxldGVfam9iJywgeyB1aWQ6IGl0ZW0uam9iX2lkIH0sIHsgYWN0aW9uOiAnc2VydmVyL2hpc3RvcnkvZ2V0RGVsZXRlZEpvYnMnIH0pCiAgICB9CgogICAgZ2V0U3RhdHVzSWNvbihzdGF0dXM6IHN0cmluZykgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydzZXJ2ZXIvaGlzdG9yeS9nZXRQcmludFN0YXR1c0NoaXBJY29uJ10oc3RhdHVzKQogICAgfQoKICAgIGdldFN0YXR1c0NvbG9yKHN0YXR1czogc3RyaW5nKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3NlcnZlci9oaXN0b3J5L2dldFByaW50U3RhdHVzQ2hpcENvbG9yJ10oc3RhdHVzKQogICAgfQoKICAgIG91dHB1dFZhbHVlKGNvbDogYW55LCBpdGVtOiBhbnkpIHsKICAgICAgICBsZXQgdmFsdWUgPSBjb2wudmFsdWUgaW4gaXRlbSA/IGl0ZW1bY29sLnZhbHVlXSA6IG51bGwKICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHZhbHVlID0gY29sLnZhbHVlIGluIGl0ZW0ubWV0YWRhdGEgPyBpdGVtLm1ldGFkYXRhW2NvbC52YWx1ZV0gOiBudWxsCgogICAgICAgIGlmICh2YWx1ZSA+IDApIHsKICAgICAgICAgICAgc3dpdGNoKGNvbC5vdXRwdXRUeXBlKSB7CiAgICAgICAgICAgIGNhc2UgJ2ZpbGVzaXplJzoKICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXRGaWxlc2l6ZSh2YWx1ZSkKCiAgICAgICAgICAgIGNhc2UgJ2RhdGUnOgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0RGF0ZSh2YWx1ZSkKCiAgICAgICAgICAgIGNhc2UgJ3RpbWUnOgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0UHJpbnRUaW1lKHZhbHVlKQoKICAgICAgICAgICAgY2FzZSAndGVtcCc6CiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUudG9GaXhlZCgpKycgwrBDJwoKICAgICAgICAgICAgY2FzZSAnbGVuZ3RoJzoKICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDEwMDApIHJldHVybiAodmFsdWUgLyAxMDAwKS50b0ZpeGVkKDIpKycgbScKCiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUudG9GaXhlZCgyKSsnIG1tJwoKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZQogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHJldHVybiAnLS0nCiAgICB9Cn0K"},{"version":3,"sources":["HistoryListPanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"HistoryListPanel.vue","sourceRoot":"src/components/panels","sourcesContent":["<template>\n    <div>\n        <panel\n            icon=\"mdi-file-document-multiple-outline\"\n            :title=\"$t('History.PrintHistory')\"\n            card-class=\"history-list-panel\"\n        >\n            <v-card-text>\n                <v-row>\n                    <v-col class=\"col-4 d-flex align-center\">\n\n                        <v-text-field\n                            v-model=\"search\"\n                            append-icon=\"mdi-magnify\"\n                            :label=\"$t('History.Search')\"\n                            single-line\n                            outlined\n                            clearable\n                            hide-details\n                            dense\n                        ></v-text-field>\n                    </v-col>\n                    <v-col class=\"offset-4 col-4 d-flex align-center justify-end\">\n                        <v-btn :title=\"$t('History.TitleRefreshHistory')\" class=\"px-2 minwidth-0 ml-3\" @click=\"refreshHistory\"><v-icon>mdi-refresh</v-icon></v-btn>\n                        <v-menu :offset-y=\"true\" :close-on-content-click=\"false\" title=\"Setup current list\">\n                            <template v-slot:activator=\"{ on, attrs }\">\n                                <v-btn class=\"px-2 minwidth-0 ml-3\" :title=\"$t('History.TitleSettings')\" v-bind=\"attrs\" v-on=\"on\"><v-icon>mdi-cog</v-icon></v-btn>\n                            </template>\n                            <v-list>\n                                <template v-if=\"allPrintStatusArray.length\">\n                                    <v-list-item class=\"minHeight36\" v-for=\"status of allPrintStatusArray\" v-bind:key=\"status.key\">\n                                        <v-checkbox class=\"mt-0\" hide-details :input-value=\"status.showInTable\" @change=\"changeStatusVisible(status)\" :label=\"$t('History.ShowStatusName', { name: status.name, count: status.value })\"></v-checkbox>\n                                    </v-list-item>\n                                    <v-divider></v-divider>\n                                </template>\n                                <v-list-item class=\"minHeight36\" v-for=\"header of configHeaders\" v-bind:key=\"header.key\">\n                                    <v-checkbox class=\"mt-0\" hide-details v-model=\"header.visible\" @change=\"changeColumnVisible(header.value)\" :label=\"header.text\"></v-checkbox>\n                                </v-list-item>\n                            </v-list>\n                        </v-menu>\n                    </v-col>\n                </v-row>\n            </v-card-text>\n            <v-divider class=\"mb-3\"></v-divider>\n            <v-data-table\n                :items=\"jobs\"\n                class=\"files-table\"\n                :headers=\"filteredHeaders\"\n                :options=\"options\"\n                :custom-sort=\"sortFiles\"\n                :sort-by.sync=\"sortBy\"\n                :sort-desc.sync=\"sortDesc\"\n                :items-per-page.sync=\"countPerPage\"\n                :footer-props=\"{\n                    itemsPerPageText: $t('History.Jobs'),\n                    itemsPerPageAllText: $t('History.AllJobs'),\n                    itemsPerPageOptions: [10,25,50,100,-1]\n                }\"\n                item-key=\"name\"\n                :search=\"search\"\n                :custom-filter=\"advancedSearch\"\n                mobile-breakpoint=\"0\">\n\n                <template slot=\"items\" slot-scope=\"props\">\n                    <td v-for=\"header in filteredHeaders\" v-bind:key=\"header.text\">{{ props.item[header.value] }}</td>\n                </template>\n\n                <template #no-data>\n                    <div class=\"text-center\">{{ $t('History.Empty') }}</div>\n                </template>\n\n                <template #item=\"{ index, item }\">\n                    <tr\n                        :key=\"`${index} ${item.filename}`\"\n                        v-longpress:600=\"(e) => showContextMenu(e, item)\"\n                        @contextmenu=\"showContextMenu($event, item)\"\n                        @click=\"clickRow(item)\"\n                        :class=\"'file-list-cursor user-select-none '+(item.exists ? '' : 'text--disabled')\"\n                    >\n                        <td class=\"pr-0 text-center\" style=\"width: 32px;\">\n                            <template v-if=\"!item.exists\">\n                                <v-icon class=\"text--disabled\">mdi-file-cancel</v-icon>\n                            </template>\n                            <template v-else-if=\"getSmallThumbnail(item) && getBigThumbnail(item)\">\n                                <v-tooltip top>\n                                    <template v-slot:activator=\"{ on, attrs }\">\n                                        <vue-load-image>\n                                            <img slot=\"image\" :src=\"getSmallThumbnail(item)\" width=\"32\" height=\"32\" v-bind=\"attrs\" v-on=\"on\"  />\n                                            <v-progress-circular slot=\"preloader\" indeterminate color=\"primary\"></v-progress-circular>\n                                            <v-icon slot=\"error\">mdi-file</v-icon>\n                                        </vue-load-image>\n                                    </template>\n                                    <span><img :src=\"getBigThumbnail(item)\" width=\"250\" /></span>\n                                </v-tooltip>\n                            </template>\n                            <template v-else-if=\"getSmallThumbnail(item)\">\n                                <vue-load-image>\n                                    <img slot=\"image\" :src=\"getSmallThumbnail(item)\" width=\"32\" height=\"32\" />\n                                    <v-progress-circular slot=\"preloader\" indeterminate color=\"primary\"></v-progress-circular>\n                                    <v-icon slot=\"error\">mdi-file</v-icon>\n                                </vue-load-image>\n                            </template>\n                            <template v-else>\n                                <v-icon>mdi-file</v-icon>\n                            </template>\n                        </td>\n                        <td class=\" \">{{ item.filename }}</td>\n                        <td class=\"text-center\">\n                            <v-tooltip top>\n                                <template v-slot:activator=\"{ on, attrs }\">\n                                    <span v-bind=\"attrs\" v-on=\"on\">\n                                        <v-icon small :color=\"getStatusColor(item.status)\" :disabled=\"!item.exists\">{{ getStatusIcon(item.status) }}</v-icon>\n                                    </span>\n                                </template>\n                                <span>{{ item.status.replace(/_/g, \" \") }}</span>\n                            </v-tooltip>\n                        </td>\n                        <td v-for=\"col in tableFields\" v-bind:key=\"col.value\" :class=\"col.outputType !== 'date' ? 'text-no-wrap' : ''\">\n                            {{ outputValue(col, item) }}\n                        </td>\n                        <td class=\" \" v-if=\"headers.find(header => header.value === 'slicer').visible\">\n                            {{ 'slicer' in item.metadata && item.metadata.slicer ? item.metadata.slicer : '--' }}\n                            <small v-if=\"'slicer_version' in item.metadata && item.metadata.slicer_version\"><br />{{ item.metadata.slicer_version }}</small>\n                        </td>\n                    </tr>\n                </template>\n            </v-data-table>\n        </panel>\n        <v-menu v-model=\"contextMenu.shown\" :position-x=\"contextMenu.x\" :position-y=\"contextMenu.y\" absolute offset-y>\n            <v-list>\n                <v-list-item @click=\"clickRow(contextMenu.item)\">\n                    <v-icon class=\"mr-1\">mdi-text-box-search</v-icon> {{ $t('History.Details') }}\n                </v-list-item>\n                <v-list-item @click=\"startPrint(contextMenu.item)\" v-if=\"contextMenu.item.exists\" :disabled=\"printerIsPrinting || !klipperReadyForGui\">\n                    <v-icon class=\"mr-1\">mdi-printer</v-icon> {{ $t('History.Reprint') }}\n                </v-list-item>\n                <v-list-item @click=\"deleteJob(contextMenu.item)\">\n                    <v-icon class=\"mr-1\">mdi-delete</v-icon> {{ $t('History.Delete') }}\n                </v-list-item>\n            </v-list>\n        </v-menu>\n        <v-dialog v-model=\"detailsDialog.boolShow\" :max-width=\"600\" persistent @keydown.esc=\"detailsDialog.boolShow = false\">\n            <panel :title=\"$t('History.JobDetails')\" icon=\"mdi-update\" card-class=\"history-detail-dialog\" :margin-bottom=\"false\">\n                <template v-slot:buttons>\n                    <v-btn icon tile @click=\"detailsDialog.boolShow = false\"><v-icon>mdi-close-thick</v-icon></v-btn>\n                </template>\n                <v-card-text class=\"px-0\">\n                    <overlay-scrollbars style=\"height: 350px;\" class=\"px-6\">\n                        <v-row>\n                            <v-col>{{ $t('History.Filename') }}</v-col>\n                            <v-col class=\"text-right\">{{ detailsDialog.item.filename }}</v-col>\n                        </v-row>\n                        <template v-if=\"'metadata' in detailsDialog.item && 'size' in detailsDialog.item.metadata\">\n                            <v-divider class=\"my-3\"></v-divider>\n                            <v-row>\n                                <v-col>{{ $t('History.Filesize') }}</v-col>\n                                <v-col class=\"text-right\">{{ formatFilesize(detailsDialog.item.metadata.size) }}</v-col>\n                            </v-row>\n                        </template>\n                        <template v-if=\"'metadata' in detailsDialog.item && 'modified' in detailsDialog.item.metadata\">\n                            <v-divider class=\"my-3\"></v-divider>\n                            <v-row>\n                                <v-col>{{ $t('History.LastModified') }}</v-col>\n                                <v-col class=\"text-right\">{{ formatDate(detailsDialog.item.metadata.modified) }}</v-col>\n                            </v-row>\n                        </template>\n                        <v-divider class=\"my-3\"></v-divider>\n                        <v-row>\n                            <v-col>{{ $t('History.Status') }}</v-col>\n                            <v-col class=\"text-right\">{{ detailsDialog.item.status }}</v-col>\n                        </v-row>\n                        <v-divider class=\"my-3\"></v-divider>\n                        <v-row>\n                            <v-col>{{ $t('History.StartTime') }}</v-col>\n                            <v-col class=\"text-right\">{{ formatDate(detailsDialog.item.start_time) }}</v-col>\n                        </v-row>\n                        <template v-if=\"'end_time' in detailsDialog.item && detailsDialog.item.end_time > 0\">\n                            <v-divider class=\"my-3\"></v-divider>\n                            <v-row>\n                                <v-col>{{ $t('History.EndTime') }}</v-col>\n                                <v-col class=\"text-right\">{{ formatDate(detailsDialog.item.end_time) }}</v-col>\n                            </v-row>\n                        </template>\n                        <template v-if=\"'metadata' in detailsDialog.item && 'estimated_time' in detailsDialog.item.metadata\">\n                            <v-divider class=\"my-3\"></v-divider>\n                            <v-row>\n                                <v-col>{{ $t('History.EstimatedTime') }}</v-col>\n                                <v-col class=\"text-right\">{{ formatPrintTime(detailsDialog.item.metadata.estimated_time) }}</v-col>\n                            </v-row>\n                        </template>\n                        <template v-if=\"detailsDialog.item.print_duration > 0\">\n                            <v-divider class=\"my-3\"></v-divider>\n                            <v-row>\n                                <v-col>{{ $t('History.PrintDuration') }}</v-col>\n                                <v-col class=\"text-right\">{{ formatPrintTime(detailsDialog.item.print_duration) }}</v-col>\n                            </v-row>\n                        </template>\n                        <template v-if=\"detailsDialog.item.total_duration > 0\">\n                            <v-divider class=\"my-3\"></v-divider>\n                            <v-row>\n                                <v-col>{{ $t('History.TotalDuration') }}</v-col>\n                                <v-col class=\"text-right\">{{ formatPrintTime(detailsDialog.item.total_duration) }}</v-col>\n                            </v-row>\n                        </template>\n                        <template v-if=\"'metadata' in detailsDialog.item && 'filament_total' in detailsDialog.item.metadata\">\n                            <v-divider class=\"my-3\"></v-divider>\n                            <v-row>\n                                <v-col>{{ $t('History.EstimatedFilamentWeight') }}</v-col>\n                                <v-col class=\"text-right\">{{ Math.round(detailsDialog.item.metadata.filament_weight_total*100)/100 }} g</v-col>\n                            </v-row>\n                        </template>\n                        <template v-if=\"'metadata' in detailsDialog.item && 'filament_total' in detailsDialog.item.metadata\">\n                            <v-divider class=\"my-3\"></v-divider>\n                            <v-row>\n                                <v-col>{{ $t('History.EstimatedFilament') }}</v-col>\n                                <v-col class=\"text-right\">{{ Math.round(detailsDialog.item.metadata.filament_total) }} mm</v-col>\n                            </v-row>\n                        </template>\n                        <template v-if=\"detailsDialog.item.filament_used > 0\">\n                            <v-divider class=\"my-3\"></v-divider>\n                            <v-row>\n                                <v-col>{{ $t('History.FilamentUsed') }}</v-col>\n                                <v-col class=\"text-right\">{{ Math.round(detailsDialog.item.filament_used) }} mm</v-col>\n                            </v-row>\n                        </template>\n                        <template v-if=\"'metadata' in detailsDialog.item && 'first_layer_extr_temp' in detailsDialog.item.metadata\">\n                            <v-divider class=\"my-3\"></v-divider>\n                            <v-row>\n                                <v-col>{{ $t('History.FirstLayerExtTemp') }}</v-col>\n                                <v-col class=\"text-right\">{{ detailsDialog.item.metadata.first_layer_extr_temp }} °C</v-col>\n                            </v-row>\n                        </template>\n                        <template v-if=\"'metadata' in detailsDialog.item && 'first_layer_bed_temp' in detailsDialog.item.metadata\">\n                            <v-divider class=\"my-3\"></v-divider>\n                            <v-row>\n                                <v-col>{{ $t('History.FirstLayerBedTemp') }}</v-col>\n                                <v-col class=\"text-right\">{{ detailsDialog.item.metadata.first_layer_bed_temp }} °C</v-col>\n                            </v-row>\n                        </template>\n                        <template v-if=\"'metadata' in detailsDialog.item && 'first_layer_height' in detailsDialog.item.metadata\">\n                            <v-divider class=\"my-3\"></v-divider>\n                            <v-row>\n                                <v-col>{{ $t('History.FirstLayerHeight') }}</v-col>\n                                <v-col class=\"text-right\">{{ detailsDialog.item.metadata.first_layer_height }} mm</v-col>\n                            </v-row>\n                        </template>\n                        <template v-if=\"'metadata' in detailsDialog.item && 'layer_height' in detailsDialog.item.metadata\">\n                            <v-divider class=\"my-3\"></v-divider>\n                            <v-row>\n                                <v-col>{{ $t('History.LayerHeight') }}</v-col>\n                                <v-col class=\"text-right\">{{ detailsDialog.item.metadata.layer_height }} mm</v-col>\n                            </v-row>\n                        </template>\n                        <template v-if=\"'metadata' in detailsDialog.item && 'object_height' in detailsDialog.item.metadata\">\n                            <v-divider class=\"my-3\"></v-divider>\n                            <v-row>\n                                <v-col>{{ $t('History.ObjectHeight') }}</v-col>\n                                <v-col class=\"text-right\">{{ detailsDialog.item.metadata.object_height }} mm</v-col>\n                            </v-row>\n                        </template>\n                        <template v-if=\"'metadata' in detailsDialog.item && 'slicer' in detailsDialog.item.metadata\">\n                            <v-divider class=\"my-3\"></v-divider>\n                            <v-row>\n                                <v-col>{{ $t('History.Slicer') }}</v-col>\n                                <v-col class=\"text-right\">{{ detailsDialog.item.metadata.slicer }}</v-col>\n                            </v-row>\n                        </template>\n                        <template v-if=\"'metadata' in detailsDialog.item && 'slicer_version' in detailsDialog.item.metadata\">\n                            <v-divider class=\"my-3\"></v-divider>\n                            <v-row>\n                                <v-col>{{ $t('History.SlicerVersion') }}</v-col>\n                                <v-col class=\"text-right\">{{ detailsDialog.item.metadata.slicer_version }}</v-col>\n                            </v-row>\n                        </template>\n                    </overlay-scrollbars>\n                </v-card-text>\n            </panel>\n        </v-dialog>\n    </div>\n</template>\n\n<script lang=\"ts\">\n\n\nimport {Component, Mixins} from 'vue-property-decorator'\nimport BaseMixin from '@/components/mixins/base'\nimport {ServerHistoryStateJob} from '@/store/server/history/types'\nimport {caseInsensitiveSort, formatFilesize} from '@/plugins/helpers'\nimport Panel from '@/components/ui/Panel.vue'\nimport {thumbnailBigMin, thumbnailSmallMax, thumbnailSmallMin} from '@/store/variables'\n@Component({\n    components: {Panel}\n})\nexport default class HistoryListPanel extends Mixins(BaseMixin) {\n    formatFilesize = formatFilesize\n\n    private boolAllData = false\n    private search = ''\n    private sortBy = 'start_time'\n    private sortDesc = true\n    private selected = []\n    private hideHeaderColums = []\n    private options = { }\n    private contextMenu = {\n        shown: false,\n        touchTimer: undefined,\n        x: 0,\n        y: 0,\n        item: {}\n    }\n    private detailsDialog = {\n        item: {},\n        boolShow: false,\n    }\n\n    get jobs() {\n        return this.$store.getters['server/history/getFilterdJobList'] ?? []\n    }\n\n    get headers() {\n        const headers = [ {\n            text: '',\n            value: '',\n            align: 'left',\n            configable: false,\n            visible: true,\n            filterable: false\n        }, {\n            text: this.$t('History.Filename'),\n            value: 'filename',\n            align: 'left',\n            configable: false,\n            visible: true\n        }, {\n            text: '',\n            value: 'status',\n            align: 'left',\n            configable: false,\n            visible: true,\n            filterable: false\n        }, {\n            text: this.$t('History.Filesize'),\n            value: 'size',\n            align: 'left',\n            configable: true,\n            visible: true,\n            outputType: 'filesize'\n        }, {\n            text: this.$t('History.LastModified'),\n            value: 'modified',\n            align: 'left',\n            configable: true,\n            visible: true,\n            outputType: 'date'\n        }, {\n            text: this.$t('History.StartTime'),\n            value: 'start_time',\n            align: 'left',\n            configable: true,\n            visible: true,\n            outputType: 'date'\n        }, {\n            text: this.$t('History.EndTime'),\n            value: 'end_time',\n            align: 'left',\n            configable: true,\n            visible: true,\n            outputType: 'date'\n        }, {\n            text: this.$t('History.EstimatedTime'),\n            value: 'estimated_time',\n            align: 'left',\n            configable: true,\n            visible: true,\n            outputType: 'time'\n        }, {\n            text: this.$t('History.PrintTime'),\n            value: 'print_duration',\n            align: 'left',\n            configable: true,\n            visible: true,\n            outputType: 'time'\n        }, {\n            text: this.$t('History.TotalTime'),\n            value: 'total_duration',\n            align: 'left',\n            configable: true,\n            visible: true,\n            outputType: 'time'\n        }, {\n            text: this.$t('History.FilamentCalc'),\n            value: 'filament_total',\n            align: 'left',\n            configable: true,\n            visible: true,\n            outputType: 'length'\n        }, {\n            text: this.$t('History.FilamentUsed'),\n            value: 'filament_used',\n            align: 'left',\n            configable: true,\n            visible: true,\n            outputType: 'length'\n        }, {\n            text: this.$t('History.FirstLayerExtTemp'),\n            value: 'first_layer_extr_temp',\n            align: 'left',\n            configable: true,\n            visible: true,\n            outputType: 'temp'\n        }, {\n            text: this.$t('History.FirstLayerBedTemp'),\n            value: 'first_layer_bed_temp',\n            align: 'left',\n            configable: true,\n            visible: true,\n            outputType: 'temp'\n        }, {\n            text: this.$t('History.FirstLayerHeight'),\n            value: 'first_layer_height',\n            align: 'left',\n            configable: true,\n            visible: true,\n            outputType: 'length'\n        }, {\n            text: this.$t('History.LayerHeight'),\n            value: 'layer_height',\n            align: 'left',\n            configable: true,\n            visible: true,\n            outputType: 'length'\n        }, {\n            text: this.$t('History.ObjectHeight'),\n            value: 'object_height',\n            align: 'left',\n            configable: true,\n            visible: true,\n            outputType: 'length'\n        }, {\n            text: this.$t('History.Slicer'),\n            value: 'slicer',\n            align: 'left',\n            configable: true,\n            visible: true\n        },\n        ]\n\n        headers.forEach((header) => {\n            if (header.visible && this.hideColums.includes(header.value)) {\n                header.visible = false\n            } else if (!header.visible && !this.hideColums.includes(header.value)) {\n                header.visible = true\n            }\n        })\n\n        return headers\n    }\n\n    get tableFields() {\n        return this.filteredHeaders.filter((col: any) => !['filename', 'status', 'slicer'].includes(col.value) && col.value !== '')\n    }\n\n    get configHeaders() {\n        return this.headers.filter((header: any) => header.configable === true)\n    }\n\n    get filteredHeaders() {\n        return this.headers.filter((header: any) => header.visible === true)\n    }\n\n    get allPrintStatusArray() {\n        return caseInsensitiveSort(this.$store.getters['server/history/getAllPrintStatusArray'] ?? [], 'name')\n    }\n\n    get countPerPage() {\n        return this.$store.state.gui.view.historycountPerPage\n    }\n\n    set countPerPage(newVal) {\n        this.$store.dispatch('gui/saveSetting', { name: 'view.history.countPerPage', value: newVal })\n    }\n\n    get hideColums() {\n        return this.$store.state.gui.view.history.hideColums\n    }\n\n    set hideColums(newVal) {\n        this.$store.dispatch('gui/saveSetting', { name: 'view.history.hideColums', value: newVal })\n    }\n\n    refreshHistory() {\n        this.$socket.emit('server.history.list', { start: 0, limit: 50 }, { action: 'server/history/getHistory' })\n    }\n\n    formatDate(date: number) {\n        const tmp2 = new Date(date*1000)\n\n        return tmp2.toLocaleString().replace(',', '')\n    }\n\n    formatPrintTime(totalSeconds: number) {\n        if (totalSeconds) {\n            let output = ''\n\n            const days = Math.floor(totalSeconds / (3600 * 24))\n            if (days) {\n                totalSeconds %= (3600 * 24)\n                output += days+'d'\n            }\n\n            const hours = Math.floor(totalSeconds / 3600)\n            totalSeconds %= 3600\n            if (hours) output += ' '+hours+'h'\n\n            const minutes = Math.floor(totalSeconds / 60)\n            if (minutes) output += ' '+minutes+'m'\n\n            const seconds = totalSeconds % 60\n            if (seconds) output += ' '+seconds.toFixed(0)+'s'\n\n            return output\n        }\n\n        return '--'\n    }\n    \n    clickRow(item: ServerHistoryStateJob) {\n        this.detailsDialog.item = item\n        this.detailsDialog.boolShow = true\n    }\n    \n    showContextMenu (e: any, item: ServerHistoryStateJob) {\n        if (!this.contextMenu.shown) {\n            e?.preventDefault()\n            this.contextMenu.shown = true\n            this.contextMenu.x = e?.clientX || e?.pageX || window.screenX / 2\n            this.contextMenu.y = e?.clientY || e?.pageY || window.screenY / 2\n            this.contextMenu.item = item\n            this.$nextTick(() => {\n                this.contextMenu.shown = true\n            })\n        }\n    }\n\n    sortFiles(items: any[], sortBy: string[], sortDesc: boolean[]) {\n        const sortByClean = sortBy.length ? sortBy[0] : 'filename'\n        const sortDescClean = sortDesc[0]\n\n        if (items !== undefined) {\n            // Sort by index\n            items.sort(function(a, b) {\n                if (a[sortByClean] === b[sortByClean]) return 0\n                if (a[sortByClean] === null || a[sortByClean] === undefined) return -1\n                if (b[sortByClean] === null || b[sortByClean] === undefined) return 1\n\n                if (a[sortByClean].constructor === String && b[sortByClean].constructor === String) {\n                    return a[sortByClean].localeCompare(b[sortByClean], undefined, { sensivity: 'base' })\n                }\n\n                if (a[sortByClean] instanceof Array && b[sortByClean] instanceof Array) {\n                    const reducedA = a[sortByClean].length ? a.filament.reduce((a: any, b: any) => a + b) : 0\n                    const reducedB = b[sortByClean].length ? b.filament.reduce((a: any, b: any) => a + b) : 0\n                    return reducedA - reducedB\n                }\n\n                return a[sortByClean] - b[sortByClean]\n            })\n\n            // Deal with descending order\n            if (sortDescClean) items.reverse()\n        }\n\n        return items\n    }\n\n    advancedSearch(value: string, search: string) {\n        return value != null &&\n            search != null &&\n            value.toString().toLowerCase().indexOf(search.toLowerCase()) !== -1\n    }\n\n    getSmallThumbnail(item: ServerHistoryStateJob) {\n        if (\n            'metadata' in item &&\n            'thumbnails' in item.metadata &&\n            item.metadata.thumbnails.length\n        ) {\n            const thumbnail = item.metadata.thumbnails.find((thumb: any) =>\n                thumb.width >= thumbnailSmallMin && thumb.width <= thumbnailSmallMax &&\n                thumb.height >= thumbnailSmallMin && thumb.height <= thumbnailSmallMax\n            )\n\n            let relative_url = ''\n            if (item.filename.lastIndexOf('/') !== -1) {\n                relative_url = item.filename.substr(0, item.filename.lastIndexOf('/')+1)\n            }\n\n            if (thumbnail && 'relative_path' in thumbnail) {\n                return `${this.apiUrl}/server/files/gcodes/${encodeURI(relative_url+thumbnail.relative_path)}?timestamp=${item.metadata.modified}`\n            }\n        }\n\n        return false\n    }\n\n    getBigThumbnail(item: ServerHistoryStateJob) {\n        if (\n            'metadata' in item &&\n            'thumbnails' in item.metadata &&\n            item.metadata.thumbnails.length\n        ) {\n            const thumbnail = item.metadata.thumbnails.find((thumb: any) => thumb.width >= thumbnailBigMin)\n\n            let relative_url = ''\n            if (item.filename.lastIndexOf('/') !== -1) {\n                relative_url = item.filename.substr(0, item.filename.lastIndexOf('/')+1)\n            }\n\n            if (thumbnail && 'relative_path' in thumbnail)\n                return `${this.apiUrl}/server/files/gcodes/${encodeURI(relative_url+thumbnail.relative_path)}?timestamp=${item.metadata.modified}`\n        }\n\n        return false\n    }\n\n    getThumbnailWidth(item: ServerHistoryStateJob) {\n        if (this.getBigThumbnail(item)) {\n            const thumbnail = item.metadata.thumbnails.find((thumb: any) => thumb.width >= thumbnailBigMin)\n\n            if (thumbnail) return thumbnail.width\n        }\n\n        return 400\n    }\n\n    changeColumnVisible(name: string) {\n        if (this.headers.filter(header => header.value === name).length) {\n            let value = this.headers.filter(header => header.value === name)[0].visible\n\n            this.$store.dispatch('gui/setHistoryColumns', {name: name, value: value})\n        }\n    }\n\n    changeStatusVisible(status: any) {\n        if (status.showInTable) this.$store.dispatch('gui/hideStatusInHistoryList', status.name)\n        else this.$store.dispatch('gui/showStatusInHistoryList', status.name)\n    }\n\n    startPrint(item: ServerHistoryStateJob) {\n        if (item.exists) this.$socket.emit('printer.print.start', { filename: item.filename }, { action: 'switchToDashboard' })\n    }\n\n    deleteJob(item: ServerHistoryStateJob) {\n        this.$socket.emit('server.history.delete_job', { uid: item.job_id }, { action: 'server/history/getDeletedJobs' })\n    }\n\n    getStatusIcon(status: string) {\n        return this.$store.getters['server/history/getPrintStatusChipIcon'](status)\n    }\n\n    getStatusColor(status: string) {\n        return this.$store.getters['server/history/getPrintStatusChipColor'](status)\n    }\n\n    outputValue(col: any, item: any) {\n        let value = col.value in item ? item[col.value] : null\n        if (value === null) value = col.value in item.metadata ? item.metadata[col.value] : null\n\n        if (value > 0) {\n            switch(col.outputType) {\n            case 'filesize':\n                return formatFilesize(value)\n\n            case 'date':\n                return this.formatDate(value)\n\n            case 'time':\n                return this.formatPrintTime(value)\n\n            case 'temp':\n                return value.toFixed()+' °C'\n\n            case 'length':\n                if (value > 1000) return (value / 1000).toFixed(2)+' m'\n\n                return value.toFixed(2)+' mm'\n\n            default:\n                return value\n            }\n        } else return '--'\n    }\n}\n</script>\n"]}]}