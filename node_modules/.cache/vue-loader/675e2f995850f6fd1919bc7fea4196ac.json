{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/inputs/PressureAdvanceSettingsInput.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/inputs/PressureAdvanceSettingsInput.vue","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1645990069130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgQ29tcG9uZW50IGZyb20gJ3Z1ZS1jbGFzcy1jb21wb25lbnQnCmltcG9ydCB7TWl4aW5zLCBQcm9wLCBXYXRjaH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcicKaW1wb3J0IHtEZWJvdW5jZX0gZnJvbSAndnVlLWRlYm91bmNlLWRlY29yYXRvcicKaW1wb3J0IEJhc2VNaXhpbiBmcm9tICdAL2NvbXBvbmVudHMvbWl4aW5zL2Jhc2UnCgpAQ29tcG9uZW50CmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZXNzdXJlQWR2YW5jZVNldHRpbmdzSW5wdXQgZXh0ZW5kcyBNaXhpbnMoQmFzZU1peGluKSB7CiAgICBwcml2YXRlIHZhbHVlOiBudW1iZXIgPSAwCiAgICBwcml2YXRlIGVycm9yOiBib29sZWFuIHwgdW5kZWZpbmVkCgogICAgQFByb3AoeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0pIHJlYWRvbmx5IGxhYmVsITogc3RyaW5nCiAgICBAUHJvcCh7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IGZhbHNlICwgZGVmYXVsdDogMSB9KSByZWFkb25seSBzdGVwITogbnVtYmVyCiAgICBAUHJvcCh7IHR5cGU6IEJvb2xlYW4sIHJlcXVpcmVkOiBmYWxzZSAsIGRlZmF1bHQ6IGZhbHNlIH0pIHJlYWRvbmx5IGhhc1NwaW5uZXIhOiBudW1iZXIKICAgIEBQcm9wKHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogZmFsc2UgLCBkZWZhdWx0OiAxIH0pIHJlYWRvbmx5IHNwaW5uZXJGYWN0b3IhOiBudW1iZXIKICAgIEBQcm9wKHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSAsIGRlZmF1bHQ6IDAgfSkgcmVhZG9ubHkgbWluITogbnVtYmVyCiAgICBAUHJvcCh7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogbnVsbCB9KSByZWFkb25seSBtYXghOiBudW1iZXIgfCBudWxsCiAgICBAUHJvcCh7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgLCBkZWZhdWx0OiAwIH0pIHJlYWRvbmx5IGRlYyE6IG51bWJlcgogICAgQFByb3AoeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlLCBkZWZhdWx0OiAwIH0pIHJlYWRvbmx5IHRhcmdldCE6IG51bWJlcgogICAgQFByb3AoeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlLCBkZWZhdWx0OiAwIH0pIHJlYWRvbmx5IGRlZmF1bHRWYWx1ZSE6IG51bWJlcgogICAgQFByb3AoeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCBkZWZhdWx0OiAnZXh0cnVkZXInfSkgcmVhZG9ubHkgZXh0cnVkZXIhOiBzdHJpbmcKICAgIEBQcm9wKHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9KSByZWFkb25seSBhdHRyaWJ1dGVOYW1lITogc3RyaW5nCiAgICBAUHJvcCh7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSkgcmVhZG9ubHkgdW5pdCE6IHN0cmluZwoKICAgIEBXYXRjaCgndGFyZ2V0JykKICAgIHRhcmdldENoYW5nZWQobmV3VmFsOiBudW1iZXIpOiB2b2lkIHsKICAgICAgICB0aGlzLnZhbHVlID0gbmV3VmFsCiAgICB9CgogICAgY3JlYXRlZCgpOiB2b2lkIHsKICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy50YXJnZXQKICAgIH0KCiAgICByZXNldExpbWl0KCk6IHZvaWQgewogICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLmRlZmF1bHRWYWx1ZQoKICAgICAgICB0aGlzLnNlbmRDbWQoKQogICAgfQoKICAgIGRlY3JlbWVudCgpOiB2b2lkIHsKICAgICAgICB0aGlzLnZhbHVlID0gKHRoaXMudmFsdWUgPiB0aGlzLm1pbikgPyBNYXRoLnJvdW5kKCh0aGlzLnZhbHVlIC0gdGhpcy5zdGVwICogdGhpcy5zcGlubmVyRmFjdG9yKSAqICgxMCAqKiB0aGlzLmRlYykpIC8gKDEwICoqIHRoaXMuZGVjKSA6IHRoaXMubWluCiAgICAgICAgdGhpcy5zZW5kQ21kKCkKICAgIH0KCiAgICBpbmNyZW1lbnQoKTogdm9pZCB7CiAgICAgICAgdGhpcy52YWx1ZSA9ICh0aGlzLnZhbHVlIDwgdGhpcy5tYXghIHx8IHRoaXMubWF4ID09PSBudWxsKSA/IE1hdGgucm91bmQoKHRoaXMudmFsdWUgKyB0aGlzLnN0ZXAgKiB0aGlzLnNwaW5uZXJGYWN0b3IpICogKDEwICoqIHRoaXMuZGVjKSkgLyAoMTAgKiogdGhpcy5kZWMpIDogdGhpcy5tYXgKICAgICAgICB0aGlzLnNlbmRDbWQoKQogICAgfQoKICAgIEBEZWJvdW5jZSg1MDApCiAgICBzZW5kQ21kKCk6IHZvaWQgewogICAgICAgIGNvbnN0IGdjb2RlID0gJ1NFVF9QUkVTU1VSRV9BRFZBTkNFICcgKyAnRVhUUlVERVI9JyArIHRoaXMuZXh0cnVkZXIgKyAnICcKICAgICAgICAgICAgICAgICAgICArIHRoaXMuYXR0cmlidXRlTmFtZSArICc9JyArIE1hdGgubWF4KHRoaXMubWluLCB0aGlzLnZhbHVlKS50b0ZpeGVkKHRoaXMuZGVjKQogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXJ2ZXIvYWRkRXZlbnQnLCB7bWVzc2FnZTogZ2NvZGUsIHR5cGU6ICdjb21tYW5kJ30pCiAgICAgICAgdGhpcy4kc29ja2V0LmVtaXQoJ3ByaW50ZXIuZ2NvZGUuc2NyaXB0Jywge3NjcmlwdDogZ2NvZGV9KQogICAgfQoKfQo="},{"version":3,"sources":["PressureAdvanceSettingsInput.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"PressureAdvanceSettingsInput.vue","sourceRoot":"src/components/inputs","sourcesContent":["<style scoped>\n    ._spin_button_group {\n        width: 24px;\n        margin: -6px -6px 0 -6px;\n    }\n</style>\n\n<template>\n    <form v-on:submit.prevent=\"sendCmd\">\n        <v-text-field\n            v-model=\"value\"\n            class=\"d-flex align-center\"\n            @click:append=\"resetLimit\"\n            @blur=\"value = target\"\n            :label=\"label\"\n            :suffix=\"unit\"\n            :append-icon=\"value !== defaultValue ? 'mdi-restart' : ''\"\n            :error=\"error = ((value < min) || ((value > max) && max !== null))\"\n            :step=\"step\"\n            :min=\"min\"\n            :max=\"max\"\n            :dec=\"dec\"\n            type=\"number\"\n            hide-spin-buttons\n            hide-details\n            outlined\n            dense\n        >\n            <template v-if=\"hasSpinner\" v-slot:append-outer>\n                <div class=\"_spin_button_group\">\n                    <v-btn\n                        @click=\"increment\"\n                        :disabled=\"((value >= max) && max !== null) || error\"\n                        class=\"mt-n3\"\n                        icon plain small\n                    >\n                        <v-icon>mdi-chevron-up</v-icon>\n                    </v-btn>\n                    <v-btn\n                        @click=\"decrement\"\n                        :disabled=\"(value <= min) || error\"\n                        class=\"mb-n3\"\n                        icon plain small\n                    >\n                        <v-icon>mdi-chevron-down</v-icon>\n                    </v-btn>\n                </div>\n            </template>\n        </v-text-field>\n    </form>\n</template>\n\n<script lang=\"ts\">\nimport Component from 'vue-class-component'\nimport {Mixins, Prop, Watch} from 'vue-property-decorator'\nimport {Debounce} from 'vue-debounce-decorator'\nimport BaseMixin from '@/components/mixins/base'\n\n@Component\nexport default class PressureAdvanceSettingsInput extends Mixins(BaseMixin) {\n    private value: number = 0\n    private error: boolean | undefined\n\n    @Prop({ type: String, required: true }) readonly label!: string\n    @Prop({ type: Number, required: false , default: 1 }) readonly step!: number\n    @Prop({ type: Boolean, required: false , default: false }) readonly hasSpinner!: number\n    @Prop({ type: Number, required: false , default: 1 }) readonly spinnerFactor!: number\n    @Prop({ type: Number, required: true , default: 0 }) readonly min!: number\n    @Prop({ type: Number, default: null }) readonly max!: number | null\n    @Prop({ type: Number, required: true , default: 0 }) readonly dec!: number\n    @Prop({ type: Number, required: true, default: 0 }) readonly target!: number\n    @Prop({ type: Number, required: true, default: 0 }) readonly defaultValue!: number\n    @Prop({ type: String, required: true, default: 'extruder'}) readonly extruder!: string\n    @Prop({ type: String, required: true }) readonly attributeName!: string\n    @Prop({ type: String, required: true }) readonly unit!: string\n\n    @Watch('target')\n    targetChanged(newVal: number): void {\n        this.value = newVal\n    }\n\n    created(): void {\n        this.value = this.target\n    }\n\n    resetLimit(): void {\n        this.value = this.defaultValue\n\n        this.sendCmd()\n    }\n\n    decrement(): void {\n        this.value = (this.value > this.min) ? Math.round((this.value - this.step * this.spinnerFactor) * (10 ** this.dec)) / (10 ** this.dec) : this.min\n        this.sendCmd()\n    }\n\n    increment(): void {\n        this.value = (this.value < this.max! || this.max === null) ? Math.round((this.value + this.step * this.spinnerFactor) * (10 ** this.dec)) / (10 ** this.dec) : this.max\n        this.sendCmd()\n    }\n\n    @Debounce(500)\n    sendCmd(): void {\n        const gcode = 'SET_PRESSURE_ADVANCE ' + 'EXTRUDER=' + this.extruder + ' '\n                    + this.attributeName + '=' + Math.max(this.min, this.value).toFixed(this.dec)\n        this.$store.dispatch('server/addEvent', {message: gcode, type: 'command'})\n        this.$socket.emit('printer.gcode.script', {script: gcode})\n    }\n\n}\n</script>"]}]}