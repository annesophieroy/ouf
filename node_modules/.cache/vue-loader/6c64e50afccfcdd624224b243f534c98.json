{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/panels/HistoryListPanel.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/panels/HistoryListPanel.vue","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/thread-loader/dist/cjs.js","mtime":1645990064416},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1645990069130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQge0NvbXBvbmVudCwgTWl4aW5zfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJwppbXBvcnQgQmFzZU1peGluIGZyb20gJ0AvY29tcG9uZW50cy9taXhpbnMvYmFzZScKaW1wb3J0IHtTZXJ2ZXJIaXN0b3J5U3RhdGVKb2J9IGZyb20gJ0Avc3RvcmUvc2VydmVyL2hpc3RvcnkvdHlwZXMnCmltcG9ydCB7Y2FzZUluc2Vuc2l0aXZlU29ydCwgZm9ybWF0RmlsZXNpemV9IGZyb20gJ0AvcGx1Z2lucy9oZWxwZXJzJwppbXBvcnQgUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL3VpL1BhbmVsLnZ1ZScKaW1wb3J0IHt0aHVtYm5haWxCaWdNaW4sIHRodW1ibmFpbFNtYWxsTWF4LCB0aHVtYm5haWxTbWFsbE1pbn0gZnJvbSAnQC9zdG9yZS92YXJpYWJsZXMnCkBDb21wb25lbnQoewogICAgY29tcG9uZW50czoge1BhbmVsfQp9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBIaXN0b3J5TGlzdFBhbmVsIGV4dGVuZHMgTWl4aW5zKEJhc2VNaXhpbikgewogICAgZm9ybWF0RmlsZXNpemUgPSBmb3JtYXRGaWxlc2l6ZQoKICAgIHByaXZhdGUgYm9vbEFsbERhdGEgPSBmYWxzZQogICAgcHJpdmF0ZSBzZWFyY2ggPSAnJwogICAgcHJpdmF0ZSBzb3J0QnkgPSAnc3RhcnRfdGltZScKICAgIHByaXZhdGUgc29ydERlc2MgPSB0cnVlCiAgICBwcml2YXRlIHNlbGVjdGVkID0gW10KICAgIHByaXZhdGUgaGlkZUhlYWRlckNvbHVtcyA9IFtdCiAgICBwcml2YXRlIG9wdGlvbnMgPSB7IH0KICAgIHByaXZhdGUgY29udGV4dE1lbnUgPSB7CiAgICAgICAgc2hvd246IGZhbHNlLAogICAgICAgIHRvdWNoVGltZXI6IHVuZGVmaW5lZCwKICAgICAgICB4OiAwLAogICAgICAgIHk6IDAsCiAgICAgICAgaXRlbToge30KICAgIH0KICAgIHByaXZhdGUgZGV0YWlsc0RpYWxvZyA9IHsKICAgICAgICBpdGVtOiB7fSwKICAgICAgICBib29sU2hvdzogZmFsc2UsCiAgICB9CgogICAgZ2V0IGpvYnMoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3NlcnZlci9oaXN0b3J5L2dldEZpbHRlcmRKb2JMaXN0J10gPz8gW10KICAgIH0KCiAgICBnZXQgaGVhZGVycygpIHsKICAgICAgICBjb25zdCBoZWFkZXJzID0gWyB7CiAgICAgICAgICAgIHRleHQ6ICcnLAogICAgICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgICAgIGNvbmZpZ2FibGU6IGZhbHNlLAogICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICBmaWx0ZXJhYmxlOiBmYWxzZQogICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnSGlzdG9yeS5GaWxlbmFtZScpLAogICAgICAgICAgICB2YWx1ZTogJ2ZpbGVuYW1lJywKICAgICAgICAgICAgYWxpZ246ICdsZWZ0JywKICAgICAgICAgICAgY29uZmlnYWJsZTogZmFsc2UsCiAgICAgICAgICAgIHZpc2libGU6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICAgIHRleHQ6ICcnLAogICAgICAgICAgICB2YWx1ZTogJ3N0YXR1cycsCiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgICAgIGNvbmZpZ2FibGU6IGZhbHNlLAogICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICBmaWx0ZXJhYmxlOiBmYWxzZQogICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnSGlzdG9yeS5GaWxlc2l6ZScpLAogICAgICAgICAgICB2YWx1ZTogJ3NpemUnLAogICAgICAgICAgICBhbGlnbjogJ2xlZnQnLAogICAgICAgICAgICBjb25maWdhYmxlOiB0cnVlLAogICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICBvdXRwdXRUeXBlOiAnZmlsZXNpemUnCiAgICAgICAgfSwgewogICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdIaXN0b3J5Lkxhc3RNb2RpZmllZCcpLAogICAgICAgICAgICB2YWx1ZTogJ21vZGlmaWVkJywKICAgICAgICAgICAgYWxpZ246ICdsZWZ0JywKICAgICAgICAgICAgY29uZmlnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgb3V0cHV0VHlwZTogJ2RhdGUnCiAgICAgICAgfSwgewogICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdIaXN0b3J5LlN0YXJ0VGltZScpLAogICAgICAgICAgICB2YWx1ZTogJ3N0YXJ0X3RpbWUnLAogICAgICAgICAgICBhbGlnbjogJ2xlZnQnLAogICAgICAgICAgICBjb25maWdhYmxlOiB0cnVlLAogICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICBvdXRwdXRUeXBlOiAnZGF0ZScKICAgICAgICB9LCB7CiAgICAgICAgICAgIHRleHQ6IHRoaXMuJHQoJ0hpc3RvcnkuRW5kVGltZScpLAogICAgICAgICAgICB2YWx1ZTogJ2VuZF90aW1lJywKICAgICAgICAgICAgYWxpZ246ICdsZWZ0JywKICAgICAgICAgICAgY29uZmlnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgb3V0cHV0VHlwZTogJ2RhdGUnCiAgICAgICAgfSwgewogICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdIaXN0b3J5LkVzdGltYXRlZFRpbWUnKSwKICAgICAgICAgICAgdmFsdWU6ICdlc3RpbWF0ZWRfdGltZScsCiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgICAgIGNvbmZpZ2FibGU6IHRydWUsCiAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgIG91dHB1dFR5cGU6ICd0aW1lJwogICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnSGlzdG9yeS5QcmludFRpbWUnKSwKICAgICAgICAgICAgdmFsdWU6ICdwcmludF9kdXJhdGlvbicsCiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgICAgIGNvbmZpZ2FibGU6IHRydWUsCiAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgIG91dHB1dFR5cGU6ICd0aW1lJwogICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnSGlzdG9yeS5Ub3RhbFRpbWUnKSwKICAgICAgICAgICAgdmFsdWU6ICd0b3RhbF9kdXJhdGlvbicsCiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgICAgIGNvbmZpZ2FibGU6IHRydWUsCiAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgIG91dHB1dFR5cGU6ICd0aW1lJwogICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnSGlzdG9yeS5GaWxhbWVudENhbGMnKSwKICAgICAgICAgICAgdmFsdWU6ICdmaWxhbWVudF90b3RhbCcsCiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgICAgIGNvbmZpZ2FibGU6IHRydWUsCiAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgIG91dHB1dFR5cGU6ICdsZW5ndGgnCiAgICAgICAgfSwgewogICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdIaXN0b3J5LkZpbGFtZW50VXNlZCcpLAogICAgICAgICAgICB2YWx1ZTogJ2ZpbGFtZW50X3VzZWQnLAogICAgICAgICAgICBhbGlnbjogJ2xlZnQnLAogICAgICAgICAgICBjb25maWdhYmxlOiB0cnVlLAogICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICBvdXRwdXRUeXBlOiAnbGVuZ3RoJwogICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnSGlzdG9yeS5GaXJzdExheWVyRXh0VGVtcCcpLAogICAgICAgICAgICB2YWx1ZTogJ2ZpcnN0X2xheWVyX2V4dHJfdGVtcCcsCiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgICAgIGNvbmZpZ2FibGU6IHRydWUsCiAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgIG91dHB1dFR5cGU6ICd0ZW1wJwogICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnSGlzdG9yeS5GaXJzdExheWVyQmVkVGVtcCcpLAogICAgICAgICAgICB2YWx1ZTogJ2ZpcnN0X2xheWVyX2JlZF90ZW1wJywKICAgICAgICAgICAgYWxpZ246ICdsZWZ0JywKICAgICAgICAgICAgY29uZmlnYWJsZTogdHJ1ZSwKICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgb3V0cHV0VHlwZTogJ3RlbXAnCiAgICAgICAgfSwgewogICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdIaXN0b3J5LkZpcnN0TGF5ZXJIZWlnaHQnKSwKICAgICAgICAgICAgdmFsdWU6ICdmaXJzdF9sYXllcl9oZWlnaHQnLAogICAgICAgICAgICBhbGlnbjogJ2xlZnQnLAogICAgICAgICAgICBjb25maWdhYmxlOiB0cnVlLAogICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICBvdXRwdXRUeXBlOiAnbGVuZ3RoJwogICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnSGlzdG9yeS5MYXllckhlaWdodCcpLAogICAgICAgICAgICB2YWx1ZTogJ2xheWVyX2hlaWdodCcsCiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgICAgIGNvbmZpZ2FibGU6IHRydWUsCiAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgIG91dHB1dFR5cGU6ICdsZW5ndGgnCiAgICAgICAgfSwgewogICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdIaXN0b3J5Lk9iamVjdEhlaWdodCcpLAogICAgICAgICAgICB2YWx1ZTogJ29iamVjdF9oZWlnaHQnLAogICAgICAgICAgICBhbGlnbjogJ2xlZnQnLAogICAgICAgICAgICBjb25maWdhYmxlOiB0cnVlLAogICAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgICAgICBvdXRwdXRUeXBlOiAnbGVuZ3RoJwogICAgICAgIH0sIHsKICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnSGlzdG9yeS5TbGljZXInKSwKICAgICAgICAgICAgdmFsdWU6ICdzbGljZXInLAogICAgICAgICAgICBhbGlnbjogJ2xlZnQnLAogICAgICAgICAgICBjb25maWdhYmxlOiB0cnVlLAogICAgICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgICAgfSwKICAgICAgICBdCgogICAgICAgIGhlYWRlcnMuZm9yRWFjaCgoaGVhZGVyKSA9PiB7CiAgICAgICAgICAgIGlmIChoZWFkZXIudmlzaWJsZSAmJiB0aGlzLmhpZGVDb2x1bXMuaW5jbHVkZXMoaGVhZGVyLnZhbHVlKSkgewogICAgICAgICAgICAgICAgaGVhZGVyLnZpc2libGUgPSBmYWxzZQogICAgICAgICAgICB9IGVsc2UgaWYgKCFoZWFkZXIudmlzaWJsZSAmJiAhdGhpcy5oaWRlQ29sdW1zLmluY2x1ZGVzKGhlYWRlci52YWx1ZSkpIHsKICAgICAgICAgICAgICAgIGhlYWRlci52aXNpYmxlID0gdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgfSkKCiAgICAgICAgcmV0dXJuIGhlYWRlcnMKICAgIH0KCiAgICBnZXQgdGFibGVGaWVsZHMoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyZWRIZWFkZXJzLmZpbHRlcigoY29sOiBhbnkpID0+ICFbJ2ZpbGVuYW1lJywgJ3N0YXR1cycsICdzbGljZXInXS5pbmNsdWRlcyhjb2wudmFsdWUpICYmIGNvbC52YWx1ZSAhPT0gJycpCiAgICB9CgogICAgZ2V0IGNvbmZpZ0hlYWRlcnMoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaGVhZGVycy5maWx0ZXIoKGhlYWRlcjogYW55KSA9PiBoZWFkZXIuY29uZmlnYWJsZSA9PT0gdHJ1ZSkKICAgIH0KCiAgICBnZXQgZmlsdGVyZWRIZWFkZXJzKCkgewogICAgICAgIHJldHVybiB0aGlzLmhlYWRlcnMuZmlsdGVyKChoZWFkZXI6IGFueSkgPT4gaGVhZGVyLnZpc2libGUgPT09IHRydWUpCiAgICB9CgogICAgZ2V0IGFsbFByaW50U3RhdHVzQXJyYXkoKSB7CiAgICAgICAgcmV0dXJuIGNhc2VJbnNlbnNpdGl2ZVNvcnQodGhpcy4kc3RvcmUuZ2V0dGVyc1snc2VydmVyL2hpc3RvcnkvZ2V0QWxsUHJpbnRTdGF0dXNBcnJheSddID8/IFtdLCAnbmFtZScpCiAgICB9CgogICAgZ2V0IGNvdW50UGVyUGFnZSgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZ3VpLnZpZXcuaGlzdG9yeWNvdW50UGVyUGFnZQogICAgfQoKICAgIHNldCBjb3VudFBlclBhZ2UobmV3VmFsKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2d1aS9zYXZlU2V0dGluZycsIHsgbmFtZTogJ3ZpZXcuaGlzdG9yeS5jb3VudFBlclBhZ2UnLCB2YWx1ZTogbmV3VmFsIH0pCiAgICB9CgogICAgZ2V0IGhpZGVDb2x1bXMoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmd1aS52aWV3Lmhpc3RvcnkuaGlkZUNvbHVtcwogICAgfQoKICAgIHNldCBoaWRlQ29sdW1zKG5ld1ZhbCkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdndWkvc2F2ZVNldHRpbmcnLCB7IG5hbWU6ICd2aWV3Lmhpc3RvcnkuaGlkZUNvbHVtcycsIHZhbHVlOiBuZXdWYWwgfSkKICAgIH0KCiAgICByZWZyZXNoSGlzdG9yeSgpIHsKICAgICAgICB0aGlzLiRzb2NrZXQuZW1pdCgnc2VydmVyLmhpc3RvcnkubGlzdCcsIHsgc3RhcnQ6IDAsIGxpbWl0OiA1MCB9LCB7IGFjdGlvbjogJ3NlcnZlci9oaXN0b3J5L2dldEhpc3RvcnknIH0pCiAgICB9CgogICAgZm9ybWF0RGF0ZShkYXRlOiBudW1iZXIpIHsKICAgICAgICBjb25zdCB0bXAyID0gbmV3IERhdGUoZGF0ZSoxMDAwKQoKICAgICAgICByZXR1cm4gdG1wMi50b0xvY2FsZVN0cmluZygpLnJlcGxhY2UoJywnLCAnJykKICAgIH0KCiAgICBmb3JtYXRQcmludFRpbWUodG90YWxTZWNvbmRzOiBudW1iZXIpIHsKICAgICAgICBpZiAodG90YWxTZWNvbmRzKSB7CiAgICAgICAgICAgIGxldCBvdXRwdXQgPSAnJwoKICAgICAgICAgICAgY29uc3QgZGF5cyA9IE1hdGguZmxvb3IodG90YWxTZWNvbmRzIC8gKDM2MDAgKiAyNCkpCiAgICAgICAgICAgIGlmIChkYXlzKSB7CiAgICAgICAgICAgICAgICB0b3RhbFNlY29uZHMgJT0gKDM2MDAgKiAyNCkKICAgICAgICAgICAgICAgIG91dHB1dCArPSBkYXlzKydkJwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3IodG90YWxTZWNvbmRzIC8gMzYwMCkKICAgICAgICAgICAgdG90YWxTZWNvbmRzICU9IDM2MDAKICAgICAgICAgICAgaWYgKGhvdXJzKSBvdXRwdXQgKz0gJyAnK2hvdXJzKydoJwoKICAgICAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IodG90YWxTZWNvbmRzIC8gNjApCiAgICAgICAgICAgIGlmIChtaW51dGVzKSBvdXRwdXQgKz0gJyAnK21pbnV0ZXMrJ20nCgogICAgICAgICAgICBjb25zdCBzZWNvbmRzID0gdG90YWxTZWNvbmRzICUgNjAKICAgICAgICAgICAgaWYgKHNlY29uZHMpIG91dHB1dCArPSAnICcrc2Vjb25kcy50b0ZpeGVkKDApKydzJwoKICAgICAgICAgICAgcmV0dXJuIG91dHB1dAogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICctLScKICAgIH0KICAgIAogICAgY2xpY2tSb3coaXRlbTogU2VydmVySGlzdG9yeVN0YXRlSm9iKSB7CiAgICAgICAgdGhpcy5kZXRhaWxzRGlhbG9nLml0ZW0gPSBpdGVtCiAgICAgICAgdGhpcy5kZXRhaWxzRGlhbG9nLmJvb2xTaG93ID0gdHJ1ZQogICAgfQogICAgCiAgICBzaG93Q29udGV4dE1lbnUgKGU6IGFueSwgaXRlbTogU2VydmVySGlzdG9yeVN0YXRlSm9iKSB7CiAgICAgICAgaWYgKCF0aGlzLmNvbnRleHRNZW51LnNob3duKSB7CiAgICAgICAgICAgIGU/LnByZXZlbnREZWZhdWx0KCkKICAgICAgICAgICAgdGhpcy5jb250ZXh0TWVudS5zaG93biA9IHRydWUKICAgICAgICAgICAgdGhpcy5jb250ZXh0TWVudS54ID0gZT8uY2xpZW50WCB8fCBlPy5wYWdlWCB8fCB3aW5kb3cuc2NyZWVuWCAvIDIKICAgICAgICAgICAgdGhpcy5jb250ZXh0TWVudS55ID0gZT8uY2xpZW50WSB8fCBlPy5wYWdlWSB8fCB3aW5kb3cuc2NyZWVuWSAvIDIKICAgICAgICAgICAgdGhpcy5jb250ZXh0TWVudS5pdGVtID0gaXRlbQogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHRNZW51LnNob3duID0gdHJ1ZQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0KCiAgICBzb3J0RmlsZXMoaXRlbXM6IGFueVtdLCBzb3J0Qnk6IHN0cmluZ1tdLCBzb3J0RGVzYzogYm9vbGVhbltdKSB7CiAgICAgICAgY29uc3Qgc29ydEJ5Q2xlYW4gPSBzb3J0QnkubGVuZ3RoID8gc29ydEJ5WzBdIDogJ2ZpbGVuYW1lJwogICAgICAgIGNvbnN0IHNvcnREZXNjQ2xlYW4gPSBzb3J0RGVzY1swXQoKICAgICAgICBpZiAoaXRlbXMgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAvLyBTb3J0IGJ5IGluZGV4CiAgICAgICAgICAgIGl0ZW1zLnNvcnQoZnVuY3Rpb24oYSwgYikgewogICAgICAgICAgICAgICAgaWYgKGFbc29ydEJ5Q2xlYW5dID09PSBiW3NvcnRCeUNsZWFuXSkgcmV0dXJuIDAKICAgICAgICAgICAgICAgIGlmIChhW3NvcnRCeUNsZWFuXSA9PT0gbnVsbCB8fCBhW3NvcnRCeUNsZWFuXSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gLTEKICAgICAgICAgICAgICAgIGlmIChiW3NvcnRCeUNsZWFuXSA9PT0gbnVsbCB8fCBiW3NvcnRCeUNsZWFuXSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gMQoKICAgICAgICAgICAgICAgIGlmIChhW3NvcnRCeUNsZWFuXS5jb25zdHJ1Y3RvciA9PT0gU3RyaW5nICYmIGJbc29ydEJ5Q2xlYW5dLmNvbnN0cnVjdG9yID09PSBTdHJpbmcpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVtzb3J0QnlDbGVhbl0ubG9jYWxlQ29tcGFyZShiW3NvcnRCeUNsZWFuXSwgdW5kZWZpbmVkLCB7IHNlbnNpdml0eTogJ2Jhc2UnIH0pCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGFbc29ydEJ5Q2xlYW5dIGluc3RhbmNlb2YgQXJyYXkgJiYgYltzb3J0QnlDbGVhbl0gaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZHVjZWRBID0gYVtzb3J0QnlDbGVhbl0ubGVuZ3RoID8gYS5maWxhbWVudC5yZWR1Y2UoKGE6IGFueSwgYjogYW55KSA9PiBhICsgYikgOiAwCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVkdWNlZEIgPSBiW3NvcnRCeUNsZWFuXS5sZW5ndGggPyBiLmZpbGFtZW50LnJlZHVjZSgoYTogYW55LCBiOiBhbnkpID0+IGEgKyBiKSA6IDAKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVkdWNlZEEgLSByZWR1Y2VkQgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBhW3NvcnRCeUNsZWFuXSAtIGJbc29ydEJ5Q2xlYW5dCiAgICAgICAgICAgIH0pCgogICAgICAgICAgICAvLyBEZWFsIHdpdGggZGVzY2VuZGluZyBvcmRlcgogICAgICAgICAgICBpZiAoc29ydERlc2NDbGVhbikgaXRlbXMucmV2ZXJzZSgpCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gaXRlbXMKICAgIH0KCiAgICBhZHZhbmNlZFNlYXJjaCh2YWx1ZTogc3RyaW5nLCBzZWFyY2g6IHN0cmluZykgewogICAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmCiAgICAgICAgICAgIHNlYXJjaCAhPSBudWxsICYmCiAgICAgICAgICAgIHZhbHVlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaC50b0xvd2VyQ2FzZSgpKSAhPT0gLTEKICAgIH0KCiAgICBnZXRTbWFsbFRodW1ibmFpbChpdGVtOiBTZXJ2ZXJIaXN0b3J5U3RhdGVKb2IpIHsKICAgICAgICBpZiAoCiAgICAgICAgICAgICdtZXRhZGF0YScgaW4gaXRlbSAmJgogICAgICAgICAgICAndGh1bWJuYWlscycgaW4gaXRlbS5tZXRhZGF0YSAmJgogICAgICAgICAgICBpdGVtLm1ldGFkYXRhLnRodW1ibmFpbHMubGVuZ3RoCiAgICAgICAgKSB7CiAgICAgICAgICAgIGNvbnN0IHRodW1ibmFpbCA9IGl0ZW0ubWV0YWRhdGEudGh1bWJuYWlscy5maW5kKCh0aHVtYjogYW55KSA9PgogICAgICAgICAgICAgICAgdGh1bWIud2lkdGggPj0gdGh1bWJuYWlsU21hbGxNaW4gJiYgdGh1bWIud2lkdGggPD0gdGh1bWJuYWlsU21hbGxNYXggJiYKICAgICAgICAgICAgICAgIHRodW1iLmhlaWdodCA+PSB0aHVtYm5haWxTbWFsbE1pbiAmJiB0aHVtYi5oZWlnaHQgPD0gdGh1bWJuYWlsU21hbGxNYXgKICAgICAgICAgICAgKQoKICAgICAgICAgICAgbGV0IHJlbGF0aXZlX3VybCA9ICcnCiAgICAgICAgICAgIGlmIChpdGVtLmZpbGVuYW1lLmxhc3RJbmRleE9mKCcvJykgIT09IC0xKSB7CiAgICAgICAgICAgICAgICByZWxhdGl2ZV91cmwgPSBpdGVtLmZpbGVuYW1lLnN1YnN0cigwLCBpdGVtLmZpbGVuYW1lLmxhc3RJbmRleE9mKCcvJykrMSkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHRodW1ibmFpbCAmJiAncmVsYXRpdmVfcGF0aCcgaW4gdGh1bWJuYWlsKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5hcGlVcmx9L3NlcnZlci9maWxlcy9nY29kZXMvJHtlbmNvZGVVUkkocmVsYXRpdmVfdXJsK3RodW1ibmFpbC5yZWxhdGl2ZV9wYXRoKX0/dGltZXN0YW1wPSR7aXRlbS5tZXRhZGF0YS5tb2RpZmllZH1gCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZQogICAgfQoKICAgIGdldEJpZ1RodW1ibmFpbChpdGVtOiBTZXJ2ZXJIaXN0b3J5U3RhdGVKb2IpIHsKICAgICAgICBpZiAoCiAgICAgICAgICAgICdtZXRhZGF0YScgaW4gaXRlbSAmJgogICAgICAgICAgICAndGh1bWJuYWlscycgaW4gaXRlbS5tZXRhZGF0YSAmJgogICAgICAgICAgICBpdGVtLm1ldGFkYXRhLnRodW1ibmFpbHMubGVuZ3RoCiAgICAgICAgKSB7CiAgICAgICAgICAgIGNvbnN0IHRodW1ibmFpbCA9IGl0ZW0ubWV0YWRhdGEudGh1bWJuYWlscy5maW5kKCh0aHVtYjogYW55KSA9PiB0aHVtYi53aWR0aCA+PSB0aHVtYm5haWxCaWdNaW4pCgogICAgICAgICAgICBsZXQgcmVsYXRpdmVfdXJsID0gJycKICAgICAgICAgICAgaWYgKGl0ZW0uZmlsZW5hbWUubGFzdEluZGV4T2YoJy8nKSAhPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJlbGF0aXZlX3VybCA9IGl0ZW0uZmlsZW5hbWUuc3Vic3RyKDAsIGl0ZW0uZmlsZW5hbWUubGFzdEluZGV4T2YoJy8nKSsxKQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodGh1bWJuYWlsICYmICdyZWxhdGl2ZV9wYXRoJyBpbiB0aHVtYm5haWwpCiAgICAgICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5hcGlVcmx9L3NlcnZlci9maWxlcy9nY29kZXMvJHtlbmNvZGVVUkkocmVsYXRpdmVfdXJsK3RodW1ibmFpbC5yZWxhdGl2ZV9wYXRoKX0/dGltZXN0YW1wPSR7aXRlbS5tZXRhZGF0YS5tb2RpZmllZH1gCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2UKICAgIH0KCiAgICBnZXRUaHVtYm5haWxXaWR0aChpdGVtOiBTZXJ2ZXJIaXN0b3J5U3RhdGVKb2IpIHsKICAgICAgICBpZiAodGhpcy5nZXRCaWdUaHVtYm5haWwoaXRlbSkpIHsKICAgICAgICAgICAgY29uc3QgdGh1bWJuYWlsID0gaXRlbS5tZXRhZGF0YS50aHVtYm5haWxzLmZpbmQoKHRodW1iOiBhbnkpID0+IHRodW1iLndpZHRoID49IHRodW1ibmFpbEJpZ01pbikKCiAgICAgICAgICAgIGlmICh0aHVtYm5haWwpIHJldHVybiB0aHVtYm5haWwud2lkdGgKICAgICAgICB9CgogICAgICAgIHJldHVybiA0MDAKICAgIH0KCiAgICBjaGFuZ2VDb2x1bW5WaXNpYmxlKG5hbWU6IHN0cmluZykgewogICAgICAgIGlmICh0aGlzLmhlYWRlcnMuZmlsdGVyKGhlYWRlciA9PiBoZWFkZXIudmFsdWUgPT09IG5hbWUpLmxlbmd0aCkgewogICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmhlYWRlcnMuZmlsdGVyKGhlYWRlciA9PiBoZWFkZXIudmFsdWUgPT09IG5hbWUpWzBdLnZpc2libGUKCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdndWkvc2V0SGlzdG9yeUNvbHVtbnMnLCB7bmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlfSkKICAgICAgICB9CiAgICB9CgogICAgY2hhbmdlU3RhdHVzVmlzaWJsZShzdGF0dXM6IGFueSkgewogICAgICAgIGlmIChzdGF0dXMuc2hvd0luVGFibGUpIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdndWkvaGlkZVN0YXR1c0luSGlzdG9yeUxpc3QnLCBzdGF0dXMubmFtZSkKICAgICAgICBlbHNlIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdndWkvc2hvd1N0YXR1c0luSGlzdG9yeUxpc3QnLCBzdGF0dXMubmFtZSkKICAgIH0KCiAgICBzdGFydFByaW50KGl0ZW06IFNlcnZlckhpc3RvcnlTdGF0ZUpvYikgewogICAgICAgIGlmIChpdGVtLmV4aXN0cykgdGhpcy4kc29ja2V0LmVtaXQoJ3ByaW50ZXIucHJpbnQuc3RhcnQnLCB7IGZpbGVuYW1lOiBpdGVtLmZpbGVuYW1lIH0sIHsgYWN0aW9uOiAnc3dpdGNoVG9EYXNoYm9hcmQnIH0pCiAgICB9CgogICAgZGVsZXRlSm9iKGl0ZW06IFNlcnZlckhpc3RvcnlTdGF0ZUpvYikgewogICAgICAgIHRoaXMuJHNvY2tldC5lbWl0KCdzZXJ2ZXIuaGlzdG9yeS5kZWxldGVfam9iJywgeyB1aWQ6IGl0ZW0uam9iX2lkIH0sIHsgYWN0aW9uOiAnc2VydmVyL2hpc3RvcnkvZ2V0RGVsZXRlZEpvYnMnIH0pCiAgICB9CgogICAgZ2V0U3RhdHVzSWNvbihzdGF0dXM6IHN0cmluZykgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydzZXJ2ZXIvaGlzdG9yeS9nZXRQcmludFN0YXR1c0NoaXBJY29uJ10oc3RhdHVzKQogICAgfQoKICAgIGdldFN0YXR1c0NvbG9yKHN0YXR1czogc3RyaW5nKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3NlcnZlci9oaXN0b3J5L2dldFByaW50U3RhdHVzQ2hpcENvbG9yJ10oc3RhdHVzKQogICAgfQoKICAgIG91dHB1dFZhbHVlKGNvbDogYW55LCBpdGVtOiBhbnkpIHsKICAgICAgICBsZXQgdmFsdWUgPSBjb2wudmFsdWUgaW4gaXRlbSA/IGl0ZW1bY29sLnZhbHVlXSA6IG51bGwKICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHZhbHVlID0gY29sLnZhbHVlIGluIGl0ZW0ubWV0YWRhdGEgPyBpdGVtLm1ldGFkYXRhW2NvbC52YWx1ZV0gOiBudWxsCgogICAgICAgIGlmICh2YWx1ZSA+IDApIHsKICAgICAgICAgICAgc3dpdGNoKGNvbC5vdXRwdXRUeXBlKSB7CiAgICAgICAgICAgIGNhc2UgJ2ZpbGVzaXplJzoKICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXRGaWxlc2l6ZSh2YWx1ZSkKCiAgICAgICAgICAgIGNhc2UgJ2RhdGUnOgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0RGF0ZSh2YWx1ZSkKCiAgICAgICAgICAgIGNhc2UgJ3RpbWUnOgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0UHJpbnRUaW1lKHZhbHVlKQoKICAgICAgICAgICAgY2FzZSAndGVtcCc6CiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUudG9GaXhlZCgpKycgwrBDJwoKICAgICAgICAgICAgY2FzZSAnbGVuZ3RoJzoKICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDEwMDApIHJldHVybiAodmFsdWUgLyAxMDAwKS50b0ZpeGVkKDIpKycgbScKCiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUudG9GaXhlZCgyKSsnIG1tJwoKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZQogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHJldHVybiAnLS0nCiAgICB9Cn0K"},null]}