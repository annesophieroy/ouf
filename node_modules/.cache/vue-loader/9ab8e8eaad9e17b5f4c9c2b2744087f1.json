{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/pages/Heightmap.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/pages/Heightmap.vue","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/thread-loader/dist/cjs.js","mtime":1645990064416},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1645990069130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHtDb21wb25lbnQsIE1peGlucywgV2F0Y2h9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InCmltcG9ydCBCYXNlTWl4aW4gZnJvbSAnQC9jb21wb25lbnRzL21peGlucy9iYXNlJwppbXBvcnQgQ29udHJvbE1peGluIGZyb20gJ0AvY29tcG9uZW50cy9taXhpbnMvY29udHJvbCcKCmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gJ2VjaGFydHMtZm9yLXZ1ZScKaW1wb3J0ICogYXMgZWNoYXJ0cyBmcm9tICdlY2hhcnRzJwppbXBvcnQge0VDaGFydHN9IGZyb20gJ2VjaGFydHMvY29yZScKaW1wb3J0ICdlY2hhcnRzLWdsJwppbXBvcnQgUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL3VpL1BhbmVsLnZ1ZScKCmludGVyZmFjZSBIZWlnaHRtYXBTZXJpZSB7CiAgICB0eXBlOiBzdHJpbmcKICAgIG5hbWU6IHN0cmluZwogICAgZGF0YTogbnVtYmVyW11bXQogICAgZGF0YVNoYXBlPzogbnVtYmVyW10KICAgIGl0ZW1TdHlsZT86IHsKICAgICAgICBvcGFjaXR5PzogbnVtYmVyCiAgICAgICAgY29sb3I/OiBudW1iZXJbXQogICAgfQogICAgd2lyZWZyYW1lOiB7CiAgICAgICAgc2hvdzogYm9vbGVhbgogICAgfQp9CgpAQ29tcG9uZW50KHsKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBQYW5lbCwKICAgICAgICBFQ2hhcnRzOiBjcmVhdGVDb21wb25lbnQoeyBlY2hhcnRzIH0pLAogICAgfQp9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlSGVpZ2h0bWFwIGV4dGVuZHMgTWl4aW5zKEJhc2VNaXhpbiwgQ29udHJvbE1peGluKSB7CgogICAgJHJlZnMhOiB7CiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgaGVpZ2h0bWFwOiBhbnksCiAgICAgICAgaW5wdXREaWFsb2dSZW5hbWVIZWlnaHRtYXBOYW1lOiBIVE1MSW5wdXRFbGVtZW50LAogICAgfQoKICAgIHByaXZhdGUgcmVuYW1lRGlhbG9nID0gZmFsc2UKICAgIHByaXZhdGUgcmVtb3ZlRGlhbG9nUHJvZmlsZSA9ICcnCiAgICBwcml2YXRlIHJlbW92ZURpYWxvZyA9IGZhbHNlCiAgICBwcml2YXRlIGNhbGlicmF0ZURpYWxvZyA9IGZhbHNlCiAgICBwcml2YXRlIG5ld05hbWUgPSAnJwogICAgcHJpdmF0ZSBvbGROYW1lID0gJycKCiAgICBwcml2YXRlIGhlaWdodG1hcFNjYWxlID0gMC41CiAgICBwcml2YXRlIHByb2JlZE9wYWNpdHkgPSAxCiAgICBwcml2YXRlIG1lc2hPcGFjaXR5ID0gMQogICAgcHJpdmF0ZSBmbGF0T3BhY2l0eSA9IDAuNQoKICAgIHByaXZhdGUgY29sb3JBeGlzTmFtZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNSknCiAgICBwcml2YXRlIGNvbG9yQXhpc0xhYmVsID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC41KScKICAgIHByaXZhdGUgY29sb3JBeGlzTGluZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuMiknCiAgICBwcml2YXRlIGNvbG9yQXhpc1RpY2sgPSAncmdiYSgyNTUsMjU1LDI1NSwwLjIpJwogICAgcHJpdmF0ZSBjb2xvclNwbGl0TGluZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuMiknCgogICAgcHJpdmF0ZSBjb2xvckF4aXNQb2ludGVyID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC44KScKCiAgICBwcml2YXRlIGNvbG9yVmlzdWFsTWFwID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC44KScKICAgIHByaXZhdGUgZm9udFNpemVWaXN1YWxNYXAgPSAxNAoKICAgIGdldCBjaGFydE9wdGlvbnMoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwwLjkpJywKICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAwLAogICAgICAgICAgICAgICAgdGV4dFN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmJywKICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE0cHgnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgcGFkZGluZzogMTUsCiAgICAgICAgICAgICAgICBmb3JtYXR0ZXI6IHRoaXMudG9vbHRpcEZvcm1hdHRlcgogICAgICAgICAgICB9LAogICAgICAgICAgICBkYXJrTW9kZTogdHJ1ZSwKICAgICAgICAgICAgYW5pbWF0aW9uOiBmYWxzZSwKICAgICAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICAgICAgICBzaG93OiBmYWxzZSwKICAgICAgICAgICAgICAgIHNlbGVjdGVkOiB0aGlzLnNlbGVjdGVkCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHZpc3VhbE1hcDogewogICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgICAgIG1pbjogdGhpcy52aXN1YWxNYXBSYW5nZVswXSwKICAgICAgICAgICAgICAgIG1heDogdGhpcy52aXN1YWxNYXBSYW5nZVsxXSwKICAgICAgICAgICAgICAgIGNhbGN1bGFibGU6IHRydWUsCiAgICAgICAgICAgICAgICBkaW1lbnNpb246IDIsCiAgICAgICAgICAgICAgICBpblJhbmdlOiB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFsnIzMxMzY5NScsICcjNDU3NWI0JywgJyM3NGFkZDEnLCAnI2FiZDllOScsICcjZTBmM2Y4JywgJyNmZmZmYmYnLCAnI2ZlZTA5MCcsICcjZmRhZTYxJywgJyNmNDZkNDMnLCAnI2Q3MzAyNycsICcjYTUwMDI2J10KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzZXJpZXNJbmRleDogdGhpcy52aXN1YWxNYXBTZXJpZXNJbmRleCwKICAgICAgICAgICAgICAgIGxlZnQ6IHRoaXMuaXNNb2JpbGUgPyAxMCA6IDMwLAogICAgICAgICAgICAgICAgdG9wOiAyMCwKICAgICAgICAgICAgICAgIGJvdHRvbTogMCwKICAgICAgICAgICAgICAgIGl0ZW1XaWR0aDogdGhpcy5pc01vYmlsZSA/IDEwIDogMzAsCiAgICAgICAgICAgICAgICBpdGVtSGVpZ2h0OiAzNTAsCiAgICAgICAgICAgICAgICBwcmVjaXNpb246IDMsCiAgICAgICAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5jb2xvclZpc3VhbE1hcCwKICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogdGhpcy5mb250U2l6ZVZpc3VhbE1hcAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgeEF4aXMzRDogewogICAgICAgICAgICAgICAgdHlwZTogJ3ZhbHVlJywKICAgICAgICAgICAgICAgIG5hbWVUZXh0U3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5jb2xvckF4aXNOYW1lCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbWluOiB0aGlzLnJhbmdlWFswXSwKICAgICAgICAgICAgICAgIG1heDogdGhpcy5yYW5nZVhbMV0sCiAgICAgICAgICAgICAgICBtaW5JbnRlcnZhbDogMQogICAgICAgICAgICB9LAogICAgICAgICAgICB5QXhpczNEOiB7CiAgICAgICAgICAgICAgICB0eXBlOiAndmFsdWUnLAogICAgICAgICAgICAgICAgbmFtZVRleHRTdHlsZTogewogICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yQXhpc05hbWUKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBtaW46IHRoaXMucmFuZ2VZWzBdLAogICAgICAgICAgICAgICAgbWF4OiB0aGlzLnJhbmdlWVsxXSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgekF4aXMzRDogewogICAgICAgICAgICAgICAgdHlwZTogJ3ZhbHVlJywKICAgICAgICAgICAgICAgIG1pbjogdGhpcy5oZWlnaHRtYXBTY2FsZSAqIC0xLAogICAgICAgICAgICAgICAgbWF4OiB0aGlzLmhlaWdodG1hcFNjYWxlLAogICAgICAgICAgICAgICAgbmFtZVRleHRTdHlsZTogewogICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yQXhpc05hbWUKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBheGlzUG9pbnRlcjogewogICAgICAgICAgICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24odmFsdWU6IGFueSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvRml4ZWQoMikKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdyaWQzRDogewogICAgICAgICAgICAgICAgYXhpc0xhYmVsOiB7CiAgICAgICAgICAgICAgICAgICAgdGV4dFN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yQXhpc0xhYmVsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGF4aXNMaW5lOiB7CiAgICAgICAgICAgICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yQXhpc0xpbmUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYXhpc1RpY2s6IHsKICAgICAgICAgICAgICAgICAgICBsaW5lU3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRoaXMuY29sb3JBeGlzVGljawogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzcGxpdExpbmU6IHsKICAgICAgICAgICAgICAgICAgICBsaW5lU3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRoaXMuY29sb3JTcGxpdExpbmUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYXhpc1BvaW50ZXI6IHsKICAgICAgICAgICAgICAgICAgICBsaW5lU3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRoaXMuY29sb3JBeGlzUG9pbnRlcgogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5jb2xvckF4aXNQb2ludGVyCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNlcmllczogdGhpcy5zZXJpZXMKICAgICAgICB9CiAgICB9CgogICAgZ2V0IGNoYXJ0ICgpOiBFQ2hhcnRzIHwgbnVsbCB7CiAgICAgICAgY29uc3QgaGVpZ2h0bWFwID0gdGhpcy4kcmVmcy5oZWlnaHRtYXAKICAgICAgICByZXR1cm4gaGVpZ2h0bWFwPy5pbnN0ID8/IG51bGwKICAgIH0KCiAgICBnZXQgcHJvZmlsZXMgKCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydwcmludGVyL2dldEJlZE1lc2hQcm9maWxlcyddCiAgICB9CgogICAgZ2V0IGJlZF9tZXNoKCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5wcmludGVyLmJlZF9tZXNoID8/IG51bGwKICAgIH0KCiAgICBAV2F0Y2goJ2JlZF9tZXNoJywgeyBkZWVwOiB0cnVlIH0pCiAgICBiZWRfbWVzaENoYW5nZWQoKSB7CiAgICAgICAgdGhpcy5jaGFydD8uc2V0T3B0aW9uKHRoaXMuY2hhcnRPcHRpb25zKQogICAgfQoKICAgIGdldCBzaG93UHJvYmVkKCk6IGJvb2xlYW4gewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5ndWkudmlldy5oZWlnaHRtYXAucHJvYmVkID8/IHRydWUKICAgIH0KCiAgICBzZXQgc2hvd1Byb2JlZChuZXdWYWwpIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ3VpL3NhdmVTZXR0aW5nJywgeyBuYW1lOiAndmlldy5oZWlnaHRtYXAucHJvYmVkJywgdmFsdWU6IG5ld1ZhbCB9KQogICAgfQoKICAgIGdldCBzaG93TWVzaCgpOiBib29sZWFuIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZ3VpLnZpZXcuaGVpZ2h0bWFwLm1lc2ggPz8gdHJ1ZQogICAgfQoKICAgIHNldCBzaG93TWVzaChuZXdWYWwpIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ3VpL3NhdmVTZXR0aW5nJywgeyBuYW1lOiAndmlldy5oZWlnaHRtYXAubWVzaCcsIHZhbHVlOiBuZXdWYWwgfSkKICAgIH0KCiAgICBnZXQgc2hvd0ZsYXQoKTogYm9vbGVhbiB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmd1aS52aWV3LmhlaWdodG1hcC5mbGF0ID8/IHRydWUKICAgIH0KCiAgICBzZXQgc2hvd0ZsYXQobmV3VmFsKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2d1aS9zYXZlU2V0dGluZycsIHsgbmFtZTogJ3ZpZXcuaGVpZ2h0bWFwLmZsYXQnLCB2YWx1ZTogbmV3VmFsIH0pCiAgICB9CgogICAgZ2V0IHdpcmVmcmFtZSgpOiBib29sZWFuIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZ3VpLnZpZXcuaGVpZ2h0bWFwLndpcmVmcmFtZSA/PyB0cnVlCiAgICB9CgogICAgc2V0IHdpcmVmcmFtZShuZXdWYWwpIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZ3VpL3NhdmVTZXR0aW5nJywgeyBuYW1lOiAndmlldy5oZWlnaHRtYXAud2lyZWZyYW1lJywgdmFsdWU6IG5ld1ZhbCB9KQogICAgfQoKICAgIGdldCBzY2FsZSgpOiBib29sZWFuIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZ3VpLnZpZXcuaGVpZ2h0bWFwLnNjYWxlID8/IHRydWUKICAgIH0KCiAgICBzZXQgc2NhbGUobmV3VmFsKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2d1aS9zYXZlU2V0dGluZycsIHsgbmFtZTogJ3ZpZXcuaGVpZ2h0bWFwLnNjYWxlJywgdmFsdWU6IG5ld1ZhbCB9KQogICAgfQoKICAgIGdldCBzY2FsZVZpc3VhbE1hcCgpOiBib29sZWFuIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZ3VpLnZpZXcuaGVpZ2h0bWFwLnNjYWxlVmlzdWFsTWFwID8/IGZhbHNlCiAgICB9CgogICAgc2V0IHNjYWxlVmlzdWFsTWFwKG5ld1ZhbCkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdndWkvc2F2ZVNldHRpbmcnLCB7IG5hbWU6ICd2aWV3LmhlaWdodG1hcC5zY2FsZVZpc3VhbE1hcCcsIHZhbHVlOiBuZXdWYWwgfSkKICAgIH0KCiAgICBnZXQgcmFuZ2VYKCk6IG51bWJlcltdIHsKICAgICAgICBjb25zdCBheGlzX21pbmltdW0gPSB0aGlzLiRzdG9yZS5zdGF0ZS5wcmludGVyLnRvb2xoZWFkPy5heGlzX21pbmltdW0KICAgICAgICBjb25zdCBheGlzX21heGltdW0gPSB0aGlzLiRzdG9yZS5zdGF0ZS5wcmludGVyLnRvb2xoZWFkPy5heGlzX21heGltdW0KCiAgICAgICAgcmV0dXJuIFtheGlzX21pbmltdW1bMF0gPz8gMCwgYXhpc19tYXhpbXVtWzBdID8/IDBdCiAgICB9CgogICAgZ2V0IHJhbmdlWSgpOiBudW1iZXJbXSB7CiAgICAgICAgY29uc3QgYXhpc19taW5pbXVtID0gdGhpcy4kc3RvcmUuc3RhdGUucHJpbnRlci50b29saGVhZD8uYXhpc19taW5pbXVtID8/IFswLDBdCiAgICAgICAgY29uc3QgYXhpc19tYXhpbXVtID0gdGhpcy4kc3RvcmUuc3RhdGUucHJpbnRlci50b29saGVhZD8uYXhpc19tYXhpbXVtID8/IFswLDBdCgogICAgICAgIHJldHVybiBbYXhpc19taW5pbXVtWzFdID8/IDAsIGF4aXNfbWF4aW11bVsxXSA/PyAwXQogICAgfQoKICAgIGdldCBoZWlnaHRtYXBMaW1pdCgpOiBudW1iZXJbXSB7CiAgICAgICAgbGV0IG1pbiA9IDAKICAgICAgICBsZXQgbWF4ID0gMAoKICAgICAgICBpZiAodGhpcy5iZWRfbWVzaCkgewogICAgICAgICAgICBjb25zdCBwb2ludHMgPSBbXQogICAgICAgICAgICBpZiAodGhpcy5zaG93UHJvYmVkKSB7CiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHJvdyBvZiB0aGlzLmJlZF9tZXNoLnByb2JlZF9tYXRyaXgpIGZvciAoY29uc3QgY29sIG9mIHJvdykgcG9pbnRzLnB1c2goY29sKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLnNob3dNZXNoKSB7CiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHJvdyBvZiB0aGlzLmJlZF9tZXNoLm1lc2hfbWF0cml4KSBmb3IgKGNvbnN0IGNvbCBvZiByb3cpIHBvaW50cy5wdXNoKGNvbCkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbWluID0gTWF0aC5taW4obWluLCAuLi5wb2ludHMpCiAgICAgICAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgLi4ucG9pbnRzKQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIFttaW4sIG1heF0KICAgIH0KCiAgICBnZXQgcHJvYmVkSGVpZ2h0bWFwTGltaXQoKTogbnVtYmVyW10gewogICAgICAgIGxldCBtaW4gPSAwCiAgICAgICAgbGV0IG1heCA9IDAKCiAgICAgICAgaWYgKHRoaXMuYmVkX21lc2gpIHsKICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gW10KICAgICAgICAgICAgZm9yIChjb25zdCByb3cgb2YgdGhpcy5iZWRfbWVzaC5wcm9iZWRfbWF0cml4KSBmb3IgKGNvbnN0IGNvbCBvZiByb3cpIHBvaW50cy5wdXNoKGNvbCkKCiAgICAgICAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgLi4ucG9pbnRzKQogICAgICAgICAgICBtYXggPSBNYXRoLm1heChtYXgsIC4uLnBvaW50cykKICAgICAgICB9CgogICAgICAgIHJldHVybiBbbWluLCBtYXhdCiAgICB9CgogICAgZ2V0IGhlaWdodG1hcFJhbmdlTGltaXQoKTogbnVtYmVyW10gewogICAgICAgIGNvbnN0IFttaW4sIG1heF0gPSB0aGlzLmhlaWdodG1hcExpbWl0CgogICAgICAgIGNvbnN0IG1pblJhbmdlID0gTWF0aC5yb3VuZChNYXRoLm1heChNYXRoLmFicyhtaW4pLCBNYXRoLmFicyhtYXgpKSAqIDEwKSAvIDEwCiAgICAgICAgY29uc3QgbWF4UmFuZ2UgPSBNYXRoLm1heChtaW5SYW5nZSwgMC41KQoKICAgICAgICByZXR1cm4gW21pblJhbmdlLCBtYXhSYW5nZV0KICAgIH0KCiAgICBnZXQgc2VsZWN0ZWQoKTogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICdwcm9iZWQnOiB0aGlzLnNob3dQcm9iZWQsCiAgICAgICAgICAgICdtZXNoJzogdGhpcy5zaG93TWVzaCwKICAgICAgICAgICAgJ2ZsYXQnOiB0aGlzLnNob3dGbGF0LAogICAgICAgIH0KICAgIH0KCiAgICBnZXQgc2VyaWVzKCk6IEhlaWdodG1hcFNlcmllW10gewogICAgICAgIGNvbnN0IHNlcmllcyA9IFtdCgogICAgICAgIGlmICh0aGlzLmJlZF9tZXNoKSB7CiAgICAgICAgICAgIHNlcmllcy5wdXNoKHRoaXMuc2VyaWVzUHJvYmVkKQogICAgICAgICAgICBzZXJpZXMucHVzaCh0aGlzLnNlcmllc01lc2gpCiAgICAgICAgICAgIHNlcmllcy5wdXNoKHRoaXMuc2VyaWVzRmxhdCkKICAgICAgICB9CgogICAgICAgIHJldHVybiBzZXJpZXMKICAgIH0KCiAgICBnZXQgc2VyaWVzUHJvYmVkKCk6IEhlaWdodG1hcFNlcmllIHsKICAgICAgICBjb25zdCBzZXJpZTogSGVpZ2h0bWFwU2VyaWUgPSB7CiAgICAgICAgICAgIHR5cGU6ICdzdXJmYWNlJywKICAgICAgICAgICAgbmFtZTogJ3Byb2JlZCcsCiAgICAgICAgICAgIGRhdGE6IFtdLAogICAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgICAgIG9wYWNpdHk6IHRoaXMucHJvYmVkT3BhY2l0eQogICAgICAgICAgICB9LAogICAgICAgICAgICB3aXJlZnJhbWU6IHsKICAgICAgICAgICAgICAgIHNob3c6IHRoaXMud2lyZWZyYW1lCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmJlZF9tZXNoKSB7CiAgICAgICAgICAgIGNvbnN0IHhDb3VudCA9IHRoaXMuYmVkX21lc2gucHJvYmVkX21hdHJpeFswXS5sZW5ndGgKICAgICAgICAgICAgY29uc3QgeUNvdW50ID0gdGhpcy5iZWRfbWVzaC5wcm9iZWRfbWF0cml4Lmxlbmd0aAogICAgICAgICAgICBjb25zdCB4TWluID0gdGhpcy5iZWRfbWVzaC5tZXNoX21pblswXQogICAgICAgICAgICBjb25zdCB4TWF4ID0gdGhpcy5iZWRfbWVzaC5tZXNoX21heFswXQogICAgICAgICAgICBjb25zdCB5TWluID0gdGhpcy5iZWRfbWVzaC5tZXNoX21pblsxXQogICAgICAgICAgICBjb25zdCB5TWF4ID0gdGhpcy5iZWRfbWVzaC5tZXNoX21heFsxXQogICAgICAgICAgICBjb25zdCB4U3RlcCA9ICh4TWF4IC0geE1pbikgLyAoeENvdW50IC0gMSkKICAgICAgICAgICAgY29uc3QgeVN0ZXAgPSAoeU1heCAtIHlNaW4pIC8gKHlDb3VudCAtIDEpCgogICAgICAgICAgICBjb25zdCBkYXRhOiBhbnlbXSA9IFtdCgogICAgICAgICAgICBsZXQgeVBvaW50ID0gMAogICAgICAgICAgICB0aGlzLmJlZF9tZXNoLnByb2JlZF9tYXRyaXguZm9yRWFjaCgobWVzaFJvdzogbnVtYmVyW10pID0+IHsKICAgICAgICAgICAgICAgIGxldCB4UG9pbnQgPSAwCiAgICAgICAgICAgICAgICBtZXNoUm93LmZvckVhY2goKHZhbHVlOiBudW1iZXIpID0+IHsKICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2goWwogICAgICAgICAgICAgICAgICAgICAgICAoeE1pbiArIHhTdGVwICogeFBvaW50KSwKICAgICAgICAgICAgICAgICAgICAgICAgKHlNaW4gKyB5U3RlcCAqIHlQb2ludCksCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlCiAgICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgICAgICB4UG9pbnQrKwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIHlQb2ludCsrCiAgICAgICAgICAgIH0pCgogICAgICAgICAgICBzZXJpZS5kYXRhID0gZGF0YQogICAgICAgICAgICBzZXJpZS5kYXRhU2hhcGUgPSBbeUNvdW50LCB4Q291bnRdCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gc2VyaWUKICAgIH0KCiAgICBnZXQgc2VyaWVzTWVzaCgpOiBIZWlnaHRtYXBTZXJpZSB7CiAgICAgICAgY29uc3Qgc2VyaWU6IEhlaWdodG1hcFNlcmllID0gewogICAgICAgICAgICB0eXBlOiAnc3VyZmFjZScsCiAgICAgICAgICAgIG5hbWU6ICdtZXNoJywKICAgICAgICAgICAgZGF0YTogW10sCiAgICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICAgICAgb3BhY2l0eTogdGhpcy5tZXNoT3BhY2l0eQogICAgICAgICAgICB9LAogICAgICAgICAgICB3aXJlZnJhbWU6IHsKICAgICAgICAgICAgICAgIHNob3c6IHRoaXMud2lyZWZyYW1lLAogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5iZWRfbWVzaCkgewogICAgICAgICAgICBjb25zdCB4Q291bnQgPSB0aGlzLmJlZF9tZXNoLm1lc2hfbWF0cml4WzBdLmxlbmd0aAogICAgICAgICAgICBjb25zdCB5Q291bnQgPSB0aGlzLmJlZF9tZXNoLm1lc2hfbWF0cml4Lmxlbmd0aAogICAgICAgICAgICBjb25zdCB4TWluID0gdGhpcy5iZWRfbWVzaC5tZXNoX21pblswXQogICAgICAgICAgICBjb25zdCB4TWF4ID0gdGhpcy5iZWRfbWVzaC5tZXNoX21heFswXQogICAgICAgICAgICBjb25zdCB5TWluID0gdGhpcy5iZWRfbWVzaC5tZXNoX21pblsxXQogICAgICAgICAgICBjb25zdCB5TWF4ID0gdGhpcy5iZWRfbWVzaC5tZXNoX21heFsxXQogICAgICAgICAgICBjb25zdCB4U3RlcCA9ICh4TWF4IC0geE1pbikgLyAoeENvdW50IC0gMSkKICAgICAgICAgICAgY29uc3QgeVN0ZXAgPSAoeU1heCAtIHlNaW4pIC8gKHlDb3VudCAtIDEpCgogICAgICAgICAgICBjb25zdCBkYXRhOiBhbnlbXSA9IFtdCgogICAgICAgICAgICBsZXQgeVBvaW50ID0gMAogICAgICAgICAgICB0aGlzLmJlZF9tZXNoLm1lc2hfbWF0cml4LmZvckVhY2goKG1lc2hSb3c6IG51bWJlcltdKSA9PiB7CiAgICAgICAgICAgICAgICBsZXQgeFBvaW50ID0gMAogICAgICAgICAgICAgICAgbWVzaFJvdy5mb3JFYWNoKCh2YWx1ZTogbnVtYmVyKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKFsKICAgICAgICAgICAgICAgICAgICAgICAgKHhNaW4gKyB4U3RlcCAqIHhQb2ludCksCiAgICAgICAgICAgICAgICAgICAgICAgICh5TWluICsgeVN0ZXAgKiB5UG9pbnQpLAogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZQogICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgICAgeFBvaW50KysKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB5UG9pbnQrKwogICAgICAgICAgICB9KQoKICAgICAgICAgICAgc2VyaWUuZGF0YSA9IGRhdGEKICAgICAgICAgICAgc2VyaWUuZGF0YVNoYXBlID0gW3lDb3VudCwgeENvdW50XQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHNlcmllCiAgICB9CgogICAgZ2V0IHNlcmllc0ZsYXQoKTogSGVpZ2h0bWFwU2VyaWUgewogICAgICAgIGNvbnN0IHNlcmllOiBIZWlnaHRtYXBTZXJpZSA9IHsKICAgICAgICAgICAgdHlwZTogJ3N1cmZhY2UnLAogICAgICAgICAgICBuYW1lOiAnZmxhdCcsCiAgICAgICAgICAgIGRhdGE6IFtdLAogICAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgICAgIGNvbG9yOiBbMSwgMSwgMSwgMV0sCiAgICAgICAgICAgICAgICBvcGFjaXR5OiB0aGlzLmZsYXRPcGFjaXR5CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdpcmVmcmFtZTogewogICAgICAgICAgICAgICAgc2hvdzogdGhpcy53aXJlZnJhbWUKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY29uc3QgY29uZmlnID0gdGhpcy4kc3RvcmUuc3RhdGUucHJpbnRlci5jb25maWdmaWxlPy5zZXR0aW5ncz8uYmVkX21lc2gKICAgICAgICBpZiAoY29uZmlnKSB7CiAgICAgICAgICAgIGxldCBwcm9iZV9jb3VudCA9IFsxLDFdCiAgICAgICAgICAgIGlmIChjb25maWcucHJvYmVfY291bnQgJiYgdHlwZW9mIGNvbmZpZy5wcm9iZV9jb3VudCA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICAgIHByb2JlX2NvdW50ID0gY29uZmlnLnByb2JlX2NvdW50LnNwbGl0KCcsJykKICAgICAgICAgICAgfSBlbHNlIGlmIChjb25maWcucHJvYmVfY291bnQpIHsKICAgICAgICAgICAgICAgIHByb2JlX2NvdW50ID0gY29uZmlnLnByb2JlX2NvdW50CiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnJvdW5kX3Byb2JlX2NvdW50KSB7CiAgICAgICAgICAgICAgICBwcm9iZV9jb3VudCA9IFtjb25maWcucm91bmRfcHJvYmVfY291bnQsIGNvbmZpZy5yb3VuZF9wcm9iZV9jb3VudF0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgbGV0IG1lc2hfbWluID0gW10KICAgICAgICAgICAgbGV0IG1lc2hfbWF4ID0gW10KCiAgICAgICAgICAgIGlmIChjb25maWcubWVzaF9taW4gJiYgY29uZmlnLm1lc2hfbWF4KSB7CiAgICAgICAgICAgICAgICAvLyBpcyBubyBkZWx0YQogICAgICAgICAgICAgICAgbWVzaF9taW4gPSAodHlwZW9mIGNvbmZpZy5tZXNoX21pbiA9PT0gJ3N0cmluZycpID8gY29uZmlnLm1lc2hfbWluLnNwbGl0KCcsJykgOiBjb25maWcubWVzaF9taW4KICAgICAgICAgICAgICAgIG1lc2hfbWF4ID0gKHR5cGVvZiBjb25maWcubWVzaF9tYXggPT09ICdzdHJpbmcnKSA/IGNvbmZpZy5tZXNoX21heC5zcGxpdCgnLCcpIDogY29uZmlnLm1lc2hfbWF4CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBkZWx0YSBtaW4vbWF4CiAgICAgICAgICAgICAgICBtZXNoX21pbiA9IFsKICAgICAgICAgICAgICAgICAgICBjb25maWcubWVzaF9yYWRpdXMgKiAtMSwKICAgICAgICAgICAgICAgICAgICBjb25maWcubWVzaF9yYWRpdXMgKiAtMQogICAgICAgICAgICAgICAgXQoKICAgICAgICAgICAgICAgIG1lc2hfbWF4ID0gWwogICAgICAgICAgICAgICAgICAgIGNvbmZpZy5tZXNoX3JhZGl1cywKICAgICAgICAgICAgICAgICAgICBjb25maWcubWVzaF9yYWRpdXMKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgeENvdW50ID0gcHJvYmVfY291bnRbMF0KICAgICAgICAgICAgY29uc3QgeUNvdW50ID0gcHJvYmVfY291bnRbMV0KICAgICAgICAgICAgY29uc3QgeE1pbiA9IHBhcnNlRmxvYXQobWVzaF9taW5bMF0pCiAgICAgICAgICAgIGNvbnN0IHhNYXggPSBwYXJzZUZsb2F0KG1lc2hfbWF4WzBdKQogICAgICAgICAgICBjb25zdCB5TWluID0gcGFyc2VGbG9hdChtZXNoX21pblsxXSkKICAgICAgICAgICAgY29uc3QgeU1heCA9IHBhcnNlRmxvYXQobWVzaF9tYXhbMV0pCiAgICAgICAgICAgIGNvbnN0IHhTdGVwID0gKHhNYXggLSB4TWluKSAvICh4Q291bnQgLSAxKQogICAgICAgICAgICBjb25zdCB5U3RlcCA9ICh5TWF4IC0geU1pbikgLyAoeUNvdW50IC0gMSkKCiAgICAgICAgICAgIGNvbnN0IGRhdGE6IG51bWJlcltdW10gPSBbXQoKICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB5Q291bnQ7IHkrKykgewogICAgICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB4Q291bnQ7IHgrKykgewogICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaChbCiAgICAgICAgICAgICAgICAgICAgICAgIHhNaW4gKyB4U3RlcCAqIHgsCiAgICAgICAgICAgICAgICAgICAgICAgIHlNaW4gKyB5U3RlcCAqIHksCiAgICAgICAgICAgICAgICAgICAgICAgIDAKICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBzZXJpZS5kYXRhID0gZGF0YQogICAgICAgICAgICBzZXJpZS5kYXRhU2hhcGUgPSBbeUNvdW50LCB4Q291bnRdCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gc2VyaWUKICAgIH0KCiAgICBnZXQgdmlzdWFsTWFwUmFuZ2UoKTogbnVtYmVyW10gewogICAgICAgIGlmICghdGhpcy5zY2FsZVZpc3VhbE1hcCkgcmV0dXJuIFstMC4xLCAwLjFdCgogICAgICAgIHJldHVybiB0aGlzLmhlaWdodG1hcExpbWl0CiAgICB9CgogICAgZ2V0IHZpc3VhbE1hcFNlcmllc0luZGV4KCk6IG51bWJlcltdIHsKICAgICAgICBjb25zdCBvdXRwdXQgPSBbXQoKICAgICAgICBpZiAodGhpcy5zaG93UHJvYmVkKSBvdXRwdXQucHVzaCgwKQogICAgICAgIGVsc2UgaWYgKHRoaXMuc2hvd01lc2gpIG91dHB1dC5wdXNoKDEpCgogICAgICAgIHJldHVybiBvdXRwdXQKICAgIH0KCiAgICBnZXQgYmVkTWVzaE1heFBvaW50KCkgewogICAgICAgIGlmICh0aGlzLmJlZF9tZXNoLnByb2ZpbGVfbmFtZSA9PT0gJycpIHJldHVybiB7IHJvdzogMCwgY29sOiAwLCBwb3NpdGlvblg6IDAsIHBvc2l0aW9uWTogMCwgdmFsdWU6IDAgfQoKICAgICAgICBjb25zdCBbICwgbWF4XSA9IHRoaXMucHJvYmVkSGVpZ2h0bWFwTGltaXQKCiAgICAgICAgbGV0IHJvdyA9IDAKICAgICAgICBsZXQgY29sID0gMAogICAgICAgIHRoaXMuYmVkX21lc2gucHJvYmVkX21hdHJpeC5mb3JFYWNoKChyb3dQb2ludHM6IG51bWJlcltdLCBpbmRleDogbnVtYmVyKSA9PiB7CiAgICAgICAgICAgIGlmIChNYXRoLm1heCguLi5yb3dQb2ludHMpID09PSBtYXgpIHsKICAgICAgICAgICAgICAgIHJvdyA9IGluZGV4ICsgMQogICAgICAgICAgICAgICAgY29sID0gcm93UG9pbnRzLmZpbmRJbmRleCgocG9pbnQ6IG51bWJlcikgPT4gcG9pbnQgPT09IG1heCkgKyAxCiAgICAgICAgICAgIH0KICAgICAgICB9KQoKICAgICAgICBjb25zdCBwb3NpdGlvblggPSBNYXRoLnJvdW5kKCh0aGlzLmJlZF9tZXNoLm1lc2hfbWluWzBdICsgKHRoaXMuYmVkX21lc2gubWVzaF9tYXhbMF0gLSB0aGlzLmJlZF9tZXNoLm1lc2hfbWluWzBdKSAvIHRoaXMuYmVkX21lc2gucHJvYmVkX21hdHJpeFswXS5sZW5ndGggKiAoY29sIC0gMSkpICogMTApIC8gMTAKICAgICAgICBjb25zdCBwb3NpdGlvblkgPSBNYXRoLnJvdW5kKCh0aGlzLmJlZF9tZXNoLm1lc2hfbWluWzFdICsgKHRoaXMuYmVkX21lc2gubWVzaF9tYXhbMV0gLSB0aGlzLmJlZF9tZXNoLm1lc2hfbWluWzFdKSAvIHRoaXMuYmVkX21lc2gucHJvYmVkX21hdHJpeC5sZW5ndGggKiAocm93IC0gMSkpICogMTApIC8gMTAKCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcm93LAogICAgICAgICAgICBjb2wsCiAgICAgICAgICAgIHBvc2l0aW9uWCwKICAgICAgICAgICAgcG9zaXRpb25ZLAogICAgICAgICAgICB2YWx1ZTogTWF0aC5yb3VuZChtYXggKiAxMDAwKSAvIDEwMDAKICAgICAgICB9CiAgICB9CgogICAgZ2V0IGJlZE1lc2hNaW5Qb2ludCgpIHsKICAgICAgICBpZiAodGhpcy5iZWRfbWVzaC5wcm9maWxlX25hbWUgPT09ICcnKSByZXR1cm4geyByb3c6IDAsIGNvbDogMCwgcG9zaXRpb25YOiAwLCBwb3NpdGlvblk6IDAsIHZhbHVlOiAwIH0KCiAgICAgICAgY29uc3QgW21pbiwgXSA9IHRoaXMucHJvYmVkSGVpZ2h0bWFwTGltaXQKCiAgICAgICAgbGV0IHJvdyA9IDAKICAgICAgICBsZXQgY29sID0gMAogICAgICAgIHRoaXMuYmVkX21lc2gucHJvYmVkX21hdHJpeC5mb3JFYWNoKChyb3dQb2ludHM6IG51bWJlcltdLCBpbmRleDogbnVtYmVyKSA9PiB7CiAgICAgICAgICAgIGlmIChNYXRoLm1pbiguLi5yb3dQb2ludHMpID09PSBtaW4pIHsKICAgICAgICAgICAgICAgIHJvdyA9IGluZGV4ICsgMQogICAgICAgICAgICAgICAgY29sID0gcm93UG9pbnRzLmZpbmRJbmRleCgocG9pbnQ6IG51bWJlcikgPT4gcG9pbnQgPT09IG1pbikgKyAxCiAgICAgICAgICAgIH0KICAgICAgICB9KQoKICAgICAgICBjb25zdCBwb3NpdGlvblggPSBNYXRoLnJvdW5kKCh0aGlzLmJlZF9tZXNoLm1lc2hfbWluWzBdICsgKHRoaXMuYmVkX21lc2gubWVzaF9tYXhbMF0gLSB0aGlzLmJlZF9tZXNoLm1lc2hfbWluWzBdKSAvIHRoaXMuYmVkX21lc2gucHJvYmVkX21hdHJpeFswXS5sZW5ndGggKiAoY29sIC0gMSkpICogMTApIC8gMTAKICAgICAgICBjb25zdCBwb3NpdGlvblkgPSBNYXRoLnJvdW5kKCh0aGlzLmJlZF9tZXNoLm1lc2hfbWluWzFdICsgKHRoaXMuYmVkX21lc2gubWVzaF9tYXhbMV0gLSB0aGlzLmJlZF9tZXNoLm1lc2hfbWluWzFdKSAvIHRoaXMuYmVkX21lc2gucHJvYmVkX21hdHJpeC5sZW5ndGggKiAocm93IC0gMSkpICogMTApIC8gMTAKCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcm93LAogICAgICAgICAgICBjb2wsCiAgICAgICAgICAgIHBvc2l0aW9uWCwKICAgICAgICAgICAgcG9zaXRpb25ZLAogICAgICAgICAgICB2YWx1ZTogTWF0aC5yb3VuZChtaW4gKiAxMDAwKSAvIDEwMDAKICAgICAgICB9CiAgICB9CgogICAgZ2V0IG1lc2hMb2FkZWQoKSB7CiAgICAgICAgaWYodGhpcy5iZWRfbWVzaCAhPT0gbnVsbCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5iZWRfbWVzaC5wcm9maWxlX25hbWUgIT09ICcnCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgfQoKICAgIHRvb2x0aXBGb3JtYXR0ZXIoZGF0YTogYW55KTogc3RyaW5nIHsKICAgICAgICBjb25zdCBvdXRwdXRBcnJheTogc3RyaW5nW10gPSBbXQogICAgICAgIG91dHB1dEFycmF5LnB1c2goJzxiPicrZGF0YS5zZXJpZXNOYW1lKyc8L2I+JykKCiAgICAgICAgT2JqZWN0LmtleXMoZGF0YS5lbmNvZGUpLnNvcnQoKS5mb3JFYWNoKChheGlzTmFtZTogc3RyaW5nKSA9PiB7CiAgICAgICAgICAgIG91dHB1dEFycmF5LnB1c2goJzxiPicgKyBheGlzTmFtZS50b1VwcGVyQ2FzZSgpICsgJzwvYj46ICcrZGF0YS5kYXRhW2RhdGEuZW5jb2RlW2F4aXNOYW1lXVswXV0udG9GaXhlZChheGlzTmFtZSA9PT0gJ3onID8gMyA6IDEpICsgJyBtbScpCiAgICAgICAgfSkKCiAgICAgICAgcmV0dXJuIG91dHB1dEFycmF5LmpvaW4oJzxiciAvPicpCiAgICB9CgogICAgbG9hZFByb2ZpbGUobmFtZTogc3RyaW5nKTogdm9pZCB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NlcnZlci9hZGRFdmVudCcsIHsgbWVzc2FnZTogJ0JFRF9NRVNIX1BST0ZJTEUgTE9BRD0nK25hbWUsIHR5cGU6ICdjb21tYW5kJyB9KQogICAgICAgIHRoaXMuJHNvY2tldC5lbWl0KCdwcmludGVyLmdjb2RlLnNjcmlwdCcsIHsgc2NyaXB0OiAnQkVEX01FU0hfUFJPRklMRSBMT0FEPScrbmFtZSB9LCB7IGxvYWRpbmc6ICdiZWRNZXNoTG9hZF8nK25hbWUgfSkKICAgIH0KCiAgICBvcGVuUmVuYW1lUHJvZmlsZSgpOiB2b2lkIHsKICAgICAgICB0aGlzLm5ld05hbWUgPSB0aGlzLmJlZF9tZXNoPy5wcm9maWxlX25hbWUgPz8gJycKICAgICAgICB0aGlzLm9sZE5hbWUgPSB0aGlzLmJlZF9tZXNoLnByb2ZpbGVfbmFtZQogICAgICAgIHRoaXMucmVuYW1lRGlhbG9nID0gdHJ1ZQoKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgdGhpcy4kcmVmcy5pbnB1dERpYWxvZ1JlbmFtZUhlaWdodG1hcE5hbWU/LmZvY3VzKCkKICAgICAgICB9LCAyMDApCiAgICB9CgogICAgcmVuYW1lUHJvZmlsZSgpOiB2b2lkIHsKICAgICAgICB0aGlzLnJlbmFtZURpYWxvZyA9IGZhbHNlCgogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXJ2ZXIvYWRkRXZlbnQnLCB7IG1lc3NhZ2U6ICdCRURfTUVTSF9QUk9GSUxFIFNBVkU9Jyt0aGlzLm5ld05hbWUsIHR5cGU6ICdjb21tYW5kJyB9KQogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXJ2ZXIvYWRkRXZlbnQnLCB7IG1lc3NhZ2U6ICdCRURfTUVTSF9QUk9GSUxFIFJFTU9WRT0nK3RoaXMub2xkTmFtZSwgdHlwZTogJ2NvbW1hbmQnIH0pCgogICAgICAgIHRoaXMuJHNvY2tldC5lbWl0KCdwcmludGVyLmdjb2RlLnNjcmlwdCcsIHsgc2NyaXB0OiAnQkVEX01FU0hfUFJPRklMRSBTQVZFPScrdGhpcy5uZXdOYW1lIH0sIHsgbG9hZGluZzogJ2JlZE1lc2hSZW5hbWUnIH0pCiAgICAgICAgdGhpcy4kc29ja2V0LmVtaXQoJ3ByaW50ZXIuZ2NvZGUuc2NyaXB0JywgeyBzY3JpcHQ6ICdCRURfTUVTSF9QUk9GSUxFIFJFTU9WRT0nK3RoaXMub2xkTmFtZSB9LCB7IGxvYWRpbmc6ICdiZWRNZXNoUmVuYW1lJyB9KQoKICAgICAgICB0aGlzLm5ld05hbWUgPSAnJwogICAgICAgIHRoaXMub2xkTmFtZSA9ICcnCiAgICB9CgogICAgb3BlblJlbW92ZVByb2ZpbGUobmFtZTogc3RyaW5nKTogdm9pZCB7CiAgICAgICAgdGhpcy5yZW1vdmVEaWFsb2dQcm9maWxlID0gbmFtZQogICAgICAgIHRoaXMucmVtb3ZlRGlhbG9nID0gdHJ1ZQogICAgfQoKICAgIHJlbW92ZVByb2ZpbGUoKTogdm9pZCB7CiAgICAgICAgdGhpcy5yZW1vdmVEaWFsb2cgPSBmYWxzZQogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZXJ2ZXIvYWRkRXZlbnQnLCB7IG1lc3NhZ2U6ICdCRURfTUVTSF9QUk9GSUxFIFJFTU9WRT0nK3RoaXMucmVtb3ZlRGlhbG9nUHJvZmlsZSwgdHlwZTogJ2NvbW1hbmQnIH0pCiAgICAgICAgdGhpcy4kc29ja2V0LmVtaXQoJ3ByaW50ZXIuZ2NvZGUuc2NyaXB0JywgeyBzY3JpcHQ6ICdCRURfTUVTSF9QUk9GSUxFIFJFTU9WRT0nK3RoaXMucmVtb3ZlRGlhbG9nUHJvZmlsZSB9LCB7CiAgICAgICAgICAgIGFjdGlvbjogJ3ByaW50ZXIvcmVtb3ZlQmVkTWVzaFByb2ZpbGUnLAogICAgICAgICAgICBhY3Rpb25QYXlsb2FkOiB7bmFtZTogdGhpcy5yZW1vdmVEaWFsb2dQcm9maWxlfSwKICAgICAgICAgICAgbG9hZGluZzogJ2JlZE1lc2hSZW5hbWVfJyt0aGlzLnJlbW92ZURpYWxvZ1Byb2ZpbGUKICAgICAgICB9KQogICAgICAgIHRoaXMucmVtb3ZlRGlhbG9nUHJvZmlsZSA9ICcnCiAgICB9CgogICAgaG9tZVByaW50ZXIoKTogdm9pZCB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NlcnZlci9hZGRFdmVudCcsIHsgbWVzc2FnZTogJ0cyOCcsIHR5cGU6ICdjb21tYW5kJyB9KQogICAgICAgIHRoaXMuJHNvY2tldC5lbWl0KCdwcmludGVyLmdjb2RlLnNjcmlwdCcsIHsgc2NyaXB0OiAnRzI4JyB9LCB7IGxvYWRpbmc6ICdob21lQWxsJyB9KQogICAgfQoKICAgIGNsZWFyQmVkTWVzaCgpOiB2b2lkIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2VydmVyL2FkZEV2ZW50JywgeyBtZXNzYWdlOiAnQkVEX01FU0hfQ0xFQVInLCB0eXBlOiAnY29tbWFuZCcgfSkKICAgICAgICB0aGlzLiRzb2NrZXQuZW1pdCgncHJpbnRlci5nY29kZS5zY3JpcHQnLCB7IHNjcmlwdDogJ0JFRF9NRVNIX0NMRUFSJyB9LCB7IGxvYWRpbmc6ICdiZWRNZXNoQ2xlYXInIH0pCiAgICB9CgogICAgY2FsaWJyYXRlTWVzaCgpOiB2b2lkIHsKICAgICAgICB0aGlzLmNhbGlicmF0ZURpYWxvZyA9IGZhbHNlCiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NlcnZlci9hZGRFdmVudCcsIHsgbWVzc2FnZTogJ0JFRF9NRVNIX0NBTElCUkFURScsIHR5cGU6ICdjb21tYW5kJyB9KQogICAgICAgIHRoaXMuJHNvY2tldC5lbWl0KCdwcmludGVyLmdjb2RlLnNjcmlwdCcsIHsgc2NyaXB0OiAnQkVEX01FU0hfQ0FMSUJSQVRFJyB9LCB7IGxvYWRpbmc6ICdiZWRNZXNoQ2FsaWJyYXRlJyB9KQogICAgfQoKICAgIGJlZm9yZURlc3Ryb3koKTogdm9pZCB7CiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4KICAgICAgICBpZiAodGhpcy5jaGFydCkgdGhpcy5jaGFydC5kaXNwb3NlKCkKICAgIH0KfQo="},null]}