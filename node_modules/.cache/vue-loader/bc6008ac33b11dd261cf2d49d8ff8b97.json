{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/TheConnectingDialog.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/TheConnectingDialog.vue","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1645990069130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IENvbXBvbmVudCBmcm9tICd2dWUtY2xhc3MtY29tcG9uZW50JwppbXBvcnQgeyBNaXhpbnMgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJwppbXBvcnQgQmFzZU1peGluIGZyb20gJ0AvY29tcG9uZW50cy9taXhpbnMvYmFzZScKaW1wb3J0IENvbm5lY3Rpb25TdGF0dXMgZnJvbSAnQC9jb21wb25lbnRzL3VpL0Nvbm5lY3Rpb25TdGF0dXMudnVlJwoKQENvbXBvbmVudCh7CiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgQ29ubmVjdGlvblN0YXR1cywKICAgIH0KfSkKZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGhlQ29ubmVjdGluZ0RpYWxvZyBleHRlbmRzIE1peGlucyhCYXNlTWl4aW4pIHsKICAgIGNvdW50ZXIgPSAwCgogICAgZ2V0IHByb3RvY29sKCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zb2NrZXQucHJvdG9jb2wKICAgIH0KCiAgICBnZXQgaG9zdG5hbWUoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnNvY2tldC5ob3N0bmFtZQogICAgfQoKICAgIGdldCBwb3J0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zb2NrZXQucG9ydAogICAgfQoKICAgIGdldCBmb3JtYXRIb3N0bmFtZSgpIHsKICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5wb3J0KSAhPT0gODAgJiYgdGhpcy5wb3J0ICE9PSAnJyA/IHRoaXMuaG9zdG5hbWUrJzonK3RoaXMucG9ydCA6IHRoaXMuaG9zdG5hbWUKICAgIH0KCiAgICBnZXQgaXNDb25uZWN0ZWQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnNvY2tldC5pc0Nvbm5lY3RlZAogICAgfQoKICAgIGdldCBpc0Nvbm5lY3RpbmcoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnNvY2tldC5pc0Nvbm5lY3RpbmcKICAgIH0KCiAgICBnZXQgY29ubmVjdGluZ0ZhaWxlZCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc29ja2V0LmNvbm5lY3RpbmdGYWlsZWQKICAgIH0KCiAgICBnZXQgc2hvd0RpYWxvZygpIHsKICAgICAgICByZXR1cm4gIXRoaXMuaXNDb25uZWN0ZWQKICAgIH0KCiAgICByZWNvbm5lY3QoKSB7CiAgICAgICAgdGhpcy5jb3VudGVyKysKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc29ja2V0L3NldERhdGEnLCB7IGNvbm5lY3RpbmdGYWlsZWQ6IGZhbHNlIH0pCiAgICAgICAgdGhpcy4kc29ja2V0LmNvbm5lY3QoKQogICAgfQp9Cg=="},{"version":3,"sources":["TheConnectingDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"TheConnectingDialog.vue","sourceRoot":"src/components","sourcesContent":["<style scoped>\n\n</style>\n\n<template>\n    <v-dialog v-model=\"showDialog\" persistent :width=\"400\">\n        <v-card dark>\n            <v-toolbar flat dense>\n                <v-toolbar-title>\n                    <span class=\"subheading\">\n                        <v-icon class=\"mdi mdi-connection\" left></v-icon>\n                        <template v-if=\"connectingFailed\">{{ $t(\"ConnectionDialog.Failed\", {'host': formatHostname}) }}</template>\n                        <template v-else-if=\"isConnecting\">{{ $t(\"ConnectionDialog.Connecting\", {'host': formatHostname}) }}</template>\n                        <template v-else>{{ formatHostname }}</template>\n                    </span>\n                </v-toolbar-title>\n            </v-toolbar>\n            <v-card-text class=\"pt-5\" v-if=\"isConnecting\">\n                <v-progress-linear color=\"white\" indeterminate></v-progress-linear>\n            </v-card-text>\n            <v-card-text class=\"pt-5\" v-if=\"!isConnecting && connectingFailed\">\n                <connection-status :moonraker=\"false\"></connection-status>\n                <p class=\"text-center mt-3\">{{ $t(\"ConnectionDialog.CannotConnectTo\", {'host': formatHostname}) }}</p>\n                <template v-if=\"counter > 2\">\n                    <v-divider class=\"my-3\"></v-divider>\n                    <p>{{ $t(\"ConnectionDialog.CheckMoonrakerLog\") }}</p>\n                    <ul>\n                        <li>~/klipper_logs/moonraker.log</li>\n                        <li>/tmp/moonraker.log</li>\n                    </ul>\n                    <v-divider class=\"mt-4 mb-5\"></v-divider>\n                </template>\n                <div class=\"text-center\">\n                    <v-btn @click=\"reconnect\" class=\"primary--text\">{{ $t(\"ConnectionDialog.TryAgain\") }}</v-btn>\n                </div>\n            </v-card-text>\n        </v-card>\n    </v-dialog>\n</template>\n\n<script lang=\"ts\">\n\nimport Component from 'vue-class-component'\nimport { Mixins } from 'vue-property-decorator'\nimport BaseMixin from '@/components/mixins/base'\nimport ConnectionStatus from '@/components/ui/ConnectionStatus.vue'\n\n@Component({\n    components: {\n        ConnectionStatus,\n    }\n})\nexport default class TheConnectingDialog extends Mixins(BaseMixin) {\n    counter = 0\n\n    get protocol() {\n        return this.$store.state.socket.protocol\n    }\n\n    get hostname() {\n        return this.$store.state.socket.hostname\n    }\n\n    get port() {\n        return this.$store.state.socket.port\n    }\n\n    get formatHostname() {\n        return parseInt(this.port) !== 80 && this.port !== '' ? this.hostname+':'+this.port : this.hostname\n    }\n\n    get isConnected() {\n        return this.$store.state.socket.isConnected\n    }\n\n    get isConnecting() {\n        return this.$store.state.socket.isConnecting\n    }\n\n    get connectingFailed() {\n        return this.$store.state.socket.connectingFailed\n    }\n\n    get showDialog() {\n        return !this.isConnected\n    }\n\n    reconnect() {\n        this.counter++\n        this.$store.dispatch('socket/setData', { connectingFailed: false })\n        this.$socket.connect()\n    }\n}\n</script>"]}]}