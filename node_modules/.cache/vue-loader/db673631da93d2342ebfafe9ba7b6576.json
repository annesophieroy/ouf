{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/panels/Machine/SystemPanel.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/panels/Machine/SystemPanel.vue","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1645990069130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCB7Q29tcG9uZW50LCBNaXhpbnN9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InCmltcG9ydCBCYXNlTWl4aW4gZnJvbSAnLi4vLi4vbWl4aW5zL2Jhc2UnCmltcG9ydCBQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvdWkvUGFuZWwudnVlJwppbXBvcnQge2Nhc2VJbnNlbnNpdGl2ZVNvcnR9IGZyb20gJ0AvcGx1Z2lucy9oZWxwZXJzJwpAQ29tcG9uZW50KHsKICAgIGNvbXBvbmVudHM6IHtQYW5lbH0KfSkKZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3lzdGVtUGFuZWwgZXh0ZW5kcyBNaXhpbnMoQmFzZU1peGluKSB7CgogICAgcHJpdmF0ZSBtY3VEZXRhaWxzRGlhbG9nOiB7IGJvb2w6IGJvb2xlYW4sIGhlYWRsaW5lOiBzdHJpbmcsIG1jdTogYW55IH0gPSB7CiAgICAgICAgYm9vbDogZmFsc2UsCiAgICAgICAgaGVhZGxpbmU6ICcnLAogICAgICAgIG1jdTogewogICAgICAgICAgICBtY3VfY29uc3RhbnRzOiBudWxsLAogICAgICAgICAgICBsYXN0X3N0YXRzOiBudWxsLAogICAgICAgIH0KICAgIH0KCiAgICBwcml2YXRlIGhvc3REZXRhaWxzRGlhbG9nOiB7IGJvb2w6IGJvb2xlYW4gfSA9IHsKICAgICAgICBib29sOiBmYWxzZSwKICAgIH0KCiAgICBnZXQgbWN1cygpIHsKICAgICAgICBjb25zdCBtY3VzID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sncHJpbnRlci9nZXRNY3VzJ10gPz8gW10KCiAgICAgICAgcmV0dXJuIGNhc2VJbnNlbnNpdGl2ZVNvcnQobWN1cywgJ25hbWUnKQogICAgfQoKICAgIGdldCBob3N0U3RhdHMoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3NlcnZlci9nZXRIb3N0U3RhdHMnXSA/PyBudWxsCiAgICB9CgogICAgZ2V0IHN5c3RlbUluZm8oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnNlcnZlcj8uc3lzdGVtX2luZm8gPz8ge30KICAgIH0KCiAgICBvcGVuTWN1RGV0YWlscyhtY3U6IGFueSkgewogICAgICAgIHRoaXMubWN1RGV0YWlsc0RpYWxvZy5oZWFkbGluZSA9IG1jdS5uYW1lCiAgICAgICAgdGhpcy5tY3VEZXRhaWxzRGlhbG9nLm1jdS5tY3VfY29uc3RhbnRzID0gey4uLm1jdS5tY3VfY29uc3RhbnRzfQogICAgICAgIHRoaXMubWN1RGV0YWlsc0RpYWxvZy5tY3UubGFzdF9zdGF0cyA9IHsuLi5tY3UubGFzdF9zdGF0c30KICAgICAgICB0aGlzLm1jdURldGFpbHNEaWFsb2cuYm9vbCA9IHRydWUKICAgIH0KfQo="},{"version":3,"sources":["SystemPanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SystemPanel.vue","sourceRoot":"src/components/panels/Machine","sourcesContent":["<style scoped>\n    .cursor--pointer {\n        cursor: pointer;\n    }\n</style>\n\n<template>\n    <div v-if=\"klipperReadyForGui\">\n        <panel :title=\"$t('Machine.SystemPanel.SystemLoad')\" icon=\"mdi-memory\" card-class=\"machine-systemload-panel\" :collapsible=\"true\">\n            <v-card-text class=\"px-0 py-2\">\n                <div v-for=\"(mcu, index) of mcus\" v-bind:key=\"mcu.name\">\n                    <v-divider class=\"my-2\" v-if=\"index\" ></v-divider>\n                    <v-row class=\"py-0\">\n                        <v-col class=\"pl-6\">\n                            <strong style=\"cursor: pointer;\" @click=\"openMcuDetails(mcu)\">{{ mcu.name }}</strong><small v-if=\"mcu.chip\" class=\"ml-2\">({{ mcu.chip }})</small><br />\n                            {{ $t('Machine.SystemPanel.Version') }}: {{ mcu.version }}<br />\n                            {{ $t('Machine.SystemPanel.Load') }}: {{ mcu.load }},\n                            {{ $t('Machine.SystemPanel.Awake') }}: {{ mcu.awake }}\n                            <span v-if=\"mcu.freq !== null\">, {{ $t('Machine.SystemPanel.Frequency') }}: {{ mcu.freqFormat }}</span>\n                            <template v-if=\"mcu.tempSensor\">\n                                <span>, </span>\n                                <template v-if=\"mcu.tempSensor.measured_min_temp !== null && mcu.tempSensor.measured_max_temp !== null\">\n                                    <v-tooltip top>\n                                        <template v-slot:activator=\"{ on, attrs }\">\n                                            <span v-bind=\"attrs\" v-on=\"on\">Temp: {{ mcu.tempSensor.temperature+\"°C\" }}</span>\n                                        </template>\n                                        <span>\n                                            max: {{ mcu.tempSensor.measured_max_temp }}°C<br />\n                                            min: {{ mcu.tempSensor.measured_min_temp }}°C\n                                        </span>\n                                    </v-tooltip>\n                                </template>\n                                <template v-else>\n                                    Temp: {{ mcu.tempSensor.temperature+\"°C\" }}\n                                </template>\n                            </template>\n                        </v-col>\n                        <v-col class=\"px-6 col-auto d-flex justify-end align-center\">\n                            <v-progress-circular\n                                :rotate=\"-90\"\n                                :size=\"55\"\n                                :width=\"7\"\n                                :value=\"mcu.loadPercent\"\n                                :color=\"mcu.loadProgressColor\"\n                            >\n                                {{ mcu.loadPercent }}\n                            </v-progress-circular>\n                        </v-col>\n                    </v-row>\n                </div>\n                <div v-if=\"hostStats\">\n                    <v-divider class=\"my-2\" v-if=\"mcus.length\" ></v-divider>\n                    <v-row class=\"py-0\">\n                        <v-col class=\"pl-6\">\n                            <strong style=\"cursor: pointer;\" @click=\"hostDetailsDialog.bool = true\">Host</strong>\n                            <v-tooltip top>\n                                <template v-slot:activator=\"{ on, attrs }\">\n                                    <small v-if=\"hostStats.cpuName\" class=\"ml-2\" v-bind=\"attrs\" v-on=\"on\">({{ hostStats.cpuName }})</small>\n                                </template>\n                                <span v-if=\"hostStats.cpuDesc\">{{ hostStats.cpuDesc }}</span>\n                            </v-tooltip>\n                            <br />\n                            <span v-if=\"hostStats.version\">{{ $t('Machine.SystemPanel.Version') }}: {{ hostStats.version }}<br /></span>\n                            <span v-if=\"hostStats.os\">{{ $t('Machine.SystemPanel.Os') }}: {{ hostStats.os }}<br /></span>\n                            <span v-if=\"hostStats.release_info && hostStats.release_info.name !== '0.'\">{{ $t('Machine.SystemPanel.Distro') }}: {{ hostStats.release_info.name }} {{ hostStats.release_info.version_id }} <span v-if=\"hostStats.release_info.codename\">({{ hostStats.release_info.codename }})</span><br /></span>\n                            <span>{{ $t('Machine.SystemPanel.Load') }}: {{ hostStats.load }}</span>\n                            <span v-if=\"hostStats.memoryFormat\">, {{ $t('Machine.SystemPanel.Memory') }}: {{ hostStats.memoryFormat }}</span>\n                            <template v-if=\"hostStats.tempSensor\">\n                                <span>, </span>\n                                <template v-if=\"hostStats.tempSensor.measured_min_temp !== null && hostStats.tempSensor.measured_max_temp !== null\">\n                                    <v-tooltip top>\n                                        <template v-slot:activator=\"{ on, attrs }\">\n                                            <span v-bind=\"attrs\" v-on=\"on\">Temp: {{ hostStats.tempSensor.temperature+\"°C\" }}</span>\n                                        </template>\n                                        <span>\n                                            max: {{ hostStats.tempSensor.measured_max_temp }}°C<br />\n                                            min: {{ hostStats.tempSensor.measured_min_temp }}°C\n                                        </span>\n                                    </v-tooltip>\n                                </template>\n                                <template v-else>\n                                    Temp: {{ hostStats.tempSensor.temperature+\"°C\" }}\n                                </template>\n                            </template>\n                        </v-col>\n                        <v-col class=\"px-6 col-auto d-flex justify-end align-center\">\n                            <v-progress-circular\n                                :rotate=\"-90\"\n                                :size=\"55\"\n                                :width=\"7\"\n                                :value=\"hostStats.loadPercent\"\n                                :color=\"hostStats.loadProgressColor\"\n                            >\n                                {{ hostStats.loadPercent }}\n                            </v-progress-circular>\n                        </v-col>\n                    </v-row>\n                </div>\n            </v-card-text>\n        </panel>\n        <v-dialog v-model=\"mcuDetailsDialog.bool\" :max-width=\"400\" :max-height=\"500\" scrollable>\n            <panel :title=\"mcuDetailsDialog.headline\" icon=\"mdi-text-box-search-outline\" card-class=\"machine-systemload-mcu-details-dialog\" :margin-bottom=\"false\">\n                <template v-slot:buttons>\n                    <v-btn icon tile @click=\"mcuDetailsDialog.bool = false\"><v-icon>mdi-close-thick</v-icon></v-btn>\n                </template>\n                <v-card-text class=\"pt-5 px-0\">\n                    <overlay-scrollbars style=\"height: 350px;\" class=\"px-6\">\n                        <template v-if=\"mcuDetailsDialog.mcu.mcu_constants\">\n                            <v-row>\n                                <v-col><span class=\"headline\">{{ $t('Machine.SystemPanel.Constants') }}</span></v-col>\n                            </v-row>\n                            <div v-for=\"(value, key, index) in mcuDetailsDialog.mcu.mcu_constants\" :key=\"key\">\n                                <v-divider class=\"my-3\" v-if=\"index\"></v-divider>\n                                <v-row>\n                                    <v-col>{{ key }}</v-col>\n                                    <v-col class=\"text-right\">{{ value }}</v-col>\n                                </v-row>\n                            </div>\n                        </template>\n                        <template v-if=\"mcuDetailsDialog.mcu.last_stats\">\n                            <v-row class=\"mt-5\">\n                                <v-col><span class=\"headline\">{{ $t('Machine.SystemPanel.LastStats') }}</span></v-col>\n                            </v-row>\n                            <div v-for=\"(value, key, index) in mcuDetailsDialog.mcu.last_stats\" :key=\"key\">\n                                <v-divider class=\"my-3\" v-if=\"index\"></v-divider>\n                                <v-row>\n                                    <v-col>{{ key }}</v-col>\n                                    <v-col class=\"text-right\">{{ value }}</v-col>\n                                </v-row>\n                            </div>\n                        </template>\n                    </overlay-scrollbars>\n                </v-card-text>\n            </panel>\n        </v-dialog>\n        <v-dialog v-model=\"hostDetailsDialog.bool\" :max-width=\"600\" :max-height=\"500\" scrollable>\n            <panel :title=\"$t('Machine.SystemPanel.HostDetails')\" icon=\"mdi-text-box-search-outline\" card-class=\"machine-systemload-host-details-dialog\" :margin-bottom=\"false\">\n                <template v-slot:buttons>\n                    <v-btn icon tile @click=\"hostDetailsDialog.bool = false\"><v-icon>mdi-close-thick</v-icon></v-btn>\n                </template>\n                <v-card-text class=\"pt-5 px-0\">\n                    <overlay-scrollbars style=\"height: 350px;\" class=\"px-6\">\n                        <template v-if=\"Object.keys(systemInfo).length\">\n                            <div v-for=\"(infoGroup, key, index) of systemInfo\" v-bind:key=\"key\">\n                                <template v-if=\"key !== 'available_services'\">\n                                    <v-row :class=\"index ? 'mt-5' : ''\">\n                                        <v-col><span class=\"headline\">{{ key }}</span></v-col>\n                                    </v-row>\n                                    <div v-for=\"(value, key, index) in infoGroup\" :key=\"key\">\n                                        <v-divider class=\"my-3\" v-if=\"index\"></v-divider>\n                                        <v-row>\n                                            <v-col>{{ key }}</v-col>\n                                            <v-col class=\"text-right\">{{ value }}</v-col>\n                                        </v-row>\n                                    </div>\n                                </template>\n                            </div>\n                        </template>\n                        <template v-else>\n                            <v-row class=\"mt-5\">\n                                <v-col><p>No more Infos</p></v-col>\n                            </v-row>\n                        </template>\n                    </overlay-scrollbars>\n                </v-card-text>\n            </panel>\n        </v-dialog>\n    </div>\n</template>\n\n<script lang=\"ts\">\n\nimport {Component, Mixins} from 'vue-property-decorator'\nimport BaseMixin from '../../mixins/base'\nimport Panel from '@/components/ui/Panel.vue'\nimport {caseInsensitiveSort} from '@/plugins/helpers'\n@Component({\n    components: {Panel}\n})\nexport default class SystemPanel extends Mixins(BaseMixin) {\n\n    private mcuDetailsDialog: { bool: boolean, headline: string, mcu: any } = {\n        bool: false,\n        headline: '',\n        mcu: {\n            mcu_constants: null,\n            last_stats: null,\n        }\n    }\n\n    private hostDetailsDialog: { bool: boolean } = {\n        bool: false,\n    }\n\n    get mcus() {\n        const mcus = this.$store.getters['printer/getMcus'] ?? []\n\n        return caseInsensitiveSort(mcus, 'name')\n    }\n\n    get hostStats() {\n        return this.$store.getters['server/getHostStats'] ?? null\n    }\n\n    get systemInfo() {\n        return this.$store.state.server?.system_info ?? {}\n    }\n\n    openMcuDetails(mcu: any) {\n        this.mcuDetailsDialog.headline = mcu.name\n        this.mcuDetailsDialog.mcu.mcu_constants = {...mcu.mcu_constants}\n        this.mcuDetailsDialog.mcu.last_stats = {...mcu.last_stats}\n        this.mcuDetailsDialog.bool = true\n    }\n}\n</script>"]}]}