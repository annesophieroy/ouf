{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/panels/StatusPanel.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/panels/StatusPanel.vue","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1645990069130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgQ29tcG9uZW50IGZyb20gJ3Z1ZS1jbGFzcy1jb21wb25lbnQnCmltcG9ydCB7IE1peGlucywgV2F0Y2ggfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJwppbXBvcnQgeyB0aHVtYm5haWxTbWFsbE1pbiwgdGh1bWJuYWlsU21hbGxNYXgsIHRodW1ibmFpbEJpZ01pbiB9IGZyb20gJ0Avc3RvcmUvdmFyaWFibGVzJwppbXBvcnQgQmFzZU1peGluIGZyb20gJ0AvY29tcG9uZW50cy9taXhpbnMvYmFzZScKaW1wb3J0IERlcGVuZGVuY2llc1BhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9wYW5lbHMvRGVwZW5kZW5jaWVzUGFuZWwudnVlJwppbXBvcnQgTWluU2V0dGluZ3NQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvcGFuZWxzL01pblNldHRpbmdzUGFuZWwudnVlJwppbXBvcnQgTW9vbnJha2VyU3RhdGVQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvcGFuZWxzL01vb25yYWtlclN0YXRlUGFuZWwudnVlJwppbXBvcnQgS2xpcHB5U3RhdGVQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvcGFuZWxzL0tsaXBweVN0YXRlUGFuZWwudnVlJwppbXBvcnQgS2xpcHBlcldhcm5pbmdzUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL3BhbmVscy9LbGlwcGVyV2FybmluZ3NQYW5lbC52dWUnCmltcG9ydCBTdGF0dXNQYW5lbEV4Y2x1ZGVPYmplY3QgZnJvbSAnQC9jb21wb25lbnRzL3BhbmVscy9TdGF0dXNQYW5lbEV4Y2x1ZGVPYmplY3QudnVlJwppbXBvcnQgUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL3VpL1BhbmVsLnZ1ZScKCkBDb21wb25lbnQoewogICAgY29tcG9uZW50czogewogICAgICAgIERlcGVuZGVuY2llc1BhbmVsLAogICAgICAgIEtsaXBwZXJXYXJuaW5nc1BhbmVsLAogICAgICAgIEtsaXBweVN0YXRlUGFuZWwsCiAgICAgICAgTWluU2V0dGluZ3NQYW5lbCwKICAgICAgICBNb29ucmFrZXJTdGF0ZVBhbmVsLAogICAgICAgIFBhbmVsLAogICAgICAgIFN0YXR1c1BhbmVsRXhjbHVkZU9iamVjdCwKICAgIH0KfSkKZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdHVzUGFuZWwgZXh0ZW5kcyBNaXhpbnMoQmFzZU1peGluKSB7CiAgICBtYXhGbG93ID0gMAogICAgYm9vbFNob3dPYmplY3RzID0gZmFsc2UKCiAgICAkcmVmcyE6IHsKICAgICAgICBiaWdUaHVtYm5haWw6IGFueQogICAgfQoKICAgIGdldCBjdXJyZW50X2ZpbGVuYW1lKCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5wcmludGVyLnByaW50X3N0YXRzPy5maWxlbmFtZSA/PyAnJwogICAgfQoKICAgIGdldCBkaXNwbGF5X21lc3NhZ2UoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnByaW50ZXIuZGlzcGxheV9zdGF0dXM/Lm1lc3NhZ2UgPz8gJycKICAgIH0KCiAgICBnZXQgcHJpbnRfc3RhdHNfbWVzc2FnZSgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucHJpbnRlci5wcmludF9zdGF0cz8ubWVzc2FnZSA/PyAnJwogICAgfQoKICAgIGdldCBwb3NpdGlvbnMoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3ByaW50ZXIvZ2V0UG9zaXRpb25zJ10KICAgIH0KCiAgICBnZXQgY29vcmRpbmF0ZXMoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb25zLmNvb3JkaW5hdGVzID8gdGhpcy4kdCgnUGFuZWxzLlN0YXR1c1BhbmVsLkFic29sdXRlJykgOiB0aGlzLiR0KCdQYW5lbHMuU3RhdHVzUGFuZWwuUmVsYXRpdmUnKQogICAgfQoKICAgIGdldCBmaWxhbWVudF91c2VkKCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5wcmludGVyLnByaW50X3N0YXRzPy5maWxhbWVudF91c2VkID8/IDAKICAgIH0KCiAgICBnZXQgY3VycmVudF9maWxlKCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5wcmludGVyLmN1cnJlbnRfZmlsZSA/PyB7fQogICAgfQoKICAgIGdldCBwcmludF90aW1lKCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5wcmludGVyLnByaW50X3N0YXRzPy5wcmludF9kdXJhdGlvbiA/PyAwCiAgICB9CgogICAgZ2V0IHByaW50X3RpbWVfdG90YWwoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnByaW50ZXIucHJpbnRfc3RhdHM/LnRvdGFsX2R1cmF0aW9uID8/IDAKICAgIH0KCiAgICBnZXQgcHJpbnRQZXJjZW50KCkgewogICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHRoaXMuJHN0b3JlLmdldHRlcnNbJ3ByaW50ZXIvZ2V0UHJpbnRQZXJjZW50J10gKiAxMDApCiAgICB9CgogICAgZ2V0IHByaW50ZXJTdGF0ZU91dHB1dCgpIHsKICAgICAgICBpZiAodGhpcy5wcmludGVyX3N0YXRlICE9PSAnJykgewogICAgICAgICAgICBjb25zdCBpZGxlX3RpbWVvdXRfc3RhdGUgPSB0aGlzLiRzdG9yZS5zdGF0ZS5wcmludGVyLmlkbGVfdGltZW91dD8uc3RhdGUKCiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIHRoaXMucHJpbnRlcl9zdGF0ZSA9PT0gJ3N0YW5kYnknICYmCiAgICAgICAgICAgICAgICBpZGxlX3RpbWVvdXRfc3RhdGUgPT09ICdQcmludGluZycKICAgICAgICAgICAgKSByZXR1cm4gJ0J1c3knCgogICAgICAgICAgICBpZiAodGhpcy5wcmludGVyX3N0YXRlICE9PSAnJyAmJiBbJ3BhdXNlZCcsICdwcmludGluZyddLmluY2x1ZGVzKHRoaXMucHJpbnRlcl9zdGF0ZSkpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByaW50UGVyY2VudCsnJSAnK3RoaXMucHJpbnRlcl9zdGF0ZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHRoaXMucHJpbnRlcl9zdGF0ZS5zbGljZSgxKQogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gdGhpcy5wcmludGVyX3N0YXRlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdGhpcy5wcmludGVyX3N0YXRlLnNsaWNlKDEpCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGhpcy4kdCgnUGFuZWxzLlN0YXR1c1BhbmVsLlVua25vd24nKQogICAgfQoKICAgIGdldCB0b29sYmFyQnV0dG9ucygpIHsKICAgICAgICByZXR1cm4gWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdQYW5lbHMuU3RhdHVzUGFuZWwuUGF1c2VQcmludCcpLAogICAgICAgICAgICAgICAgY29sb3I6ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgIGljb246ICdtZGktcGF1c2UnLAogICAgICAgICAgICAgICAgbG9hZGluZ05hbWU6ICdzdGF0dXNQcmludFBhdXNlJywKICAgICAgICAgICAgICAgIHN0YXR1czogWydwcmludGluZyddLAogICAgICAgICAgICAgICAgY2xpY2s6IHRoaXMuYnRuUGF1c2VKb2IKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnUGFuZWxzLlN0YXR1c1BhbmVsLlJlc3VtZVByaW50JyksCiAgICAgICAgICAgICAgICBjb2xvcjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgaWNvbjogJ21kaS1wbGF5JywKICAgICAgICAgICAgICAgIGxvYWRpbmdOYW1lOiAnc3RhdHVzUHJpbnRSZXN1bWUnLAogICAgICAgICAgICAgICAgc3RhdHVzOiBbJ3BhdXNlZCddLAogICAgICAgICAgICAgICAgY2xpY2s6IHRoaXMuYnRuUmVzdW1lSm9iCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuJHQoJ1BhbmVscy5TdGF0dXNQYW5lbC5DYW5jZWxQcmludCcpLAogICAgICAgICAgICAgICAgY29sb3I6ICdlcnJvcicsCiAgICAgICAgICAgICAgICBpY29uOiAnbWRpLXN0b3AnLAogICAgICAgICAgICAgICAgbG9hZGluZ05hbWU6ICdzdGF0dXNQcmludENhbmNlbCcsCiAgICAgICAgICAgICAgICBzdGF0dXM6IHRoaXMuJHN0b3JlLnN0YXRlLmd1aS51aVNldHRpbmdzLmRpc3BsYXlDYW5jZWxQcmludCA/IFsncGF1c2VkJywgJ3ByaW50aW5nJ10gOiBbJ3BhdXNlZCddLAogICAgICAgICAgICAgICAgY2xpY2s6IHRoaXMuYnRuQ2FuY2VsSm9iCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuJHQoJ1BhbmVscy5TdGF0dXNQYW5lbC5FeGNsdWRlT2JqZWN0LkV4Y2x1ZGVPYmplY3QnKSwKICAgICAgICAgICAgICAgIGNvbG9yOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICBpY29uOiAnbWRpLXNlbGVjdGlvbi1yZW1vdmUnLAogICAgICAgICAgICAgICAgbG9hZGluZ05hbWU6ICcnLAogICAgICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnByaW50aW5nX29iamVjdHMubGVuZ3RoID8gWydwYXVzZWQnLCAncHJpbnRpbmcnXSA6IFtdLAogICAgICAgICAgICAgICAgY2xpY2s6IHRoaXMuYnRuRXhjbHVkZU9iamVjdAogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLiR0KCdQYW5lbHMuU3RhdHVzUGFuZWwuQ2xlYXJQcmludFN0YXRzJyksCiAgICAgICAgICAgICAgICBjb2xvcjogJ3ByaW1hcnknLAogICAgICAgICAgICAgICAgaWNvbjogJ21kaS1icm9vbScsCiAgICAgICAgICAgICAgICBsb2FkaW5nTmFtZTogJ3N0YXR1c1ByaW50Q2xlYXInLAogICAgICAgICAgICAgICAgc3RhdHVzOiBbJ2Vycm9yJywgJ2NvbXBsZXRlJywgJ2NhbmNlbGxlZCddLAogICAgICAgICAgICAgICAgY2xpY2s6IHRoaXMuYnRuQ2xlYXJKb2IKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdGV4dDogdGhpcy4kdCgnUGFuZWxzLlN0YXR1c1BhbmVsLlJlcHJpbnRKb2InKSwKICAgICAgICAgICAgICAgIGNvbG9yOiAncHJpbWFyeScsCiAgICAgICAgICAgICAgICBpY29uOiAnbWRpLXByaW50ZXInLAogICAgICAgICAgICAgICAgbG9hZGluZ05hbWU6ICdzdGF0dXNQcmludFJlcHJpbnQnLAogICAgICAgICAgICAgICAgc3RhdHVzOiBbJ2Vycm9yJywgJ2NvbXBsZXRlJywgJ2NhbmNlbGxlZCddLAogICAgICAgICAgICAgICAgY2xpY2s6IHRoaXMuYnRuUmVwcmludEpvYgogICAgICAgICAgICB9CiAgICAgICAgXQogICAgfQoKICAgIGdldCBmaWx0ZXJlZFRvb2xiYXJCdXR0b25zKCkgewogICAgICAgIHJldHVybiB0aGlzLnRvb2xiYXJCdXR0b25zLmZpbHRlcigoYnV0dG9uKSA9PiB7CiAgICAgICAgICAgIHJldHVybiBidXR0b24uc3RhdHVzLmluY2x1ZGVzKHRoaXMucHJpbnRlcl9zdGF0ZSkKICAgICAgICB9KQogICAgfQoKICAgIGdldCBsaXZlX3ZlbG9jaXR5KCkgewogICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLiRzdG9yZS5zdGF0ZS5wcmludGVyLm1vdGlvbl9yZXBvcnQ/LmxpdmVfdmVsb2NpdHk/LnRvRml4ZWQoMCkpID8/IG51bGwKICAgIH0KCiAgICBnZXQgbGl2ZV9leHRydWRlcl92ZWxvY2l0eSgpIHsKICAgICAgICBjb25zdCBsaXZlX2V4dHJ1ZGVyX3ZlbG9jaXR5ID0gdGhpcy4kc3RvcmUuc3RhdGUucHJpbnRlci5tb3Rpb25fcmVwb3J0Py5saXZlX2V4dHJ1ZGVyX3ZlbG9jaXR5ID8/IG51bGwKICAgICAgICBpZiAobGl2ZV9leHRydWRlcl92ZWxvY2l0eSA9PT0gbnVsbCkgcmV0dXJuIG51bGwKCiAgICAgICAgcmV0dXJuIGxpdmVfZXh0cnVkZXJfdmVsb2NpdHkgPiAwID8gbGl2ZV9leHRydWRlcl92ZWxvY2l0eSA6IDAKICAgIH0KCiAgICBnZXQgbGl2ZV9mbG93KCkgewogICAgICAgIGlmICh0aGlzLmxpdmVfZXh0cnVkZXJfdmVsb2NpdHkgPT09IG51bGwpIHJldHVybiBudWxsCgogICAgICAgIGNvbnN0IGZpbGFtZW50Q3Jvc3NTZWN0aW9uID0gTWF0aC5wb3codGhpcy5maWxhbWVudF9kaWFtZXRlciAvIDIsIDIpICogTWF0aC5QSQogICAgICAgIGNvbnN0IGN1cnJlbnRGbG93ID0gZmlsYW1lbnRDcm9zc1NlY3Rpb24gKiB0aGlzLmxpdmVfZXh0cnVkZXJfdmVsb2NpdHkKCiAgICAgICAgcmV0dXJuIGN1cnJlbnRGbG93Py50b0ZpeGVkKDEpCiAgICB9CgogICAgZ2V0IHJlcXVlc3RlZF9zcGVlZCgpIHsKICAgICAgICBjb25zdCByZXF1ZXN0ZWRfc3BlZWQgPSB0aGlzLiRzdG9yZS5zdGF0ZS5wcmludGVyLmdjb2RlX21vdmU/LnNwZWVkID8/IDAKICAgICAgICBjb25zdCBzcGVlZF9mYWN0b3IgPSB0aGlzLiRzdG9yZS5zdGF0ZS5wcmludGVyLmdjb2RlX21vdmU/LnNwZWVkX2ZhY3RvciA/PyAwCiAgICAgICAgY29uc3QgbWF4X3ZlbG9jaXR5ID0gdGhpcy4kc3RvcmUuc3RhdGUucHJpbnRlci50b29saGVhZD8ubWF4X3ZlbG9jaXR5ID8/IDAKCiAgICAgICAgY29uc3Qgc3BlZWQgPSByZXF1ZXN0ZWRfc3BlZWQgLyA2MCAqIHNwZWVkX2ZhY3RvcgogICAgICAgIGlmIChzcGVlZCA+IG1heF92ZWxvY2l0eSkgcmV0dXJuIG1heF92ZWxvY2l0eQoKICAgICAgICByZXR1cm4gc3BlZWQudG9GaXhlZCgwKQogICAgfQoKICAgIGdldCBtYXhfbGF5ZXJzKCkgewogICAgICAgIGlmICgKICAgICAgICAgICAgJ2ZpcnN0X2xheWVyX2hlaWdodCcgaW4gdGhpcy5jdXJyZW50X2ZpbGUgJiYKICAgICAgICAgICAgJ2xheWVyX2hlaWdodCcgaW4gdGhpcy5jdXJyZW50X2ZpbGUgJiYKICAgICAgICAgICAgJ29iamVjdF9oZWlnaHQnIGluIHRoaXMuY3VycmVudF9maWxlCiAgICAgICAgKSB7CiAgICAgICAgICAgIGNvbnN0IG1heCA9IE1hdGguY2VpbCgodGhpcy5jdXJyZW50X2ZpbGUub2JqZWN0X2hlaWdodCAtIHRoaXMuY3VycmVudF9maWxlLmZpcnN0X2xheWVyX2hlaWdodCkgLyB0aGlzLmN1cnJlbnRfZmlsZS5sYXllcl9oZWlnaHQgKyAxKQogICAgICAgICAgICByZXR1cm4gbWF4ID4gMCA/IG1heCA6IDAKICAgICAgICB9CgogICAgICAgIHJldHVybiAwCiAgICB9CgogICAgZ2V0IGN1cnJlbnRfbGF5ZXIoKSB7CiAgICAgICAgaWYgKAogICAgICAgICAgICB0aGlzLnByaW50X3RpbWUgPiAwICYmCiAgICAgICAgICAgICdmaXJzdF9sYXllcl9oZWlnaHQnIGluIHRoaXMuY3VycmVudF9maWxlICYmCiAgICAgICAgICAgICdsYXllcl9oZWlnaHQnIGluIHRoaXMuY3VycmVudF9maWxlCiAgICAgICAgKSB7CiAgICAgICAgICAgIGxldCBjdXJyZW50X2xheWVyID0gTWF0aC5jZWlsKCh0aGlzLnBvc2l0aW9ucy5nY29kZV96IC0gdGhpcy5jdXJyZW50X2ZpbGUuZmlyc3RfbGF5ZXJfaGVpZ2h0KSAvIHRoaXMuY3VycmVudF9maWxlLmxheWVyX2hlaWdodCArIDEpCiAgICAgICAgICAgIGN1cnJlbnRfbGF5ZXIgPSAoY3VycmVudF9sYXllciA8PSB0aGlzLm1heF9sYXllcnMpID8gY3VycmVudF9sYXllciA6IHRoaXMubWF4X2xheWVycwoKICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRfbGF5ZXIgPiAwID8gY3VycmVudF9sYXllciA6IDAKICAgICAgICB9CgogICAgICAgIHJldHVybiAwCiAgICB9CgogICAgZ2V0IGVzdGltYXRlZF90aW1lX2ZpbGUoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3ByaW50ZXIvZ2V0RXN0aW1hdGVkVGltZUZpbGUnXQogICAgfQoKICAgIGdldCBlc3RpbWF0ZWRfdGltZV9maWxhbWVudCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1sncHJpbnRlci9nZXRFc3RpbWF0ZWRUaW1lRmlsYW1lbnQnXQogICAgfQoKICAgIGdldCBlc3RpbWF0ZWRfdGltZV9zbGljZXIoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3ByaW50ZXIvZ2V0RXN0aW1hdGVkVGltZVNsaWNlciddCiAgICB9CgogICAgZ2V0IGVzdGltYXRlZF90aW1lX2F2ZygpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1sncHJpbnRlci9nZXRFc3RpbWF0ZWRUaW1lQXZnJ10KICAgIH0KCiAgICBnZXQgZXRhKCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydwcmludGVyL2dldEVzdGltYXRlZFRpbWVFVEEnXQogICAgfQoKICAgIGdldCBmaWxhbWVudF9kaWFtZXRlcigpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucHJpbnRlci5jb25maWdmaWxlPy5zZXR0aW5ncz8uZXh0cnVkZXI/LmZpbGFtZW50X2RpYW1ldGVyID8/IDEuNzUKICAgIH0KCiAgICBnZXQgdGh1bWJuYWlsU21hbGwoKSB7CiAgICAgICAgaWYgKAogICAgICAgICAgICAndGh1bWJuYWlscycgaW4gdGhpcy5jdXJyZW50X2ZpbGUgJiYKICAgICAgICAgICAgdGhpcy5jdXJyZW50X2ZpbGUudGh1bWJuYWlscy5sZW5ndGgKICAgICAgICApIHsKICAgICAgICAgICAgY29uc3QgdGh1bWJuYWlsID0gdGhpcy5jdXJyZW50X2ZpbGUudGh1bWJuYWlscy5maW5kKCh0aHVtYjogYW55KSA9PgogICAgICAgICAgICAgICAgdGh1bWIud2lkdGggPj0gdGh1bWJuYWlsU21hbGxNaW4gJiYgdGh1bWIud2lkdGggPD0gdGh1bWJuYWlsU21hbGxNYXggJiYKICAgICAgICAgICAgICAgIHRodW1iLmhlaWdodCA+PSB0aHVtYm5haWxTbWFsbE1pbiAmJiB0aHVtYi5oZWlnaHQgPD0gdGh1bWJuYWlsU21hbGxNYXgKICAgICAgICAgICAgKQoKICAgICAgICAgICAgaWYgKHRodW1ibmFpbCAmJiAncmVsYXRpdmVfcGF0aCcgaW4gdGh1bWJuYWlsKSB7CiAgICAgICAgICAgICAgICBsZXQgcmVsYXRpdmVfdXJsID0gJycKICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRfZmlsZS5maWxlbmFtZS5sYXN0SW5kZXhPZignLycpICE9PSAtMSkgewogICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlX3VybCA9IHRoaXMuY3VycmVudF9maWxlLmZpbGVuYW1lLnN1YnN0cigwLCB0aGlzLmN1cnJlbnRfZmlsZS5maWxlbmFtZS5sYXN0SW5kZXhPZignLycpKzEpCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHRodW1ibmFpbCAmJiAncmVsYXRpdmVfcGF0aCcgaW4gdGh1bWJuYWlsKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuYXBpVXJsfS9zZXJ2ZXIvZmlsZXMvZ2NvZGVzLyR7ZW5jb2RlVVJJKHJlbGF0aXZlX3VybCt0aHVtYm5haWwucmVsYXRpdmVfcGF0aCl9P3RpbWVzdGFtcD0ke3RoaXMuY3VycmVudF9maWxlLm1vZGlmaWVkfWAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICcnCiAgICB9CgogICAgZ2V0IHRodW1ibmFpbEJpZygpIHsKICAgICAgICBpZiAoCiAgICAgICAgICAgICd0aHVtYm5haWxzJyBpbiB0aGlzLmN1cnJlbnRfZmlsZSAmJgogICAgICAgICAgICB0aGlzLmN1cnJlbnRfZmlsZS50aHVtYm5haWxzLmxlbmd0aAogICAgICAgICkgewogICAgICAgICAgICBjb25zdCB0aHVtYm5haWwgPSB0aGlzLmN1cnJlbnRfZmlsZS50aHVtYm5haWxzLmZpbmQoKHRodW1iOiBhbnkpID0+IHRodW1iLndpZHRoID49IHRodW1ibmFpbEJpZ01pbikKCiAgICAgICAgICAgIGlmICh0aHVtYm5haWwgJiYgJ3JlbGF0aXZlX3BhdGgnIGluIHRodW1ibmFpbCkgewogICAgICAgICAgICAgICAgbGV0IHJlbGF0aXZlX3VybCA9ICcnCiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50X2ZpbGUuZmlsZW5hbWUubGFzdEluZGV4T2YoJy8nKSAhPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZV91cmwgPSB0aGlzLmN1cnJlbnRfZmlsZS5maWxlbmFtZS5zdWJzdHIoMCwgdGhpcy5jdXJyZW50X2ZpbGUuZmlsZW5hbWUubGFzdEluZGV4T2YoJy8nKSsxKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICh0aHVtYm5haWwgJiYgJ3JlbGF0aXZlX3BhdGgnIGluIHRodW1ibmFpbCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBgJHt0aGlzLmFwaVVybH0vc2VydmVyL2ZpbGVzL2djb2Rlcy8ke2VuY29kZVVSSShyZWxhdGl2ZV91cmwrdGh1bWJuYWlsLnJlbGF0aXZlX3BhdGgpfT90aW1lc3RhbXA9JHt0aGlzLmN1cnJlbnRfZmlsZS5tb2RpZmllZH1gCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiAnJwogICAgfQoKICAgIGdldCB0aHVtYm5haWxCaWdIZWlnaHQoKSB7CiAgICAgICAgaWYgKAogICAgICAgICAgICAndGh1bWJuYWlscycgaW4gdGhpcy5jdXJyZW50X2ZpbGUgJiYKICAgICAgICAgICAgdGhpcy5jdXJyZW50X2ZpbGUudGh1bWJuYWlscy5sZW5ndGgKICAgICAgICApIHsKICAgICAgICAgICAgY29uc3QgdGh1bWJuYWlsID0gdGhpcy5jdXJyZW50X2ZpbGUudGh1bWJuYWlscy5maW5kKCh0aHVtYjogYW55KSA9PiB0aHVtYi53aWR0aCA+PSB0aHVtYm5haWxCaWdNaW4pCgogICAgICAgICAgICBpZiAodGh1bWJuYWlsICYmICdoZWlnaHQnIGluIHRodW1ibmFpbCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRodW1ibmFpbC5oZWlnaHQKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIDIwMAogICAgfQoKICAgIGdldCB0aHVtYm5haWxCaWdXaWR0aCgpIHsKICAgICAgICBpZiAoCiAgICAgICAgICAgICd0aHVtYm5haWxzJyBpbiB0aGlzLmN1cnJlbnRfZmlsZSAmJgogICAgICAgICAgICB0aGlzLmN1cnJlbnRfZmlsZS50aHVtYm5haWxzLmxlbmd0aAogICAgICAgICkgewogICAgICAgICAgICBjb25zdCB0aHVtYm5haWwgPSB0aGlzLmN1cnJlbnRfZmlsZS50aHVtYm5haWxzLmZpbmQoKHRodW1iOiBhbnkpID0+IHRodW1iLndpZHRoID49IHRodW1ibmFpbEJpZ01pbikKCiAgICAgICAgICAgIGlmICh0aHVtYm5haWwgJiYgJ3dpZHRoJyBpbiB0aHVtYm5haWwpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aHVtYm5haWwud2lkdGgKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIDMwMAogICAgfQoKICAgIGdldCBib29sQmlnVGh1bWJuYWlsKCkgewogICAgICAgIGNvbnN0IHNldHRpbmcgPSB0aGlzLiRzdG9yZS5zdGF0ZS5ndWkudWlTZXR0aW5ncy5ib29sQmlnVGh1bWJuYWlsID8/IHRydWUKCiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudF9maWxlbmFtZSAmJiBzZXR0aW5nICYmIHRoaXMudGh1bWJuYWlsQmlnCiAgICB9CgogICAgZ2V0IHByaW50aW5nX29iamVjdHMoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnByaW50ZXIuZXhjbHVkZV9vYmplY3Q/Lm9iamVjdHMgPz8gW10KICAgIH0KCiAgICB1cGRhdGVTaG93RGlhbG9nKG5ld1ZhbDogYm9vbGVhbikgewogICAgICAgIHRoaXMuYm9vbFNob3dPYmplY3RzID0gbmV3VmFsCiAgICB9CgogICAgYnRuUGF1c2VKb2IoKSB7CiAgICAgICAgdGhpcy4kc29ja2V0LmVtaXQoJ3ByaW50ZXIucHJpbnQucGF1c2UnLCB7IH0sIHsgbG9hZGluZzogJ3N0YXR1c1ByaW50UGF1c2UnIH0pCiAgICB9CgogICAgYnRuUmVzdW1lSm9iKCkgewogICAgICAgIHRoaXMuJHNvY2tldC5lbWl0KCdwcmludGVyLnByaW50LnJlc3VtZScsIHsgfSwgeyBsb2FkaW5nOiAnc3RhdHVzUHJpbnRSZXN1bWUnIH0pCiAgICB9CgogICAgYnRuRXhjbHVkZU9iamVjdCgpIHsKICAgICAgICB0aGlzLmJvb2xTaG93T2JqZWN0cyA9IHRydWUKICAgIH0KCiAgICBidG5DYW5jZWxKb2IoKSB7CiAgICAgICAgdGhpcy4kc29ja2V0LmVtaXQoJ3ByaW50ZXIucHJpbnQuY2FuY2VsJywgeyB9LCB7IGxvYWRpbmc6ICdzdGF0dXNQcmludENhbmNlbCcgfSkKICAgIH0KCiAgICBidG5DbGVhckpvYigpIHsKICAgICAgICB0aGlzLiRzb2NrZXQuZW1pdCgncHJpbnRlci5nY29kZS5zY3JpcHQnLCB7c2NyaXB0OiAnU0RDQVJEX1JFU0VUX0ZJTEUnfSwgeyBsb2FkaW5nOiAnc3RhdHVzUHJpbnRDbGVhcicgfSkKICAgIH0KCiAgICBidG5SZXByaW50Sm9iKCkgewogICAgICAgIHRoaXMuJHNvY2tldC5lbWl0KCdwcmludGVyLnByaW50LnN0YXJ0JywgeyBmaWxlbmFtZTogdGhpcy5jdXJyZW50X2ZpbGVuYW1lIH0sIHsgbG9hZGluZzogJ3N0YXR1c1ByaW50UmVwcmludCcgfSkKICAgIH0KCiAgICBjbGVhckRpc3BsYXlNZXNzYWdlKCkgewogICAgICAgIHRoaXMuJHNvY2tldC5lbWl0KCdwcmludGVyLmdjb2RlLnNjcmlwdCcsIHtzY3JpcHQ6ICdNMTE3J30pCiAgICB9CgogICAgZm9ybWF0VGltZShzZWNvbmRzOiBudW1iZXIpIHsKICAgICAgICBsZXQgaCA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDM2MDApCiAgICAgICAgc2Vjb25kcyAlPSAzNjAwCiAgICAgICAgbGV0IG0gPSAoJzAnICsgTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApKS5zbGljZSgtMikKICAgICAgICBsZXQgcyA9ICgnMCcgKyAoc2Vjb25kcyAlIDYwKS50b0ZpeGVkKDApKS5zbGljZSgtMikKCiAgICAgICAgcmV0dXJuIGgrJzonK20rJzonK3MKICAgIH0KCiAgICBmb3JtYXREYXRlVGltZShtc2VjOiBudW1iZXIpIHsKICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUobXNlYykKICAgICAgICBjb25zdCBoID0gZGF0ZS5nZXRIb3VycygpID49IDEwID8gZGF0ZS5nZXRIb3VycygpIDogJzAnK2RhdGUuZ2V0SG91cnMoKQogICAgICAgIGNvbnN0IG0gPSBkYXRlLmdldE1pbnV0ZXMoKSA+PSAxMCA/IGRhdGUuZ2V0TWludXRlcygpIDogJzAnK2RhdGUuZ2V0TWludXRlcygpCgogICAgICAgIGNvbnN0IGRpZmYgPSBtc2VjIC0gbmV3IERhdGUoKS5nZXRUaW1lKCkKICAgICAgICByZXR1cm4gaCsnOicrbSsoKGRpZmYgPiA2MCo2MCoyNCoxMDAwKSA/ICcrJytNYXRoLnJvdW5kKGRpZmYgLyAoNjAqNjAqMjQqMTAwMCkpIDogJycpCiAgICB9CgogICAgQFdhdGNoKCdsaXZlX2Zsb3cnKQogICAgbGl2ZV9mbG93Q2hhbmdlZChuZXdWYWw6IG51bWJlcikgewogICAgICAgIGlmIChuZXdWYWwgJiYgdGhpcy5tYXhGbG93IDwgbmV3VmFsKSB0aGlzLm1heEZsb3cgPSBuZXdWYWwKICAgIH0KCiAgICBmb2N1c0JpZ1RodW1ibmFpbCgpIHsKICAgICAgICBpZiAodGhpcy4kcmVmcy5iaWdUaHVtYm5haWwpIHsKICAgICAgICAgICAgY29uc3QgY2xpZW50V2lkdGggPSB0aGlzLiRyZWZzLmJpZ1RodW1ibmFpbC4kZWwuY2xpZW50V2lkdGgKICAgICAgICAgICAgY29uc3QgdGh1bWJuYWlsV2lkdGggPSB0aGlzLnRodW1ibmFpbEJpZ1dpZHRoCiAgICAgICAgICAgIGNvbnN0IGZhY3RvciA9IGNsaWVudFdpZHRoIC8gdGh1bWJuYWlsV2lkdGgKCiAgICAgICAgICAgIHRoaXMuJHJlZnMuYmlnVGh1bWJuYWlsLiRlbC5zdHlsZS5oZWlnaHQgPSAodGhpcy50aHVtYm5haWxCaWdIZWlnaHQgKiBmYWN0b3IpLnRvRml4ZWQoKSsncHgnCiAgICAgICAgfQogICAgfQoKICAgIGJsdXJCaWdUaHVtYm5haWwoKSB7CiAgICAgICAgaWYgKHRoaXMuJHJlZnMuYmlnVGh1bWJuYWlsKSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMuYmlnVGh1bWJuYWlsLiRlbC5zdHlsZS5oZWlnaHQgPSAnMjAwcHgnCiAgICAgICAgfQogICAgfQoKICAgIG9uUmVzaXplKCkgewogICAgICAgIGNvbnN0IGlzRm9jdXNlZCA9IChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSB0aGlzLiRyZWZzLmJpZ1RodW1ibmFpbD8uJGVsKQogICAgICAgIGlmIChpc0ZvY3VzZWQpIHRoaXMuZm9jdXNCaWdUaHVtYm5haWwoKQogICAgfQoKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUpCiAgICB9CgogICAgZGVzdHJveWVkKCkgewogICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplKQogICAgfQp9Cg=="},{"version":3,"sources":["StatusPanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"StatusPanel.vue","sourceRoot":"src/components/panels","sourcesContent":["<style lang=\"scss\" scoped>\n    .statusPanel-big-thumbnail {\n        transition: height 0.25s ease-out;\n    }\n</style>\n\n<template>\n    <div>\n        <dependencies-panel></dependencies-panel>\n        <min-settings-panel></min-settings-panel>\n        <moonraker-state-panel></moonraker-state-panel>\n        <klippy-state-panel></klippy-state-panel>\n        <klipper-warnings-panel></klipper-warnings-panel>\n        <panel\n            v-if=\"klipperState === 'ready'\"\n            icon=\"mdi-information\"\n            :title=\"printerStateOutput\"\n            :collapsible=\"true\"\n            card-class=\"status-panel\"\n        >\n            <template v-slot:icon>\n                <v-progress-circular\n                    :rotate=\"-90\"\n                    :size=\"30\"\n                    :width=\"5\"\n                    :value=\"printPercent\"\n                    color=\"primary\"\n                    class=\"mr-3\"\n                    v-if=\"['paused', 'printing'].includes(printer_state)\"\n                >\n                </v-progress-circular>\n            </template>\n            <template v-slot:buttons >\n                <v-btn\n                    v-for=\"button in filteredToolbarButtons\"\n                    v-bind:key=\"button.loadingName\"\n                    :color=\"button.color\"\n                    @click=\"button.click\"\n                    :loading=\"loadings.includes(button.loadingName)\"\n                    icon\n                    tile\n                >\n                    <v-tooltip top>\n                        <template v-slot:activator=\"{ on, attrs }\">\n                            <v-icon v-bind=\"attrs\" v-on=\"on\">{{ button.icon }}</v-icon>\n                        </template>\n                        <span>{{ button.text }}</span>\n                    </v-tooltip>\n                </v-btn>\n            </template>\n            <v-card-text class=\"px-0 py-0 content\">\n                <template v-if=\"boolBigThumbnail\">\n                    <v-img\n                        :src=\"thumbnailBig\"\n                        tabindex=\"-1\"\n                        class=\"d-flex align-end statusPanel-big-thumbnail\"\n                        ref=\"bigThumbnail\"\n                        height=\"200\"\n                        @focus=\"focusBigThumbnail\"\n                        @blur=\"blurBigThumbnail\"\n                    >\n                        <v-card-title class=\"white--text py-2 px-2\" style=\"background-color: rgba(0,0,0,0.3); backdrop-filter: blur(3px);\">\n                            <v-row>\n                                <v-col style=\"width: 100px\">\n                                    <span class=\"subtitle-2 text-truncate px-0 text--disabled d-block\"><v-icon small class=\"mr-2\">mdi-file-outline</v-icon>{{ current_filename }}</span>\n                                </v-col>\n                            </v-row>\n                        </v-card-title>\n                    </v-img>\n                </template>\n                <status-panel-exclude-object\n                    :show-dialog.sync=\"boolShowObjects\"\n                    @update:showDialog=\"updateShowDialog\"\n                ></status-panel-exclude-object>\n                <template v-if=\"display_message || print_stats_message\">\n                    <v-container>\n                        <v-row>\n                            <v-col class=\"py-2\">\n                                <span class=\"subtitle-2 d-block px-0 text--disabled\"><v-icon class=\"mr-2\" small>mdi-message-processing-outline</v-icon>{{ print_stats_message ? print_stats_message : display_message }}</span>\n                            </v-col>\n                            <v-col class=\"col-auto py-2\">\n                                <v-icon class=\"text--disabled cursor-pointer\" @click=\"clearDisplayMessage\" small>mdi-close-circle</v-icon>\n                            </v-col>\n                        </v-row>\n                    </v-container>\n                    <v-divider class=\"mt-0 mb-0\" ></v-divider>\n                </template>\n                <template v-if=\"current_filename && !boolBigThumbnail\">\n                    <v-container>\n                        <v-row>\n                            <v-col :class=\"thumbnailSmall ? 'py-3' : 'py-2'\" :style=\"(thumbnailSmall ? 'width: calc(100% - 40px);' : '')\">\n                                <span class=\"subtitle-2 text-truncate d-block px-0 text--disabled\"><v-icon small class=\"mr-2\">mdi-file-outline</v-icon>{{ current_filename }}</span>\n                            </v-col>\n                            <v-col class=\"pa-2 pl-0 col-auto\" v-if=\"thumbnailSmall\">\n                                <template v-if=\"thumbnailSmall && thumbnailBig\">\n                                    <v-tooltip top content-class=\"tooltip__content-opacity1\">\n                                        <template v-slot:activator=\"{ on, attrs }\">\n                                            <vue-load-image class=\"d-flex\">\n                                                <img slot=\"image\" :src=\"thumbnailSmall\" width=\"32\" height=\"32\" v-bind=\"attrs\" v-on=\"on\" />\n                                                <v-progress-circular slot=\"preloader\" indeterminate color=\"primary\"></v-progress-circular>\n                                                <v-icon slot=\"error\">mdi-file</v-icon>\n                                            </vue-load-image>\n                                        </template>\n                                        <span><img :src=\"thumbnailBig\" width=\"250\" /></span>\n                                    </v-tooltip>\n                                </template>\n                                <template v-else-if=\"thumbnailSmall\">\n                                    <vue-load-image>\n                                        <img slot=\"image\" :src=\"thumbnailSmall\" width=\"32\" height=\"32\" />\n                                        <v-progress-circular slot=\"preloader\" indeterminate color=\"primary\"></v-progress-circular>\n                                        <v-icon slot=\"error\">mdi-file</v-icon>\n                                    </vue-load-image>\n                                </template>\n                            </v-col>\n                        </v-row>\n                    </v-container>\n                    <v-divider class=\"mt-0 mb-0\" ></v-divider>\n                </template>\n                <v-container class=\"py-0\">\n                    <v-row :class=\"'text-center '+(!['printing', 'paused', 'error', 'complete', 'cancelled'].includes(printer_state) ? 'pt-5 pb-2 mb-0' : 'py-5')\" align=\"center\">\n                        <v-col class=\"col-3 pa-0\">\n                            <strong>{{ $t(\"Panels.StatusPanel.Position\") }}</strong><br />\n                            {{ coordinates }}\n                        </v-col>\n                        <v-col class=\"col-3 pa-0\">\n                            <strong>{{ $t(\"Panels.StatusPanel.X\") }}</strong><br />\n                            {{ positions.x }}\n                        </v-col>\n                        <v-col class=\"col-3 pa-0\">\n                            <strong>{{ $t(\"Panels.StatusPanel.Y\") }}</strong><br />\n                            {{ positions.y }}\n                        </v-col>\n                        <v-col class=\"col-3 pa-0\">\n                            <v-tooltip top>\n                                <template v-slot:activator=\"{ on, attrs }\">\n                                    <div v-bind=\"attrs\" v-on=\"on\" class=\"text-center\">\n                                        <strong>{{ $t(\"Panels.StatusPanel.Z\") }}</strong><br />\n                                        {{ positions.z }}\n                                    </div>\n                                </template>\n                                <span>G-Code: {{ positions.gcode_z }}mm</span>\n                            </v-tooltip>\n                        </v-col>\n                    </v-row>\n                </v-container>\n                <template v-if=\"['printing', 'paused', 'error', 'cancelled'].includes(printer_state)\">\n                    <v-divider class=\"my-0\"></v-divider>\n                    <v-container class=\"py-0\">\n                        <v-row class=\"text-center py-5\" align=\"center\">\n                            <v-col class=\"col-3 pa-0\">\n                                <template v-if=\"live_velocity !== null\">\n                                    <v-tooltip top>\n                                        <template v-slot:activator=\"{ on, attrs }\">\n                                            <div v-bind=\"attrs\" v-on=\"on\">\n                                                <strong>{{ $t(\"Panels.StatusPanel.Speed\") }}</strong><br />\n                                                <span class=\"text-no-wrap\">{{ live_velocity }} mm/s</span>\n                                            </div>\n                                        </template>\n                                        <span>{{ $t(\"Panels.StatusPanel.Requested\") }}: {{ requested_speed+\" mm/s\" }}</span>\n                                    </v-tooltip>\n                                </template>\n                                <template v-else>\n                                    <strong>{{ $t(\"Panels.StatusPanel.Speed\") }}</strong><br />\n                                    <span class=\"text-no-wrap\">{{ requested_speed }} mm/s</span>\n                                </template>\n                            </v-col>\n                            <v-col class=\"col-3 pa-0\">\n                                <v-tooltip top>\n                                    <template v-slot:activator=\"{ on, attrs }\">\n                                        <div v-bind=\"attrs\" v-on=\"on\">\n                                            <strong>{{ $t(\"Panels.StatusPanel.Flow\") }}</strong><br />\n                                            <span class=\"d-block text-center text-no-wrap\">{{ live_flow+\" mm&sup3;/s\" }}</span>\n                                        </div>\n                                    </template>\n                                    <span>{{ $t(\"Panels.StatusPanel.Max\") }}: {{ maxFlow ? maxFlow+\" mm&sup3;/s\" : \"--\" }}</span>\n                                </v-tooltip>\n                            </v-col>\n                            <v-col class=\"col-3 pa-0\">\n                                <v-tooltip top>\n                                    <template v-slot:activator=\"{ on, attrs }\">\n                                        <div v-bind=\"attrs\" v-on=\"on\">\n                                            <strong>{{ $t(\"Panels.StatusPanel.Filament\") }}</strong><br />\n                                            <span class=\"d-block text-center text-no-wrap\">{{ filament_used >= 1000 ? (filament_used / 1000).toFixed(2)+\" m\" : filament_used.toFixed(2)+\" mm\" }}</span>\n                                        </div>\n                                    </template>\n                                    <span v-if=\"'filament_total' in current_file\">{{ (filament_used / 1000).toFixed(2) }} / {{ (current_file.filament_total / 1000).toFixed(2) }} m = {{ ( 100 / current_file.filament_total * filament_used).toFixed(0) }} % </span>\n                                </v-tooltip>\n                            </v-col>\n                            <v-col class=\"col-3 pa-0 text-center\">\n                                <v-tooltip top>\n                                    <template v-slot:activator=\"{ on, attrs }\">\n                                        <div v-bind=\"attrs\" v-on=\"on\" class=\"text-center\">\n                                            <strong>{{ $t(\"Panels.StatusPanel.Layer\") }}</strong><br />\n                                            <span class=\"text-no-wrap\">{{ current_layer }} of {{ max_layers }}</span>\n                                        </div>\n                                    </template>\n                                    <span v-if=\"'object_height' in current_file && current_file.object_height > 0\">{{ $t(\"Panels.StatusPanel.ObjectHeight\") }}: {{ current_file.object_height }} mm</span>\n                                </v-tooltip>\n                            </v-col>\n                        </v-row>\n                    </v-container>\n                    <v-divider class=\"my-0\"></v-divider>\n                    <v-container class=\"py-0\">\n                        <v-row class=\"text-center pt-5 pb-2 mb-0\" align=\"center\">\n                            <v-col class=\"col-3 pa-0\">\n                                <v-tooltip top>\n                                    <template v-slot:activator=\"{ on, attrs }\">\n                                        <div v-bind=\"attrs\" v-on=\"on\" class=\"text-center\">\n                                            <strong>{{ $t(\"Panels.StatusPanel.Estimate\") }}</strong><br />\n                                            <span class=\"text-no-wrap\">{{ estimated_time_avg ? formatTime(estimated_time_avg) : '--' }}</span>\n                                        </div>\n                                    </template>\n                                    <div class=\"text-right\">\n                                        {{ $t(\"Panels.StatusPanel.File\") }}: {{ estimated_time_file ? formatTime(estimated_time_file) : '--' }}<br />\n                                        {{ $t(\"Panels.StatusPanel.Filament\") }}: {{ estimated_time_filament ? formatTime(estimated_time_filament) : '--' }}\n                                    </div>\n                                </v-tooltip>\n                            </v-col>\n                            <v-col class=\"col-3 pa-0\">\n                                <strong>{{ $t(\"Panels.StatusPanel.Slicer\") }}</strong><br />\n                                <span class=\"text-no-wrap\">{{ estimated_time_slicer ? formatTime(estimated_time_slicer) : '--' }}</span>\n                            </v-col>\n                            <v-col class=\"col-3 pa-0\">\n                                <v-tooltip top>\n                                    <template v-slot:activator=\"{ on, attrs }\">\n                                        <div v-bind=\"attrs\" v-on=\"on\" class=\"text-center\">\n                                            <strong>{{ $t(\"Panels.StatusPanel.Total\") }}</strong><br />\n                                            <span class=\"text-no-wrap\">{{ print_time_total ? formatTime(print_time_total) : '--' }}</span>\n                                        </div>\n                                    </template>\n                                    <div class=\"text-right\">\n                                        {{ $t(\"Panels.StatusPanel.Print\") }}: {{ print_time ? formatTime(print_time) : '--' }}<br />\n                                        {{ $t(\"Panels.StatusPanel.Difference\") }}: {{ print_time && print_time_total ? formatTime(print_time_total - print_time) : '--' }}\n                                    </div>\n                                </v-tooltip>\n                            </v-col>\n                            <v-col class=\"col-3 pa-0\">\n                                <strong>{{ $t(\"Panels.StatusPanel.ETA\") }}</strong><br />\n                                <span class=\"text-no-wrap\">{{ eta ? formatDateTime(eta) : '--' }}</span>\n                            </v-col>\n                        </v-row>\n                    </v-container>\n                </template>\n                <template v-if=\"['complete'].includes(printer_state)\">\n                    <v-divider class=\"my-0\"></v-divider>\n                    <v-container class=\"py-0\">\n                        <v-row class=\"text-center pt-5 pb-2 mb-0\" align=\"center\">\n                            <v-col class=\"col-3 pa-0\">\n                                <strong>{{ $t(\"Panels.StatusPanel.Filament\") }}</strong><br />\n                                <span class=\"text-no-wrap\">{{ filament_used >= 1000 ? (filament_used / 1000).toFixed(2)+\" m\" : filament_used.toFixed(2)+\" mm\" }}</span>\n                            </v-col>\n                            <v-col class=\"col-3 pa-0\">\n                                <strong>{{ $t(\"Panels.StatusPanel.Slicer\") }}</strong><br />\n                                <span class=\"text-no-wrap\">{{ 'estimated_time' in current_file ? formatTime(current_file.estimated_time) : '--' }}</span>\n                            </v-col>\n                            <v-col class=\"col-3 pa-0\">\n                                <strong>{{ $t(\"Panels.StatusPanel.Print\") }}</strong><br />\n                                <span class=\"text-no-wrap\">{{ print_time ? formatTime(print_time) : '--' }}</span>\n                            </v-col>\n                            <v-col class=\"col-3 pa-0\">\n                                <strong>{{ $t(\"Panels.StatusPanel.Total\") }}</strong><br />\n                                <span class=\"text-no-wrap\">{{ print_time_total ? formatTime(print_time_total) : '--' }}</span>\n                            </v-col>\n                        </v-row>\n                    </v-container>\n                </template>\n            </v-card-text>\n        </panel>\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport Component from 'vue-class-component'\nimport { Mixins, Watch } from 'vue-property-decorator'\nimport { thumbnailSmallMin, thumbnailSmallMax, thumbnailBigMin } from '@/store/variables'\nimport BaseMixin from '@/components/mixins/base'\nimport DependenciesPanel from '@/components/panels/DependenciesPanel.vue'\nimport MinSettingsPanel from '@/components/panels/MinSettingsPanel.vue'\nimport MoonrakerStatePanel from '@/components/panels/MoonrakerStatePanel.vue'\nimport KlippyStatePanel from '@/components/panels/KlippyStatePanel.vue'\nimport KlipperWarningsPanel from '@/components/panels/KlipperWarningsPanel.vue'\nimport StatusPanelExcludeObject from '@/components/panels/StatusPanelExcludeObject.vue'\nimport Panel from '@/components/ui/Panel.vue'\n\n@Component({\n    components: {\n        DependenciesPanel,\n        KlipperWarningsPanel,\n        KlippyStatePanel,\n        MinSettingsPanel,\n        MoonrakerStatePanel,\n        Panel,\n        StatusPanelExcludeObject,\n    }\n})\nexport default class StatusPanel extends Mixins(BaseMixin) {\n    maxFlow = 0\n    boolShowObjects = false\n\n    $refs!: {\n        bigThumbnail: any\n    }\n\n    get current_filename() {\n        return this.$store.state.printer.print_stats?.filename ?? ''\n    }\n\n    get display_message() {\n        return this.$store.state.printer.display_status?.message ?? ''\n    }\n\n    get print_stats_message() {\n        return this.$store.state.printer.print_stats?.message ?? ''\n    }\n\n    get positions() {\n        return this.$store.getters['printer/getPositions']\n    }\n\n    get coordinates() {\n        return this.positions.coordinates ? this.$t('Panels.StatusPanel.Absolute') : this.$t('Panels.StatusPanel.Relative')\n    }\n\n    get filament_used() {\n        return this.$store.state.printer.print_stats?.filament_used ?? 0\n    }\n\n    get current_file() {\n        return this.$store.state.printer.current_file ?? {}\n    }\n\n    get print_time() {\n        return this.$store.state.printer.print_stats?.print_duration ?? 0\n    }\n\n    get print_time_total() {\n        return this.$store.state.printer.print_stats?.total_duration ?? 0\n    }\n\n    get printPercent() {\n        return Math.round(this.$store.getters['printer/getPrintPercent'] * 100)\n    }\n\n    get printerStateOutput() {\n        if (this.printer_state !== '') {\n            const idle_timeout_state = this.$store.state.printer.idle_timeout?.state\n\n            if (\n                this.printer_state === 'standby' &&\n                idle_timeout_state === 'Printing'\n            ) return 'Busy'\n\n            if (this.printer_state !== '' && ['paused', 'printing'].includes(this.printer_state)) {\n                return this.printPercent+'% '+this.printer_state.charAt(0).toUpperCase() + this.printer_state.slice(1)\n            }\n\n            return this.printer_state.charAt(0).toUpperCase() + this.printer_state.slice(1)\n        }\n\n        return this.$t('Panels.StatusPanel.Unknown')\n    }\n\n    get toolbarButtons() {\n        return [\n            {\n                text: this.$t('Panels.StatusPanel.PausePrint'),\n                color: 'warning',\n                icon: 'mdi-pause',\n                loadingName: 'statusPrintPause',\n                status: ['printing'],\n                click: this.btnPauseJob\n            }, {\n                text: this.$t('Panels.StatusPanel.ResumePrint'),\n                color: 'success',\n                icon: 'mdi-play',\n                loadingName: 'statusPrintResume',\n                status: ['paused'],\n                click: this.btnResumeJob\n            }, {\n                text: this.$t('Panels.StatusPanel.CancelPrint'),\n                color: 'error',\n                icon: 'mdi-stop',\n                loadingName: 'statusPrintCancel',\n                status: this.$store.state.gui.uiSettings.displayCancelPrint ? ['paused', 'printing'] : ['paused'],\n                click: this.btnCancelJob\n            }, {\n                text: this.$t('Panels.StatusPanel.ExcludeObject.ExcludeObject'),\n                color: 'warning',\n                icon: 'mdi-selection-remove',\n                loadingName: '',\n                status: this.printing_objects.length ? ['paused', 'printing'] : [],\n                click: this.btnExcludeObject\n            }, {\n                text: this.$t('Panels.StatusPanel.ClearPrintStats'),\n                color: 'primary',\n                icon: 'mdi-broom',\n                loadingName: 'statusPrintClear',\n                status: ['error', 'complete', 'cancelled'],\n                click: this.btnClearJob\n            }, {\n                text: this.$t('Panels.StatusPanel.ReprintJob'),\n                color: 'primary',\n                icon: 'mdi-printer',\n                loadingName: 'statusPrintReprint',\n                status: ['error', 'complete', 'cancelled'],\n                click: this.btnReprintJob\n            }\n        ]\n    }\n\n    get filteredToolbarButtons() {\n        return this.toolbarButtons.filter((button) => {\n            return button.status.includes(this.printer_state)\n        })\n    }\n\n    get live_velocity() {\n        return Math.abs(this.$store.state.printer.motion_report?.live_velocity?.toFixed(0)) ?? null\n    }\n\n    get live_extruder_velocity() {\n        const live_extruder_velocity = this.$store.state.printer.motion_report?.live_extruder_velocity ?? null\n        if (live_extruder_velocity === null) return null\n\n        return live_extruder_velocity > 0 ? live_extruder_velocity : 0\n    }\n\n    get live_flow() {\n        if (this.live_extruder_velocity === null) return null\n\n        const filamentCrossSection = Math.pow(this.filament_diameter / 2, 2) * Math.PI\n        const currentFlow = filamentCrossSection * this.live_extruder_velocity\n\n        return currentFlow?.toFixed(1)\n    }\n\n    get requested_speed() {\n        const requested_speed = this.$store.state.printer.gcode_move?.speed ?? 0\n        const speed_factor = this.$store.state.printer.gcode_move?.speed_factor ?? 0\n        const max_velocity = this.$store.state.printer.toolhead?.max_velocity ?? 0\n\n        const speed = requested_speed / 60 * speed_factor\n        if (speed > max_velocity) return max_velocity\n\n        return speed.toFixed(0)\n    }\n\n    get max_layers() {\n        if (\n            'first_layer_height' in this.current_file &&\n            'layer_height' in this.current_file &&\n            'object_height' in this.current_file\n        ) {\n            const max = Math.ceil((this.current_file.object_height - this.current_file.first_layer_height) / this.current_file.layer_height + 1)\n            return max > 0 ? max : 0\n        }\n\n        return 0\n    }\n\n    get current_layer() {\n        if (\n            this.print_time > 0 &&\n            'first_layer_height' in this.current_file &&\n            'layer_height' in this.current_file\n        ) {\n            let current_layer = Math.ceil((this.positions.gcode_z - this.current_file.first_layer_height) / this.current_file.layer_height + 1)\n            current_layer = (current_layer <= this.max_layers) ? current_layer : this.max_layers\n\n            return current_layer > 0 ? current_layer : 0\n        }\n\n        return 0\n    }\n\n    get estimated_time_file() {\n        return this.$store.getters['printer/getEstimatedTimeFile']\n    }\n\n    get estimated_time_filament() {\n        return this.$store.getters['printer/getEstimatedTimeFilament']\n    }\n\n    get estimated_time_slicer() {\n        return this.$store.getters['printer/getEstimatedTimeSlicer']\n    }\n\n    get estimated_time_avg() {\n        return this.$store.getters['printer/getEstimatedTimeAvg']\n    }\n\n    get eta() {\n        return this.$store.getters['printer/getEstimatedTimeETA']\n    }\n\n    get filament_diameter() {\n        return this.$store.state.printer.configfile?.settings?.extruder?.filament_diameter ?? 1.75\n    }\n\n    get thumbnailSmall() {\n        if (\n            'thumbnails' in this.current_file &&\n            this.current_file.thumbnails.length\n        ) {\n            const thumbnail = this.current_file.thumbnails.find((thumb: any) =>\n                thumb.width >= thumbnailSmallMin && thumb.width <= thumbnailSmallMax &&\n                thumb.height >= thumbnailSmallMin && thumb.height <= thumbnailSmallMax\n            )\n\n            if (thumbnail && 'relative_path' in thumbnail) {\n                let relative_url = ''\n                if (this.current_file.filename.lastIndexOf('/') !== -1) {\n                    relative_url = this.current_file.filename.substr(0, this.current_file.filename.lastIndexOf('/')+1)\n                }\n\n                if (thumbnail && 'relative_path' in thumbnail) {\n                    return `${this.apiUrl}/server/files/gcodes/${encodeURI(relative_url+thumbnail.relative_path)}?timestamp=${this.current_file.modified}`\n                }\n            }\n        }\n\n        return ''\n    }\n\n    get thumbnailBig() {\n        if (\n            'thumbnails' in this.current_file &&\n            this.current_file.thumbnails.length\n        ) {\n            const thumbnail = this.current_file.thumbnails.find((thumb: any) => thumb.width >= thumbnailBigMin)\n\n            if (thumbnail && 'relative_path' in thumbnail) {\n                let relative_url = ''\n                if (this.current_file.filename.lastIndexOf('/') !== -1) {\n                    relative_url = this.current_file.filename.substr(0, this.current_file.filename.lastIndexOf('/')+1)\n                }\n\n                if (thumbnail && 'relative_path' in thumbnail) {\n                    return `${this.apiUrl}/server/files/gcodes/${encodeURI(relative_url+thumbnail.relative_path)}?timestamp=${this.current_file.modified}`\n                }\n            }\n        }\n\n        return ''\n    }\n\n    get thumbnailBigHeight() {\n        if (\n            'thumbnails' in this.current_file &&\n            this.current_file.thumbnails.length\n        ) {\n            const thumbnail = this.current_file.thumbnails.find((thumb: any) => thumb.width >= thumbnailBigMin)\n\n            if (thumbnail && 'height' in thumbnail) {\n                return thumbnail.height\n            }\n        }\n\n        return 200\n    }\n\n    get thumbnailBigWidth() {\n        if (\n            'thumbnails' in this.current_file &&\n            this.current_file.thumbnails.length\n        ) {\n            const thumbnail = this.current_file.thumbnails.find((thumb: any) => thumb.width >= thumbnailBigMin)\n\n            if (thumbnail && 'width' in thumbnail) {\n                return thumbnail.width\n            }\n        }\n\n        return 300\n    }\n\n    get boolBigThumbnail() {\n        const setting = this.$store.state.gui.uiSettings.boolBigThumbnail ?? true\n\n        return this.current_filename && setting && this.thumbnailBig\n    }\n\n    get printing_objects() {\n        return this.$store.state.printer.exclude_object?.objects ?? []\n    }\n\n    updateShowDialog(newVal: boolean) {\n        this.boolShowObjects = newVal\n    }\n\n    btnPauseJob() {\n        this.$socket.emit('printer.print.pause', { }, { loading: 'statusPrintPause' })\n    }\n\n    btnResumeJob() {\n        this.$socket.emit('printer.print.resume', { }, { loading: 'statusPrintResume' })\n    }\n\n    btnExcludeObject() {\n        this.boolShowObjects = true\n    }\n\n    btnCancelJob() {\n        this.$socket.emit('printer.print.cancel', { }, { loading: 'statusPrintCancel' })\n    }\n\n    btnClearJob() {\n        this.$socket.emit('printer.gcode.script', {script: 'SDCARD_RESET_FILE'}, { loading: 'statusPrintClear' })\n    }\n\n    btnReprintJob() {\n        this.$socket.emit('printer.print.start', { filename: this.current_filename }, { loading: 'statusPrintReprint' })\n    }\n\n    clearDisplayMessage() {\n        this.$socket.emit('printer.gcode.script', {script: 'M117'})\n    }\n\n    formatTime(seconds: number) {\n        let h = Math.floor(seconds / 3600)\n        seconds %= 3600\n        let m = ('0' + Math.floor(seconds / 60)).slice(-2)\n        let s = ('0' + (seconds % 60).toFixed(0)).slice(-2)\n\n        return h+':'+m+':'+s\n    }\n\n    formatDateTime(msec: number) {\n        const date = new Date(msec)\n        const h = date.getHours() >= 10 ? date.getHours() : '0'+date.getHours()\n        const m = date.getMinutes() >= 10 ? date.getMinutes() : '0'+date.getMinutes()\n\n        const diff = msec - new Date().getTime()\n        return h+':'+m+((diff > 60*60*24*1000) ? '+'+Math.round(diff / (60*60*24*1000)) : '')\n    }\n\n    @Watch('live_flow')\n    live_flowChanged(newVal: number) {\n        if (newVal && this.maxFlow < newVal) this.maxFlow = newVal\n    }\n\n    focusBigThumbnail() {\n        if (this.$refs.bigThumbnail) {\n            const clientWidth = this.$refs.bigThumbnail.$el.clientWidth\n            const thumbnailWidth = this.thumbnailBigWidth\n            const factor = clientWidth / thumbnailWidth\n\n            this.$refs.bigThumbnail.$el.style.height = (this.thumbnailBigHeight * factor).toFixed()+'px'\n        }\n    }\n\n    blurBigThumbnail() {\n        if (this.$refs.bigThumbnail) {\n            this.$refs.bigThumbnail.$el.style.height = '200px'\n        }\n    }\n\n    onResize() {\n        const isFocused = (document.activeElement === this.$refs.bigThumbnail?.$el)\n        if (isFocused) this.focusBigThumbnail()\n    }\n\n    created() {\n        window.addEventListener('resize', this.onResize)\n    }\n\n    destroyed() {\n        window.removeEventListener('resize', this.onResize)\n    }\n}\n</script>"]}]}