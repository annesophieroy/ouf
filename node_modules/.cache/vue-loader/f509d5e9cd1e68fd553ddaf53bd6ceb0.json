{"remainingRequest":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/panels/ControlPanelCrossControl.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/src/components/panels/ControlPanelCrossControl.vue","mtime":1644874918000},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/babel-loader/lib/index.js","mtime":1645990067759},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/ts-loader/index.js","mtime":1645990068168},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/cache-loader/dist/cjs.js","mtime":1645990064605},{"path":"/Users/anne-sophieroy/Downloads/Mainsail/mainsail-maintenance/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1645990069130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQge0NvbXBvbmVudCwgTWl4aW5zfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJwppbXBvcnQgQmFzZU1peGluIGZyb20gJy4uL21peGlucy9iYXNlJwppbXBvcnQgQ29udHJvbE1peGluIGZyb20gJ0AvY29tcG9uZW50cy9taXhpbnMvY29udHJvbCcKCkBDb21wb25lbnQKZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbFBhbmVsQ3Jvc3NDb250cm9sIGV4dGVuZHMgTWl4aW5zKEJhc2VNaXhpbiwgQ29udHJvbE1peGluKSB7CiAgICBwcml2YXRlIGhvbWVDb2xzID0gNgoKICAgIGdldCBzZWxlY3RlZENyb3NzU3RlcCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZ3VpLmNvbnRyb2wuc2VsZWN0ZWRDcm9zc1N0ZXAKICAgIH0KCiAgICBzZXQgc2VsZWN0ZWRDcm9zc1N0ZXAobmV3VmFsKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2d1aS9zYXZlU2V0dGluZycsIHsgbmFtZTogJ2NvbnRyb2wuc2VsZWN0ZWRDcm9zc1N0ZXAnLCB2YWx1ZTogbmV3VmFsIH0pCiAgICB9CgogICAgZ2V0IHJldmVyc2VYKCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5ndWkuY29udHJvbC5yZXZlcnNlWAogICAgfQoKICAgIGdldCByZXZlcnNlWSgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZ3VpLmNvbnRyb2wucmV2ZXJzZVkKICAgIH0KCiAgICBnZXQgcmV2ZXJzZVooKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmd1aS5jb250cm9sLnJldmVyc2VaCiAgICB9CgogICAgZ2V0IHN0ZXBzQWxsKCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5ndWkuY29udHJvbD8uc3RlcHNBbGwgPz8gW10KICAgIH0KCiAgICBnZXQgc3RlcHNSZXZlcnNlZCgpIHsKICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KFsKICAgICAgICAgICAgLi4uKHRoaXMuc3RlcHNBbGwgPz8gW10pLAogICAgICAgIF0pKS5zb3J0KChhLCBiKSA9PiBhLWIpCiAgICB9CgogICAgb25SZXNpemUoKSB7CiAgICAgICAgdGhpcy5ob21lQ29scyA9IHdpbmRvdy5zY3JlZW4ud2lkdGggPCAzNjAgPyAxMiA6IDYKICAgIH0KCiAgICBjcmVhdGVkKCkgewogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplKQogICAgfQoKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPCAzMzApIHsKICAgICAgICAgICAgdGhpcy5ob21lQ29scyA9IDEyCiAgICAgICAgfQogICAgfQoKICAgIGRlc3Ryb3llZCgpIHsKICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZSkKICAgIH0KfQo="},{"version":3,"sources":["ControlPanelCrossControl.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0KA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ControlPanelCrossControl.vue","sourceRoot":"src/components/panels","sourcesContent":["<style lang=\"scss\" scoped>\n\n.btnMinWidthAuto {\n    min-width: auto !important;\n}\n\n.steps {\n    width: 100%;\n    > div {\n        width: 100%;\n        display: flex;\n        > button {\n            flex-grow: 1;\n        }\n    }\n}\n</style>\n\n<template>\n    <div>\n        <v-row>\n            <v-col :cols=\"homeCols\">\n                <v-row dense class=\"mb-1\">\n                    <v-col cols=\"3\"></v-col>\n                    <v-col cols=\"3\">\n                        <v-btn class=\"btnMinWidthAuto fill-width\"\n                               :disabled=\"selectedCrossStep === null || selectedCrossStep === undefined\"\n                               @click=\"doSendMove('Y'+(reverseY ? '-' : '+')+stepsReversed[selectedCrossStep], feedrateXY)\"\n                        >\n                            <v-icon>mdi-chevron-up</v-icon>\n                        </v-btn>\n                    </v-col>\n                    <v-col cols=\"3\"></v-col>\n                    <v-col cols=\"3\">\n                        <v-btn class=\"btnMinWidthAuto fill-width\"\n                               :disabled=\"selectedCrossStep === null || selectedCrossStep === undefined\"\n                               @click=\"doSendMove('Z'+(reverseZ ? '-' : '+')+stepsReversed[selectedCrossStep], feedrateZ)\"\n                        >\n                            <v-icon>mdi-chevron-up</v-icon>\n                        </v-btn>\n                    </v-col>\n                </v-row>\n                <v-row dense>\n                    <v-col cols=\"3\" class=\"p-rel\">\n                        <v-btn class=\"btnMinWidthAuto fill-width p-abs\" style=\"top: -50%; width: calc(100% - 8px);\"\n                               :disabled=\"selectedCrossStep === null || selectedCrossStep === undefined\"\n                               @click=\"doSendMove('X'+(!reverseX ? '-' : '+')+stepsReversed[selectedCrossStep], feedrateXY)\"\n                        >\n                            <v-icon>mdi-chevron-left</v-icon>\n                        </v-btn>\n                    </v-col>\n                    <v-col cols=\"3\">\n                        <v-btn class=\"btnMinWidthAuto fill-width\"\n                               :disabled=\"selectedCrossStep === null || selectedCrossStep === undefined\"\n                               @click=\"doSendMove('Y'+(!reverseY ? '-' : '+')+stepsReversed[selectedCrossStep], feedrateXY)\"\n                        >\n                            <v-icon>mdi-chevron-down</v-icon>\n                        </v-btn>\n                    </v-col>\n                    <v-col cols=\"3\" class=\"p-rel\">\n                        <v-btn class=\"btnMinWidthAuto fill-width p-abs\" style=\"top: -50%; width: calc(100% - 8px);\"\n                               :disabled=\"selectedCrossStep === null || selectedCrossStep === undefined\"\n                               @click=\"doSendMove('X'+(reverseX ? '-' : '+')+stepsReversed[selectedCrossStep], feedrateXY)\"\n                        >\n                            <v-icon>mdi-chevron-right</v-icon>\n                        </v-btn>\n                    </v-col>\n                    <v-col cols=\"3\">\n                        <v-btn class=\"btnMinWidthAuto fill-width\"\n                               :disabled=\"selectedCrossStep === null || selectedCrossStep === undefined\"\n                               @click=\"doSendMove('Z'+(!reverseZ ? '-' : '+')+stepsReversed[selectedCrossStep], feedrateZ)\"\n                        >\n                            <v-icon>mdi-chevron-down</v-icon>\n                        </v-btn>\n                    </v-col>\n                </v-row>\n            </v-col>\n            <v-col :cols=\"homeCols\" class=\"d-flex align-center\">\n                <div class=\"flex-grow-1\" style=\"border-radius: 4px; overflow: hidden;\">\n                    <v-row dense class=\"\" style=\"margin-bottom: -2px!important;\">\n                        <v-col :cols=\"existsQGL || existsZtilt ? 6 : 12\">\n                            <v-btn class=\"w-100\"\n                                   tile\n                                   @click=\"doHome\"\n                                   height=\"30\"\n                                   :loading=\"loadings.includes('homeAll')\"\n                                   :color=\"homedAxes.includes('xyz') ? 'primary' : 'warning'\"\n                            >\n                                <div class=\"d-flex align-center\">\n                                    <v-icon>mdi-home</v-icon>\n                                    <span class=\"ml-1\">{{ $t('Panels.ControlPanel.ALL') }}</span>\n                                </div>\n                            </v-btn>\n                        </v-col>\n                        <v-col v-if=\"existsQGL || existsZtilt\" cols=\"6\" class=\"d-flex\">\n                            <v-btn v-if=\"existsQGL\"\n                                   class=\"btnMinWidthAuto flex-grow-1 px-0\"\n                                   tile\n                                   dense\n                                   :color=\"colorQuadGantryLevel\"\n                                   height=\"30\"\n                                   :loading=\"loadings.includes('qgl')\"\n                                   @click=\"doQGL\"\n                            >{{ $t('Panels.ControlPanel.QGL') }}</v-btn>\n                            <v-btn v-if=\"existsZtilt\"\n                                   class=\"btnMinWidthAuto flex-grow-1 px-0\"\n                                   tile\n                                   dense\n                                   :color=\"colorZTilt\"\n                                   height=\"30\"\n                                   :loading=\"loadings.includes('zTilt')\"\n                                   @click=\"doZtilt\"\n                            >{{ $t('Panels.ControlPanel.ZTilt') }}</v-btn>\n                        </v-col>\n                    </v-row>\n                    <v-row dense class=\"\">\n                        <v-col cols=\"4\" class=\"flex-grow-1\">\n                            <v-btn class=\"btnMinWidthAuto w-100\"\n                                   tile\n                                   height=\"30\"\n                                   :loading=\"loadings.includes('homeX')\"\n                                   :color=\"homedAxes.includes('x') ? 'primary' : 'warning'\"\n                                   @click=\"doHomeX\"\n                            >\n                                {{ $t('Panels.ControlPanel.X') }}\n                            </v-btn>\n                        </v-col>\n                        <v-col cols=\"4\" class=\"flex-grow-1\">\n                            <v-btn class=\"btnMinWidthAuto w-100\"\n                                   tile\n                                   height=\"30\"\n                                   :loading=\"loadings.includes('homeY')\"\n                                   :color=\"homedAxes.includes('y') ? 'primary' : 'warning'\"\n                                   @click=\"doHomeY\"\n                            >\n                                {{ $t('Panels.ControlPanel.Y') }}\n                            </v-btn>\n                        </v-col>\n                        <v-col cols=\"4\" class=\"flex-grow-1\">\n                            <v-btn class=\"btnMinWidthAuto w-100\"\n                                   tile\n                                   height=\"30\"\n                                   :loading=\"loadings.includes('homeZ')\"\n                                   :color=\"homedAxes.includes('z') ? 'primary' : 'warning'\"\n                                   @click=\"doHomeZ\"\n                            >\n                                {{ $t('Panels.ControlPanel.Z') }}\n                            </v-btn>\n                        </v-col>\n                    </v-row>\n                </div>\n            </v-col>\n        </v-row>\n        <v-row no-gutters class=\"mt-3\">\n            <v-col class=\"col-12\">\n                <v-btn-toggle v-if=\"stepsReversed.length > 0\" dense no-gutters style=\"flex-wrap: nowrap; width: 100%;\" v-model=\"selectedCrossStep\" :key=\"'all-steps-'+stepsReversed.join('_')\">\n                    <v-btn dense class=\"btnMinWidthAuto flex-grow-1 px-0\" v-for=\"step of stepsReversed\" :key=\"'step-'+step\">\n                        <span class=\"body-2\">{{ step }}</span>\n                    </v-btn>\n                </v-btn-toggle>\n                <div class=\"font-weight-bold warning rounded pa-2\" v-else>\n                    {{ $t('Panels.ControlPanel.PleaseConfigureSteps') }}<br>\n                    <router-link style=\"color: white;\" to=\"/settings/interface\">{{ $t('Panels.ControlPanel.SettingsInterfaceControl') }}</router-link>\n                </div>\n            </v-col>\n        </v-row>\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport {Component, Mixins} from 'vue-property-decorator'\nimport BaseMixin from '../mixins/base'\nimport ControlMixin from '@/components/mixins/control'\n\n@Component\nexport default class ControlPanelCrossControl extends Mixins(BaseMixin, ControlMixin) {\n    private homeCols = 6\n\n    get selectedCrossStep() {\n        return this.$store.state.gui.control.selectedCrossStep\n    }\n\n    set selectedCrossStep(newVal) {\n        this.$store.dispatch('gui/saveSetting', { name: 'control.selectedCrossStep', value: newVal })\n    }\n\n    get reverseX() {\n        return this.$store.state.gui.control.reverseX\n    }\n\n    get reverseY() {\n        return this.$store.state.gui.control.reverseY\n    }\n\n    get reverseZ() {\n        return this.$store.state.gui.control.reverseZ\n    }\n\n    get stepsAll() {\n        return this.$store.state.gui.control?.stepsAll ?? []\n    }\n\n    get stepsReversed() {\n        return Array.from(new Set([\n            ...(this.stepsAll ?? []),\n        ])).sort((a, b) => a-b)\n    }\n\n    onResize() {\n        this.homeCols = window.screen.width < 360 ? 12 : 6\n    }\n\n    created() {\n        window.addEventListener('resize', this.onResize)\n    }\n\n    mounted() {\n        if (window.screen.width < 330) {\n            this.homeCols = 12\n        }\n    }\n\n    destroyed() {\n        window.removeEventListener('resize', this.onResize)\n    }\n}\n</script>\n"]}]}